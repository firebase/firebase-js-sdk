## API Report File for "@firebase/ai"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AppCheckTokenResult } from '@firebase/app-check-interop-types';
import { FirebaseApp } from '@firebase/app';
import { FirebaseAuthTokenData } from '@firebase/auth-interop-types';
import { FirebaseError } from '@firebase/util';

// @public
export interface AI {
    app: FirebaseApp;
    backend: Backend;
    // @deprecated (undocumented)
    location: string;
}

// @public
export class AIError extends FirebaseError {
    constructor(code: AIErrorCode, message: string, customErrorData?: CustomErrorData | undefined);
    // (undocumented)
    readonly code: AIErrorCode;
    // (undocumented)
    readonly customErrorData?: CustomErrorData | undefined;
}

// @public
const enum AIErrorCode {
    API_NOT_ENABLED = "api-not-enabled",
    ERROR = "error",
    FETCH_ERROR = "fetch-error",
    INVALID_CONTENT = "invalid-content",
    INVALID_SCHEMA = "invalid-schema",
    NO_API_KEY = "no-api-key",
    NO_APP_ID = "no-app-id",
    NO_MODEL = "no-model",
    NO_PROJECT_ID = "no-project-id",
    PARSE_FAILED = "parse-failed",
    REQUEST_ERROR = "request-error",
    RESPONSE_ERROR = "response-error",
    UNSUPPORTED = "unsupported"
}

export { AIErrorCode }

export { AIErrorCode as VertexAIErrorCode }

// @public
export abstract class AIModel {
    // @internal
    protected constructor(ai: AI, modelName: string);
    // Warning: (ae-forgotten-export) The symbol "ApiSettings" needs to be exported by the entry point index.d.ts
    //
    // @internal (undocumented)
    protected _apiSettings: ApiSettings;
    readonly model: string;
    // @internal
    static normalizeModelName(modelName: string, backendType: BackendType): string;
    }

// @public
export interface AIOptions {
    backend: Backend;
}

// @public
export class ArraySchema extends Schema {
    constructor(schemaParams: SchemaParams, items: TypedSchema);
    // (undocumented)
    items: TypedSchema;
    // @internal (undocumented)
    toJSON(): SchemaRequest;
}

// @public
export abstract class Backend {
    protected constructor(type: BackendType);
    readonly backendType: BackendType;
}

// @public
export const BackendType: {
    readonly VERTEX_AI: "VERTEX_AI";
    readonly GOOGLE_AI: "GOOGLE_AI";
};

// @public
export type BackendType = (typeof BackendType)[keyof typeof BackendType];

// @public
export interface BaseParams {
    // (undocumented)
    generationConfig?: GenerationConfig;
    // (undocumented)
    safetySettings?: SafetySetting[];
}

// @public
export enum BlockReason {
    BLOCKLIST = "BLOCKLIST",
    OTHER = "OTHER",
    PROHIBITED_CONTENT = "PROHIBITED_CONTENT",
    SAFETY = "SAFETY"
}

// @public
export class BooleanSchema extends Schema {
    constructor(schemaParams?: SchemaParams);
}

// @public
export class ChatSession {
    constructor(apiSettings: ApiSettings, model: string, params?: StartChatParams | undefined, requestOptions?: RequestOptions | undefined);
    getHistory(): Promise<Content[]>;
    // (undocumented)
    model: string;
    // (undocumented)
    params?: StartChatParams | undefined;
    // (undocumented)
    requestOptions?: RequestOptions | undefined;
    sendMessage(request: string | Array<string | Part>): Promise<GenerateContentResult>;
    sendMessageStream(request: string | Array<string | Part>): Promise<GenerateContentStreamResult>;
    }

// @public
export interface Citation {
    // (undocumented)
    endIndex?: number;
    // (undocumented)
    license?: string;
    publicationDate?: Date_2;
    // (undocumented)
    startIndex?: number;
    title?: string;
    // (undocumented)
    uri?: string;
}

// @public
export interface CitationMetadata {
    // (undocumented)
    citations: Citation[];
}

// @public
export interface Content {
    // (undocumented)
    parts: Part[];
    // (undocumented)
    role: Role;
}

// @public
export interface CountTokensRequest {
    // (undocumented)
    contents: Content[];
    generationConfig?: GenerationConfig;
    systemInstruction?: string | Part | Content;
    tools?: Tool[];
}

// @public
export interface CountTokensResponse {
    promptTokensDetails?: ModalityTokenCount[];
    totalBillableCharacters?: number;
    totalTokens: number;
}

// @public
export interface CustomErrorData {
    errorDetails?: ErrorDetails[];
    response?: GenerateContentResponse;
    status?: number;
    statusText?: string;
}

// @public
interface Date_2 {
    // (undocumented)
    day: number;
    // (undocumented)
    month: number;
    // (undocumented)
    year: number;
}

export { Date_2 as Date }

// @public
export interface EnhancedGenerateContentResponse extends GenerateContentResponse {
    // (undocumented)
    functionCalls: () => FunctionCall[] | undefined;
    inlineDataParts: () => InlineDataPart[] | undefined;
    text: () => string;
}

// @public
export interface ErrorDetails {
    // (undocumented)
    '@type'?: string;
    [key: string]: unknown;
    domain?: string;
    metadata?: Record<string, unknown>;
    reason?: string;
}

// @public
export interface FileData {
    // (undocumented)
    fileUri: string;
    // (undocumented)
    mimeType: string;
}

// @public
export interface FileDataPart {
    // (undocumented)
    fileData: FileData;
    // (undocumented)
    functionCall?: never;
    // (undocumented)
    functionResponse?: never;
    // (undocumented)
    inlineData?: never;
    // (undocumented)
    text?: never;
}

// @public
export enum FinishReason {
    BLOCKLIST = "BLOCKLIST",
    MALFORMED_FUNCTION_CALL = "MALFORMED_FUNCTION_CALL",
    MAX_TOKENS = "MAX_TOKENS",
    OTHER = "OTHER",
    PROHIBITED_CONTENT = "PROHIBITED_CONTENT",
    RECITATION = "RECITATION",
    SAFETY = "SAFETY",
    SPII = "SPII",
    STOP = "STOP"
}

// @public
export interface FunctionCall {
    // (undocumented)
    args: object;
    // (undocumented)
    name: string;
}

// @public (undocumented)
export interface FunctionCallingConfig {
    // (undocumented)
    allowedFunctionNames?: string[];
    // (undocumented)
    mode?: FunctionCallingMode;
}

// @public (undocumented)
export enum FunctionCallingMode {
    ANY = "ANY",
    AUTO = "AUTO",
    NONE = "NONE"
}

// @public
export interface FunctionCallPart {
    // (undocumented)
    functionCall: FunctionCall;
    // (undocumented)
    functionResponse?: never;
    // (undocumented)
    inlineData?: never;
    // (undocumented)
    text?: never;
}

// @public
export interface FunctionDeclaration {
    description: string;
    name: string;
    parameters?: ObjectSchemaInterface;
}

// @public
export interface FunctionDeclarationsTool {
    functionDeclarations?: FunctionDeclaration[];
}

// @public
export interface FunctionResponse {
    // (undocumented)
    name: string;
    // (undocumented)
    response: object;
}

// @public
export interface FunctionResponsePart {
    // (undocumented)
    functionCall?: never;
    // (undocumented)
    functionResponse: FunctionResponse;
    // (undocumented)
    inlineData?: never;
    // (undocumented)
    text?: never;
}

// @public
export interface GenerateContentCandidate {
    // (undocumented)
    citationMetadata?: CitationMetadata;
    // (undocumented)
    content: Content;
    // (undocumented)
    finishMessage?: string;
    // (undocumented)
    finishReason?: FinishReason;
    // (undocumented)
    groundingMetadata?: GroundingMetadata;
    // (undocumented)
    index: number;
    // (undocumented)
    safetyRatings?: SafetyRating[];
}

// @public
export interface GenerateContentRequest extends BaseParams {
    // (undocumented)
    contents: Content[];
    // (undocumented)
    systemInstruction?: string | Part | Content;
    // (undocumented)
    toolConfig?: ToolConfig;
    // (undocumented)
    tools?: Tool[];
}

// @public
export interface GenerateContentResponse {
    // (undocumented)
    candidates?: GenerateContentCandidate[];
    // (undocumented)
    promptFeedback?: PromptFeedback;
    // (undocumented)
    usageMetadata?: UsageMetadata;
}

// @public
export interface GenerateContentResult {
    // (undocumented)
    response: EnhancedGenerateContentResponse;
}

// @public
export interface GenerateContentStreamResult {
    // (undocumented)
    response: Promise<EnhancedGenerateContentResponse>;
    // (undocumented)
    stream: AsyncGenerator<EnhancedGenerateContentResponse>;
}

// @public
export interface GenerationConfig {
    // (undocumented)
    candidateCount?: number;
    // (undocumented)
    frequencyPenalty?: number;
    // (undocumented)
    maxOutputTokens?: number;
    // (undocumented)
    presencePenalty?: number;
    responseMimeType?: string;
    // @beta
    responseModalities?: ResponseModality[];
    responseSchema?: TypedSchema | SchemaRequest;
    // (undocumented)
    stopSequences?: string[];
    // (undocumented)
    temperature?: number;
    // (undocumented)
    topK?: number;
    // (undocumented)
    topP?: number;
}

// @public
export interface GenerativeContentBlob {
    data: string;
    // (undocumented)
    mimeType: string;
}

// @public
export class GenerativeModel extends AIModel {
    constructor(ai: AI, modelParams: ModelParams, requestOptions?: RequestOptions);
    countTokens(request: CountTokensRequest | string | Array<string | Part>): Promise<CountTokensResponse>;
    generateContent(request: GenerateContentRequest | string | Array<string | Part>): Promise<GenerateContentResult>;
    generateContentStream(request: GenerateContentRequest | string | Array<string | Part>): Promise<GenerateContentStreamResult>;
    // (undocumented)
    generationConfig: GenerationConfig;
    // (undocumented)
    requestOptions?: RequestOptions;
    // (undocumented)
    safetySettings: SafetySetting[];
    startChat(startChatParams?: StartChatParams): ChatSession;
    // (undocumented)
    systemInstruction?: Content;
    // (undocumented)
    toolConfig?: ToolConfig;
    // (undocumented)
    tools?: Tool[];
}

// @public
export function getAI(app?: FirebaseApp, options?: AIOptions): AI;

// @public
export function getGenerativeModel(ai: AI, modelParams: ModelParams, requestOptions?: RequestOptions): GenerativeModel;

// @beta
export function getImagenModel(ai: AI, modelParams: ImagenModelParams, requestOptions?: RequestOptions): ImagenModel;

// @public @deprecated (undocumented)
export function getVertexAI(app?: FirebaseApp, options?: VertexAIOptions): VertexAI;

// @public
export class GoogleAIBackend extends Backend {
    constructor();
}

// Warning: (ae-internal-missing-underscore) The name "GoogleAICitationMetadata" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface GoogleAICitationMetadata {
    // (undocumented)
    citationSources: Citation[];
}

// Warning: (ae-internal-missing-underscore) The name "GoogleAICountTokensRequest" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface GoogleAICountTokensRequest {
    // (undocumented)
    generateContentRequest: {
        model: string;
        contents: Content[];
        systemInstruction?: string | Part | Content;
        tools?: Tool[];
        generationConfig?: GenerationConfig;
    };
}

// Warning: (ae-internal-missing-underscore) The name "GoogleAIGenerateContentCandidate" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface GoogleAIGenerateContentCandidate {
    // (undocumented)
    citationMetadata?: GoogleAICitationMetadata;
    // (undocumented)
    content: Content;
    // (undocumented)
    finishMessage?: string;
    // (undocumented)
    finishReason?: FinishReason;
    // (undocumented)
    groundingMetadata?: GroundingMetadata;
    // (undocumented)
    index: number;
    // (undocumented)
    safetyRatings?: SafetyRating[];
}

// Warning: (ae-internal-missing-underscore) The name "GoogleAIGenerateContentResponse" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface GoogleAIGenerateContentResponse {
    // (undocumented)
    candidates?: GoogleAIGenerateContentCandidate[];
    // (undocumented)
    promptFeedback?: PromptFeedback;
    // (undocumented)
    usageMetadata?: UsageMetadata;
}

// @public @deprecated (undocumented)
export interface GroundingAttribution {
    // (undocumented)
    confidenceScore?: number;
    // (undocumented)
    retrievedContext?: RetrievedContextAttribution;
    // (undocumented)
    segment: Segment;
    // (undocumented)
    web?: WebAttribution;
}

// @public
export interface GroundingMetadata {
    // @deprecated (undocumented)
    groundingAttributions: GroundingAttribution[];
    // (undocumented)
    retrievalQueries?: string[];
    // (undocumented)
    webSearchQueries?: string[];
}

// @public
export enum HarmBlockMethod {
    PROBABILITY = "PROBABILITY",
    SEVERITY = "SEVERITY"
}

// @public
export enum HarmBlockThreshold {
    BLOCK_LOW_AND_ABOVE = "BLOCK_LOW_AND_ABOVE",
    BLOCK_MEDIUM_AND_ABOVE = "BLOCK_MEDIUM_AND_ABOVE",
    BLOCK_NONE = "BLOCK_NONE",
    BLOCK_ONLY_HIGH = "BLOCK_ONLY_HIGH"
}

// @public
export enum HarmCategory {
    // (undocumented)
    HARM_CATEGORY_DANGEROUS_CONTENT = "HARM_CATEGORY_DANGEROUS_CONTENT",
    // (undocumented)
    HARM_CATEGORY_HARASSMENT = "HARM_CATEGORY_HARASSMENT",
    // (undocumented)
    HARM_CATEGORY_HATE_SPEECH = "HARM_CATEGORY_HATE_SPEECH",
    // (undocumented)
    HARM_CATEGORY_SEXUALLY_EXPLICIT = "HARM_CATEGORY_SEXUALLY_EXPLICIT"
}

// @public
export enum HarmProbability {
    HIGH = "HIGH",
    LOW = "LOW",
    MEDIUM = "MEDIUM",
    NEGLIGIBLE = "NEGLIGIBLE"
}

// @public
export enum HarmSeverity {
    HARM_SEVERITY_HIGH = "HARM_SEVERITY_HIGH",
    HARM_SEVERITY_LOW = "HARM_SEVERITY_LOW",
    HARM_SEVERITY_MEDIUM = "HARM_SEVERITY_MEDIUM",
    HARM_SEVERITY_NEGLIGIBLE = "HARM_SEVERITY_NEGLIGIBLE",
    HARM_SEVERITY_UNSUPPORTED = "HARM_SEVERITY_UNSUPPORTED"
}

// @beta
export enum ImagenAspectRatio {
    LANDSCAPE_16x9 = "16:9",
    LANDSCAPE_3x4 = "3:4",
    PORTRAIT_4x3 = "4:3",
    PORTRAIT_9x16 = "9:16",
    SQUARE = "1:1"
}

// @public
export interface ImagenGCSImage {
    gcsURI: string;
    mimeType: string;
}

// @beta
export interface ImagenGenerationConfig {
    addWatermark?: boolean;
    aspectRatio?: ImagenAspectRatio;
    imageFormat?: ImagenImageFormat;
    negativePrompt?: string;
    numberOfImages?: number;
}

// @beta
export interface ImagenGenerationResponse<T extends ImagenInlineImage | ImagenGCSImage> {
    filteredReason?: string;
    images: T[];
}

// @beta
export class ImagenImageFormat {
    compressionQuality?: number;
    static jpeg(compressionQuality?: number): ImagenImageFormat;
    mimeType: string;
    static png(): ImagenImageFormat;
}

// @beta
export interface ImagenInlineImage {
    bytesBase64Encoded: string;
    mimeType: string;
}

// @beta
export class ImagenModel extends AIModel {
    constructor(ai: AI, modelParams: ImagenModelParams, requestOptions?: RequestOptions | undefined);
    generateImages(prompt: string): Promise<ImagenGenerationResponse<ImagenInlineImage>>;
    // @internal
    generateImagesGCS(prompt: string, gcsURI: string): Promise<ImagenGenerationResponse<ImagenGCSImage>>;
    generationConfig?: ImagenGenerationConfig;
    // (undocumented)
    requestOptions?: RequestOptions | undefined;
    safetySettings?: ImagenSafetySettings;
}

// @beta
export interface ImagenModelParams {
    generationConfig?: ImagenGenerationConfig;
    model: string;
    safetySettings?: ImagenSafetySettings;
}

// @beta
export enum ImagenPersonFilterLevel {
    ALLOW_ADULT = "allow_adult",
    ALLOW_ALL = "allow_all",
    BLOCK_ALL = "dont_allow"
}

// @beta
export enum ImagenSafetyFilterLevel {
    BLOCK_LOW_AND_ABOVE = "block_low_and_above",
    BLOCK_MEDIUM_AND_ABOVE = "block_medium_and_above",
    BLOCK_NONE = "block_none",
    BLOCK_ONLY_HIGH = "block_only_high"
}

// @beta
export interface ImagenSafetySettings {
    personFilterLevel?: ImagenPersonFilterLevel;
    safetyFilterLevel?: ImagenSafetyFilterLevel;
}

// @public
export interface InlineDataPart {
    // (undocumented)
    functionCall?: never;
    // (undocumented)
    functionResponse?: never;
    // (undocumented)
    inlineData: GenerativeContentBlob;
    // (undocumented)
    text?: never;
    videoMetadata?: VideoMetadata;
}

// @public
export class IntegerSchema extends Schema {
    constructor(schemaParams?: SchemaParams);
}

// @public
export enum Modality {
    AUDIO = "AUDIO",
    DOCUMENT = "DOCUMENT",
    IMAGE = "IMAGE",
    MODALITY_UNSPECIFIED = "MODALITY_UNSPECIFIED",
    TEXT = "TEXT",
    VIDEO = "VIDEO"
}

// @public
export interface ModalityTokenCount {
    modality: Modality;
    tokenCount: number;
}

// @public
export interface ModelParams extends BaseParams {
    // (undocumented)
    model: string;
    // (undocumented)
    systemInstruction?: string | Part | Content;
    // (undocumented)
    toolConfig?: ToolConfig;
    // (undocumented)
    tools?: Tool[];
}

// @public
export class NumberSchema extends Schema {
    constructor(schemaParams?: SchemaParams);
}

// @public
export class ObjectSchema extends Schema {
    constructor(schemaParams: SchemaParams, properties: {
        [k: string]: TypedSchema;
    }, optionalProperties?: string[]);
    // (undocumented)
    optionalProperties: string[];
    // (undocumented)
    properties: {
        [k: string]: TypedSchema;
    };
    // @internal (undocumented)
    toJSON(): SchemaRequest;
}

// @public
export interface ObjectSchemaInterface extends SchemaInterface {
    // (undocumented)
    optionalProperties?: string[];
    // (undocumented)
    type: SchemaType.OBJECT;
}

// @public
export type Part = TextPart | InlineDataPart | FunctionCallPart | FunctionResponsePart | FileDataPart;

// @public
export const POSSIBLE_ROLES: readonly ["user", "model", "function", "system"];

// @public
export interface PromptFeedback {
    // (undocumented)
    blockReason?: BlockReason;
    blockReasonMessage?: string;
    // (undocumented)
    safetyRatings: SafetyRating[];
}

// @public
export interface RequestOptions {
    baseUrl?: string;
    timeout?: number;
}

// @beta
export const ResponseModality: {
    readonly TEXT: "TEXT";
    readonly IMAGE: "IMAGE";
};

// @beta
export type ResponseModality = (typeof ResponseModality)[keyof typeof ResponseModality];

// @public (undocumented)
export interface RetrievedContextAttribution {
    // (undocumented)
    title: string;
    // (undocumented)
    uri: string;
}

// @public
export type Role = (typeof POSSIBLE_ROLES)[number];

// @public
export interface SafetyRating {
    // (undocumented)
    blocked: boolean;
    // (undocumented)
    category: HarmCategory;
    // (undocumented)
    probability: HarmProbability;
    probabilityScore: number;
    severity: HarmSeverity;
    severityScore: number;
}

// @public
export interface SafetySetting {
    // (undocumented)
    category: HarmCategory;
    method?: HarmBlockMethod;
    // (undocumented)
    threshold: HarmBlockThreshold;
}

// @public
export abstract class Schema implements SchemaInterface {
    constructor(schemaParams: SchemaInterface);
    [key: string]: unknown;
    // (undocumented)
    static array(arrayParams: SchemaParams & {
        items: Schema;
    }): ArraySchema;
    // (undocumented)
    static boolean(booleanParams?: SchemaParams): BooleanSchema;
    description?: string;
    // (undocumented)
    static enumString(stringParams: SchemaParams & {
        enum: string[];
    }): StringSchema;
    example?: unknown;
    format?: string;
    // (undocumented)
    static integer(integerParams?: SchemaParams): IntegerSchema;
    nullable: boolean;
    // (undocumented)
    static number(numberParams?: SchemaParams): NumberSchema;
    // (undocumented)
    static object(objectParams: SchemaParams & {
        properties: {
            [k: string]: Schema;
        };
        optionalProperties?: string[];
    }): ObjectSchema;
    // (undocumented)
    static string(stringParams?: SchemaParams): StringSchema;
    // @internal
    toJSON(): SchemaRequest;
    type: SchemaType;
}

// @public
export interface SchemaInterface extends SchemaShared<SchemaInterface> {
    type: SchemaType;
}

// @public
export interface SchemaParams extends SchemaShared<SchemaInterface> {
}

// @public
export interface SchemaRequest extends SchemaShared<SchemaRequest> {
    required?: string[];
    type: SchemaType;
}

// @public
export interface SchemaShared<T> {
    // (undocumented)
    [key: string]: unknown;
    description?: string;
    enum?: string[];
    example?: unknown;
    format?: string;
    items?: T;
    nullable?: boolean;
    properties?: {
        [k: string]: T;
    };
}

// @public
export enum SchemaType {
    ARRAY = "array",
    BOOLEAN = "boolean",
    INTEGER = "integer",
    NUMBER = "number",
    OBJECT = "object",
    STRING = "string"
}

// @public (undocumented)
export interface Segment {
    // (undocumented)
    endIndex: number;
    // (undocumented)
    partIndex: number;
    // (undocumented)
    startIndex: number;
}

// @public
export interface StartChatParams extends BaseParams {
    // (undocumented)
    history?: Content[];
    // (undocumented)
    systemInstruction?: string | Part | Content;
    // (undocumented)
    toolConfig?: ToolConfig;
    // (undocumented)
    tools?: Tool[];
}

// @public
export class StringSchema extends Schema {
    constructor(schemaParams?: SchemaParams, enumValues?: string[]);
    // (undocumented)
    enum?: string[];
    // @internal (undocumented)
    toJSON(): SchemaRequest;
}

// @public
export interface TextPart {
    // (undocumented)
    functionCall?: never;
    // (undocumented)
    functionResponse?: never;
    // (undocumented)
    inlineData?: never;
    // (undocumented)
    text: string;
}

// @public
export type Tool = FunctionDeclarationsTool;

// @public
export interface ToolConfig {
    // (undocumented)
    functionCallingConfig?: FunctionCallingConfig;
}

// @public
export type TypedSchema = IntegerSchema | NumberSchema | StringSchema | BooleanSchema | ObjectSchema | ArraySchema;

// @public
export interface UsageMetadata {
    // (undocumented)
    candidatesTokenCount: number;
    // (undocumented)
    candidatesTokensDetails?: ModalityTokenCount[];
    // (undocumented)
    promptTokenCount: number;
    // (undocumented)
    promptTokensDetails?: ModalityTokenCount[];
    // (undocumented)
    totalTokenCount: number;
}

// @public @deprecated (undocumented)
export type VertexAI = AI;

// @public
export class VertexAIBackend extends Backend {
    constructor(location?: string);
    readonly location: string;
}

// @public @deprecated (undocumented)
export const VertexAIError: typeof AIError;

// @public @deprecated (undocumented)
export const VertexAIModel: typeof AIModel;

// @public
export interface VertexAIOptions {
    // (undocumented)
    location?: string;
}

// @public
export interface VideoMetadata {
    endOffset: string;
    startOffset: string;
}

// @public (undocumented)
export interface WebAttribution {
    // (undocumented)
    title: string;
    // (undocumented)
    uri: string;
}


```
