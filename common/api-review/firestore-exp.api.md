## API Report File for "@firebase/firestore-exp"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { DocumentData as DocumentData_2 } from '@firebase/firestore-types';
import { FirebaseApp } from '@firebase/app-types-exp';
import { FirebaseAuthInternalName } from '@firebase/auth-interop-types';
import { _FirebaseService } from '@firebase/app-types-exp';
import { LogLevelString as LogLevel } from '@firebase/logger';
import { Provider } from '@firebase/component';
import { SetOptions as SetOptions_2 } from '@firebase/firestore-types';

// @public
export function addDoc<T>(reference: CollectionReference<T>, data: T): Promise<DocumentReference<T>>;

// @public
export function arrayRemove(...elements: unknown[]): FieldValue;

// @public
export function arrayUnion(...elements: unknown[]): FieldValue;

// @public
export class Bytes {
    constructor(byteString: ByteString);
    // Warning: (ae-forgotten-export) The symbol "ByteString" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    _byteString: ByteString;
    static fromBase64String(base64: string): Bytes;
    static fromUint8Array(array: Uint8Array): Bytes;
    isEqual(other: Bytes): boolean;
    toBase64(): string;
    toString(): string;
    toUint8Array(): Uint8Array;
}

// @public
export const CACHE_SIZE_UNLIMITED = -1;

// @public
export function clearIndexedDbPersistence(firestore: FirebaseFirestore): Promise<void>;

// Warning: (ae-forgotten-export) The symbol "FirebaseFirestore" needs to be exported by the entry point index.d.ts
//
// @public
export function collection(firestore: FirebaseFirestore_2, path: string, ...pathSegments: string[]): CollectionReference<DocumentData>;

// @public
export function collection(reference: CollectionReference<unknown>, path: string, ...pathSegments: string[]): CollectionReference<DocumentData>;

// @public
export function collection(reference: DocumentReference, path: string, ...pathSegments: string[]): CollectionReference<DocumentData>;

// @public
export function collectionGroup(firestore: FirebaseFirestore_2, collectionId: string): Query<DocumentData>;

// @public
export class CollectionReference<T = DocumentData> extends Query<T> {
    // Warning: (ae-forgotten-export) The symbol "FirestoreDataConverter" needs to be exported by the entry point index.d.ts
    constructor(firestore: FirebaseFirestore_2, converter: FirestoreDataConverter_2<T> | null, _path: ResourcePath);
    // (undocumented)
    readonly firestore: FirebaseFirestore_2;
    get id(): string;
    get parent(): DocumentReference<DocumentData> | null;
    get path(): string;
    // Warning: (ae-forgotten-export) The symbol "ResourcePath" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly _path: ResourcePath;
    // (undocumented)
    readonly type = "collection";
    withConverter<U>(converter: FirestoreDataConverter_2<U>): CollectionReference<U>;
}

// @public
export function deleteDoc(reference: DocumentReference<unknown>): Promise<void>;

// @public
export function deleteField(): FieldValue;

// @public
export function disableNetwork(firestore: FirebaseFirestore): Promise<void>;

// @public
export function doc(firestore: FirebaseFirestore_2, path: string, ...pathSegments: string[]): DocumentReference<DocumentData>;

// @public
export function doc<T>(reference: CollectionReference<T>, path?: string, ...pathSegments: string[]): DocumentReference<T>;

// @public
export function doc(reference: DocumentReference<unknown>, path: string, ...pathSegments: string[]): DocumentReference<DocumentData>;

// @public
export interface DocumentChange<T = DocumentData> {
    readonly doc: QueryDocumentSnapshot<T>;
    readonly newIndex: number;
    readonly oldIndex: number;
    readonly type: DocumentChangeType;
}

// @public
export type DocumentChangeType = 'added' | 'removed' | 'modified';

// @public
export interface DocumentData {
    // (undocumented)
    [field: string]: any;
}

// @public
export function documentId(): FieldPath;

// @public
export class DocumentReference<T = DocumentData> {
    constructor(firestore: FirebaseFirestore_2, _converter: FirestoreDataConverter_2<T> | null, _key: DocumentKey);
    // (undocumented)
    readonly _converter: FirestoreDataConverter_2<T> | null;
    readonly firestore: FirebaseFirestore_2;
    get id(): string;
    // Warning: (ae-forgotten-export) The symbol "DocumentKey" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly _key: DocumentKey;
    get parent(): CollectionReference<T>;
    get path(): string;
    // (undocumented)
    get _path(): ResourcePath;
    readonly type = "document";
    withConverter<U>(converter: FirestoreDataConverter_2<U>): DocumentReference<U>;
}

// Warning: (ae-forgotten-export) The symbol "DocumentSnapshot" needs to be exported by the entry point index.d.ts
//
// @public
export class DocumentSnapshot<T = DocumentData> extends DocumentSnapshot_2<T> {
    // Warning: (ae-forgotten-export) The symbol "AbstractUserDataWriter" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "Document" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "UntypedFirestoreDataConverter" needs to be exported by the entry point index.d.ts
    constructor(_firestore: FirebaseFirestore, userDataWriter: AbstractUserDataWriter, key: DocumentKey, document: Document_2 | null, metadata: SnapshotMetadata, converter: UntypedFirestoreDataConverter<T> | null);
    data(options?: SnapshotOptions): T | undefined;
    exists(): this is QueryDocumentSnapshot<T>;
    // (undocumented)
    readonly _firestore: FirebaseFirestore;
    get(fieldPath: string | FieldPath, options?: SnapshotOptions): any;
    readonly metadata: SnapshotMetadata;
}

// @public
export function enableIndexedDbPersistence(firestore: FirebaseFirestore, persistenceSettings?: PersistenceSettings): Promise<void>;

// @public
export function enableMultiTabIndexedDbPersistence(firestore: FirebaseFirestore): Promise<void>;

// @public
export function enableNetwork(firestore: FirebaseFirestore): Promise<void>;

// @public
export function endAt(snapshot: DocumentSnapshot_2<unknown>): QueryConstraint;

// @public
export function endAt(...fieldValues: unknown[]): QueryConstraint;

// @public
export function endBefore(snapshot: DocumentSnapshot_2<unknown>): QueryConstraint;

// @public
export function endBefore(...fieldValues: unknown[]): QueryConstraint;

// @public
export class FieldPath {
    constructor(...fieldNames: string[]);
    // Warning: (ae-forgotten-export) The symbol "FieldPath" needs to be exported by the entry point index.d.ts
    readonly _internalPath: FieldPath_2;
    isEqual(other: FieldPath): boolean;
}

// @public
export abstract class FieldValue {
    constructor(_methodName: string);
    // (undocumented)
    abstract isEqual(other: FieldValue): boolean;
    // (undocumented)
    _methodName: string;
    // Warning: (ae-forgotten-export) The symbol "ParseContext" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "FieldTransform" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    abstract _toFieldTransform(context: ParseContext): FieldTransform | null;
}

// @public
export class FirebaseFirestore extends FirebaseFirestore_2 {
    // Warning: (ae-forgotten-export) The symbol "DatabaseId" needs to be exported by the entry point index.d.ts
    constructor(databaseIdOrApp: DatabaseId | FirebaseApp, authProvider: Provider<FirebaseAuthInternalName>, _timeToFirstByte?: TimeToFirstByteCallback | undefined);
    // Warning: (ae-forgotten-export) The symbol "FirestoreClient" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    _firestoreClient: FirestoreClient | undefined;
    // (undocumented)
    readonly _persistenceKey: string;
    // Warning: (ae-forgotten-export) The symbol "AsyncQueue" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly _queue: AsyncQueue;
    // (undocumented)
    _terminate(): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "TimeToFirstByteCallback" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly _timeToFirstByte?: TimeToFirstByteCallback | undefined;
}

// @public
export interface FirestoreDataConverter<T> extends FirestoreDataConverter_2<T> {
    fromFirestore(snapshot: QueryDocumentSnapshot<DocumentData>, options?: SnapshotOptions): T;
    toFirestore(modelObject: T): DocumentData;
    toFirestore(modelObject: Partial<T>, options: SetOptions): DocumentData;
}

// @public
export class FirestoreError extends Error {
    constructor(code: FirestoreErrorCode, message: string);
    // (undocumented)
    readonly code: FirestoreErrorCode;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly name: string;
    // (undocumented)
    readonly stack?: string;
}

// @public
export type FirestoreErrorCode = 'cancelled' | 'unknown' | 'invalid-argument' | 'deadline-exceeded' | 'not-found' | 'already-exists' | 'permission-denied' | 'resource-exhausted' | 'failed-precondition' | 'aborted' | 'out-of-range' | 'unimplemented' | 'internal' | 'unavailable' | 'data-loss' | 'unauthenticated';

// @public
export class GeoPoint {
    constructor(latitude: number, longitude: number);
    _compareTo(other: GeoPoint): number;
    isEqual(other: GeoPoint): boolean;
    get latitude(): number;
    get longitude(): number;
    // (undocumented)
    toJSON(): {
        latitude: number;
        longitude: number;
    };
}

// @public
export function getDoc<T>(reference: DocumentReference<T>): Promise<DocumentSnapshot<T>>;

// @public
export function getDocFromCache<T>(reference: DocumentReference<T>): Promise<DocumentSnapshot<T>>;

// @public
export function getDocFromServer<T>(reference: DocumentReference<T>): Promise<DocumentSnapshot<T>>;

// @public
export function getDocs<T>(query: Query<T>): Promise<QuerySnapshot<T>>;

// @public
export function getDocsFromCache<T>(query: Query<T>): Promise<QuerySnapshot<T>>;

// @public
export function getDocsFromServer<T>(query: Query<T>): Promise<QuerySnapshot<T>>;

// @public
export function getFirestore(app: FirebaseApp): FirebaseFirestore;

// @public
export function increment(n: number): FieldValue;

// @public
export function initializeFirestore(app: FirebaseApp, settings: Settings): FirebaseFirestore;

// @public
export function limit(limit: number): QueryConstraint;

// @public
export function limitToLast(limit: number): QueryConstraint;

// @public
export function loadBundle(firestore: FirebaseFirestore, bundleData: ReadableStream<Uint8Array> | ArrayBuffer | string): LoadBundleTask;

// @public
export class LoadBundleTask implements PromiseLike<LoadBundleTaskProgress> {
    catch<R>(onRejected: (a: Error) => R | PromiseLike<R>): Promise<R | LoadBundleTaskProgress>;
    _completeWith(progress: LoadBundleTaskProgress): void;
    _failWith(error: FirestoreError): void;
    onProgress(next?: (progress: LoadBundleTaskProgress) => unknown, error?: (err: Error) => unknown, complete?: () => void): void;
    then<T, R>(onFulfilled?: (a: LoadBundleTaskProgress) => T | PromiseLike<T>, onRejected?: (a: Error) => R | PromiseLike<R>): Promise<T | R>;
    _updateProgress(progress: LoadBundleTaskProgress): void;
}

// @public
export interface LoadBundleTaskProgress {
    bytesLoaded: number;
    documentsLoaded: number;
    taskState: TaskState;
    totalBytes: number;
    totalDocuments: number;
}

export { LogLevel }

// @public
export function namedQuery(firestore: FirebaseFirestore, name: string): Promise<Query | null>;

// @public
export function onSnapshot<T>(reference: DocumentReference<T>, observer: {
    next?: (snapshot: DocumentSnapshot<T>) => void;
    error?: (error: FirestoreError) => void;
    complete?: () => void;
}): Unsubscribe;

// @public
export function onSnapshot<T>(reference: DocumentReference<T>, options: SnapshotListenOptions, observer: {
    next?: (snapshot: DocumentSnapshot<T>) => void;
    error?: (error: FirestoreError) => void;
    complete?: () => void;
}): Unsubscribe;

// @public
export function onSnapshot<T>(reference: DocumentReference<T>, onNext: (snapshot: DocumentSnapshot<T>) => void, onError?: (error: FirestoreError) => void, onCompletion?: () => void): Unsubscribe;

// @public
export function onSnapshot<T>(reference: DocumentReference<T>, options: SnapshotListenOptions, onNext: (snapshot: DocumentSnapshot<T>) => void, onError?: (error: FirestoreError) => void, onCompletion?: () => void): Unsubscribe;

// @public
export function onSnapshot<T>(query: Query<T>, observer: {
    next?: (snapshot: QuerySnapshot<T>) => void;
    error?: (error: FirestoreError) => void;
    complete?: () => void;
}): Unsubscribe;

// @public
export function onSnapshot<T>(query: Query<T>, options: SnapshotListenOptions, observer: {
    next?: (snapshot: QuerySnapshot<T>) => void;
    error?: (error: FirestoreError) => void;
    complete?: () => void;
}): Unsubscribe;

// @public
export function onSnapshot<T>(query: Query<T>, onNext: (snapshot: QuerySnapshot<T>) => void, onError?: (error: FirestoreError) => void, onCompletion?: () => void): Unsubscribe;

// @public
export function onSnapshot<T>(query: Query<T>, options: SnapshotListenOptions, onNext: (snapshot: QuerySnapshot<T>) => void, onError?: (error: FirestoreError) => void, onCompletion?: () => void): Unsubscribe;

// @public
export function onSnapshotsInSync(firestore: FirebaseFirestore, observer: {
    next?: (value: void) => void;
    error?: (error: FirestoreError) => void;
    complete?: () => void;
}): Unsubscribe;

// @public
export function onSnapshotsInSync(firestore: FirebaseFirestore, onSync: () => void): Unsubscribe;

// @public
export function orderBy(fieldPath: string | FieldPath, directionStr?: OrderByDirection): QueryConstraint;

// @public
export type OrderByDirection = 'desc' | 'asc';

// @public (undocumented)
export interface PersistenceSettings {
    // (undocumented)
    forceOwnership?: boolean;
}

// @public
export class Query<T = DocumentData> {
    constructor(firestore: FirebaseFirestore_2, _converter: FirestoreDataConverter_2<T> | null, _query: Query_2);
    // (undocumented)
    readonly _converter: FirestoreDataConverter_2<T> | null;
    readonly firestore: FirebaseFirestore_2;
    // Warning: (ae-forgotten-export) The symbol "Query" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly _query: Query_2;
    readonly type: 'query' | 'collection';
    withConverter<U>(converter: FirestoreDataConverter_2<U>): Query<U>;
}

// @public
export function query<T>(query: Query<T>, ...queryConstraints: QueryConstraint[]): Query<T>;

// @public
export abstract class QueryConstraint {
    abstract _apply<T>(query: Query<T>): Query<T>;
    abstract readonly type: QueryConstraintType;
}

// @public
export type QueryConstraintType = 'where' | 'orderBy' | 'limit' | 'limitToLast' | 'startAt' | 'startAfter' | 'endAt' | 'endBefore';

// @public
export class QueryDocumentSnapshot<T = DocumentData> extends DocumentSnapshot<T> {
    // @override
    data(options?: SnapshotOptions): T;
}

// @public
export function queryEqual<T>(left: Query<T>, right: Query<T>): boolean;

// @public
export class QuerySnapshot<T = DocumentData> {
    constructor(_firestore: FirebaseFirestore, _userDataWriter: AbstractUserDataWriter, query: Query<T>, _snapshot: ViewSnapshot);
    docChanges(options?: SnapshotListenOptions): Array<DocumentChange<T>>;
    get docs(): Array<QueryDocumentSnapshot<T>>;
    get empty(): boolean;
    // (undocumented)
    readonly _firestore: FirebaseFirestore;
    forEach(callback: (result: QueryDocumentSnapshot<T>) => void, thisArg?: unknown): void;
    readonly metadata: SnapshotMetadata;
    readonly query: Query<T>;
    get size(): number;
    // Warning: (ae-forgotten-export) The symbol "ViewSnapshot" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly _snapshot: ViewSnapshot;
    // (undocumented)
    readonly _userDataWriter: AbstractUserDataWriter;
}

// @public
export function refEqual<T>(left: DocumentReference<T> | CollectionReference<T>, right: DocumentReference<T> | CollectionReference<T>): boolean;

// @public
export function runTransaction<T>(firestore: FirebaseFirestore, updateFunction: (transaction: Transaction) => Promise<T>): Promise<T>;

// @public
export function serverTimestamp(): FieldValue;

// @public
export function setDoc<T>(reference: DocumentReference<T>, data: T): Promise<void>;

// @public
export function setDoc<T>(reference: DocumentReference<T>, data: Partial<T>, options: SetOptions): Promise<void>;

// @public
export function setLogLevel(logLevel: LogLevel): void;

// @public
export type SetOptions = {
    readonly merge?: boolean;
} | {
    readonly mergeFields?: Array<string | FieldPath>;
};

// Warning: (ae-forgotten-export) The symbol "Settings" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export interface Settings extends Settings_2 {
    // (undocumented)
    cacheSizeBytes?: number;
}

// @public
export function snapshotEqual<T>(left: DocumentSnapshot<T> | QuerySnapshot<T>, right: DocumentSnapshot<T> | QuerySnapshot<T>): boolean;

// @public
export interface SnapshotListenOptions {
    readonly includeMetadataChanges?: boolean;
}

// @public
export class SnapshotMetadata {
    constructor(hasPendingWrites: boolean, fromCache: boolean);
    readonly fromCache: boolean;
    readonly hasPendingWrites: boolean;
    isEqual(other: SnapshotMetadata): boolean;
}

// @public
export interface SnapshotOptions {
    readonly serverTimestamps?: 'estimate' | 'previous' | 'none';
}

// @public
export function startAfter(snapshot: DocumentSnapshot_2<unknown>): QueryConstraint;

// @public
export function startAfter(...fieldValues: unknown[]): QueryConstraint;

// @public
export function startAt(snapshot: DocumentSnapshot_2<unknown>): QueryConstraint;

// @public
export function startAt(...fieldValues: unknown[]): QueryConstraint;

// @public
export type TaskState = 'Error' | 'Running' | 'Success';

// @public
export function terminate(firestore: FirebaseFirestore): Promise<void>;

// @public
export class Timestamp {
    constructor(seconds: number, nanoseconds: number);
    // (undocumented)
    _compareTo(other: Timestamp): number;
    static fromDate(date: Date): Timestamp;
    static fromMillis(milliseconds: number): Timestamp;
    isEqual(other: Timestamp): boolean;
    // (undocumented)
    readonly nanoseconds: number;
    static now(): Timestamp;
    // (undocumented)
    readonly seconds: number;
    toDate(): Date;
    // (undocumented)
    toJSON(): {
        seconds: number;
        nanoseconds: number;
    };
    toMillis(): number;
    // (undocumented)
    toString(): string;
    valueOf(): string;
}

// Warning: (ae-forgotten-export) The symbol "Transaction" needs to be exported by the entry point index.d.ts
//
// @public
export class Transaction extends Transaction_2 {
    // Warning: (ae-forgotten-export) The symbol "Transaction" needs to be exported by the entry point index.d.ts
    constructor(_firestore: FirebaseFirestore, _transaction: Transaction_3);
    // (undocumented)
    protected readonly _firestore: FirebaseFirestore;
    get<T>(documentRef: DocumentReference<T>): Promise<DocumentSnapshot<T>>;
}

// @public (undocumented)
export interface Unsubscribe {
    // (undocumented)
    (): void;
}

// @public
export interface UpdateData {
    // (undocumented)
    [fieldPath: string]: any;
}

// @public
export function updateDoc(reference: DocumentReference<unknown>, data: UpdateData): Promise<void>;

// @public
export function updateDoc(reference: DocumentReference<unknown>, field: string | FieldPath, value: unknown, ...moreFieldsAndValues: unknown[]): Promise<void>;

// @public
export function useFirestoreEmulator(firestore: FirebaseFirestore_2, host: string, port: number): void;

// @public
export function waitForPendingWrites(firestore: FirebaseFirestore): Promise<void>;

// @public
export function where(fieldPath: string | FieldPath, opStr: WhereFilterOp, value: unknown): QueryConstraint;

// @public
export type WhereFilterOp = '<' | '<=' | '==' | '!=' | '>=' | '>' | 'array-contains' | 'in' | 'array-contains-any' | 'not-in';

// @public
export class WriteBatch {
    // Warning: (ae-forgotten-export) The symbol "Mutation" needs to be exported by the entry point index.d.ts
    constructor(_firestore: FirebaseFirestore_2, _commitHandler: (m: Mutation[]) => Promise<void>);
    commit(): Promise<void>;
    delete(documentRef: DocumentReference<unknown>): WriteBatch;
    set<T>(documentRef: DocumentReference<T>, data: T): WriteBatch;
    set<T>(documentRef: DocumentReference<T>, data: Partial<T>, options: SetOptions): WriteBatch;
    update(documentRef: DocumentReference<unknown>, data: UpdateData): WriteBatch;
    update(documentRef: DocumentReference<unknown>, field: string | FieldPath, value: unknown, ...moreFieldsAndValues: unknown[]): WriteBatch;
    }

// @public
export function writeBatch(firestore: FirebaseFirestore): WriteBatch;


// (No @packageDocumentation comment for this package)

```
