Project: /docs/reference/js/_project.yaml
Book: /docs/reference/_book.yaml
page_type: reference

{% comment %}
DO NOT EDIT THIS FILE!
This is generated by the JS SDK team, and any local changes will be
overwritten. Changes should be made in the source code at
https://github.com/firebase/firebase-js-sdk
{% endcomment %}

# @firebase/telemetry

## Functions

|  Function | Description |
|  --- | --- |
|  <b>function(app, ...)</b> |
|  [getTelemetry(app, options)](./telemetry_.md#gettelemetry_448bdc6) | Returns the default [Telemetry](./telemetry_.telemetry.md#telemetry_interface) instance that is associated with the provided [FirebaseApp](./app.firebaseapp.md#firebaseapp_interface)<!-- -->. If no instance exists, initializes a new instance with the default settings. |
|  <b>function(telemetry, ...)</b> |
|  [captureError(telemetry, error, attributes)](./telemetry_.md#captureerror_862e6b3) | Enqueues an error to be uploaded to the Firebase Telemetry API. |
|  [flush(telemetry)](./telemetry_.md#flush_8975134) | Flushes all enqueued telemetry data immediately, instead of waiting for default batching. |
|  <b>function(telemetryOptions, ...)</b> |
|  [nextOnRequestError(telemetryOptions)](./telemetry_.md#nextonrequesterror_3bd5542) | Automatically report uncaught errors from server routes to Firebase Telemetry. |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [Telemetry](./telemetry_.telemetry.md#telemetry_interface) | An instance of the Firebase Telemetry SDK.<!-- -->Do not create this instance directly. Instead, use [getTelemetry()](./telemetry_.md#gettelemetry_448bdc6)<!-- -->. |
|  [TelemetryOptions](./telemetry_.telemetryoptions.md#telemetryoptions_interface) | Options for initialized the Telemetry service using [getTelemetry()](./telemetry_.md#gettelemetry_448bdc6)<!-- -->. |

## Namespaces

|  Namespace | Description |
|  --- | --- |
|  [Instrumentation](./telemetry_.instrumentation.md#instrumentation_namespace) |  |

## function(app, ...)

### getTelemetry(app, options) {:#gettelemetry_448bdc6}

Returns the default [Telemetry](./telemetry_.telemetry.md#telemetry_interface) instance that is associated with the provided [FirebaseApp](./app.firebaseapp.md#firebaseapp_interface)<!-- -->. If no instance exists, initializes a new instance with the default settings.

<b>Signature:</b>

```typescript
export declare function getTelemetry(app?: FirebaseApp, options?: TelemetryOptions): Telemetry;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  app | [FirebaseApp](./app.firebaseapp.md#firebaseapp_interface) | The [FirebaseApp](./app.firebaseapp.md#firebaseapp_interface) to use. |
|  options | [TelemetryOptions](./telemetry_.telemetryoptions.md#telemetryoptions_interface) | [TelemetryOptions](./telemetry_.telemetryoptions.md#telemetryoptions_interface) that configure the Telemetry instance. |

<b>Returns:</b>

[Telemetry](./telemetry_.telemetry.md#telemetry_interface)

The default [Telemetry](./telemetry_.telemetry.md#telemetry_interface) instance for the given [FirebaseApp](./app.firebaseapp.md#firebaseapp_interface)<!-- -->.

### Example


```javascript
const telemetry = getTelemetry(app);

```

## function(telemetry, ...)

### captureError(telemetry, error, attributes) {:#captureerror_862e6b3}

Enqueues an error to be uploaded to the Firebase Telemetry API.

<b>Signature:</b>

```typescript
export declare function captureError(telemetry: Telemetry, error: unknown, attributes?: AnyValueMap): void;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  telemetry | [Telemetry](./telemetry_.telemetry.md#telemetry_interface) | The [Telemetry](./telemetry_.telemetry.md#telemetry_interface) instance. |
|  error | unknown | The caught exception, typically an  |
|  attributes | AnyValueMap | = Optional, arbitrary attributes to attach to the error log |

<b>Returns:</b>

void

### flush(telemetry) {:#flush_8975134}

Flushes all enqueued telemetry data immediately, instead of waiting for default batching.

<b>Signature:</b>

```typescript
export declare function flush(telemetry: Telemetry): Promise<void>;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  telemetry | [Telemetry](./telemetry_.telemetry.md#telemetry_interface) | The [Telemetry](./telemetry_.telemetry.md#telemetry_interface) instance. |

<b>Returns:</b>

Promise&lt;void&gt;

a promise which is resolved when all flushes are complete

## function(telemetryOptions, ...)

### nextOnRequestError(telemetryOptions) {:#nextonrequesterror_3bd5542}

Automatically report uncaught errors from server routes to Firebase Telemetry.

<b>Signature:</b>

```typescript
export declare function nextOnRequestError(telemetryOptions?: TelemetryOptions): Instrumentation.onRequestError;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  telemetryOptions | [TelemetryOptions](./telemetry_.telemetryoptions.md#telemetryoptions_interface) | [TelemetryOptions](./telemetry_.telemetryoptions.md#telemetryoptions_interface) that configure the Telemetry instance. |

<b>Returns:</b>

[Instrumentation.onRequestError](./telemetry_.instrumentation.md#instrumentationonrequesterror)

A request error handler for use in Next.js' instrumentation file

### Example


```javascript
// In instrumentation.ts (https://nextjs.org/docs/app/guides/instrumentation):
import { nextOnRequestError } from 'firebase/telemetry'
export const onRequestError = nextOnRequestError();

```

