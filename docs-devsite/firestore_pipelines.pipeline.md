Project: /docs/reference/js/_project.yaml
Book: /docs/reference/_book.yaml
page_type: reference

{% comment %}
DO NOT EDIT THIS FILE!
This is generated by the JS SDK team, and any local changes will be
overwritten. Changes should be made in the source code at
https://github.com/firebase/firebase-js-sdk
{% endcomment %}

# Pipeline class
> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 


<b>Signature:</b>

```typescript
export declare class Pipeline 
```

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [addFields(field, additionalFields)](./firestore_pipelines.pipeline.md#pipelineaddfields) |  | <b><i>(Public Preview)</i></b> |
|  [addFields(options)](./firestore_pipelines.pipeline.md#pipelineaddfields) |  | <b><i>(Public Preview)</i></b> |
|  [aggregate(accumulator, additionalAccumulators)](./firestore_pipelines.pipeline.md#pipelineaggregate) |  | <b><i>(Public Preview)</i></b> |
|  [aggregate(options)](./firestore_pipelines.pipeline.md#pipelineaggregate) |  | <b><i>(Public Preview)</i></b> |
|  [distinct(group, additionalGroups)](./firestore_pipelines.pipeline.md#pipelinedistinct) |  | <b><i>(Public Preview)</i></b> |
|  [distinct(options)](./firestore_pipelines.pipeline.md#pipelinedistinct) |  | <b><i>(Public Preview)</i></b> |
|  [findNearest(options)](./firestore_pipelines.pipeline.md#pipelinefindnearest) |  | <b><i>(Public Preview)</i></b> |
|  [limit(limit)](./firestore_pipelines.pipeline.md#pipelinelimit) |  | <b><i>(Public Preview)</i></b> |
|  [limit(options)](./firestore_pipelines.pipeline.md#pipelinelimit) |  | <b><i>(Public Preview)</i></b> |
|  [offset(offset)](./firestore_pipelines.pipeline.md#pipelineoffset) |  | <b><i>(Public Preview)</i></b> |
|  [offset(options)](./firestore_pipelines.pipeline.md#pipelineoffset) |  | <b><i>(Public Preview)</i></b> |
|  [rawStage(name, params, options)](./firestore_pipelines.pipeline.md#pipelinerawstage) |  | <b><i>(Public Preview)</i></b> |
|  [removeFields(fieldValue, additionalFields)](./firestore_pipelines.pipeline.md#pipelineremovefields) |  | <b><i>(Public Preview)</i></b> |
|  [removeFields(options)](./firestore_pipelines.pipeline.md#pipelineremovefields) |  | <b><i>(Public Preview)</i></b> |
|  [replaceWith(fieldName)](./firestore_pipelines.pipeline.md#pipelinereplacewith) |  | <b><i>(Public Preview)</i></b> |
|  [replaceWith(expr)](./firestore_pipelines.pipeline.md#pipelinereplacewith) |  | <b><i>(Public Preview)</i></b> |
|  [replaceWith(options)](./firestore_pipelines.pipeline.md#pipelinereplacewith) |  | <b><i>(Public Preview)</i></b> |
|  [sample(documents)](./firestore_pipelines.pipeline.md#pipelinesample) |  | <b><i>(Public Preview)</i></b> |
|  [sample(options)](./firestore_pipelines.pipeline.md#pipelinesample) |  | <b><i>(Public Preview)</i></b> |
|  [select(selection, additionalSelections)](./firestore_pipelines.pipeline.md#pipelineselect) |  | <b><i>(Public Preview)</i></b> |
|  [select(options)](./firestore_pipelines.pipeline.md#pipelineselect) |  | <b><i>(Public Preview)</i></b> |
|  [sort(ordering, additionalOrderings)](./firestore_pipelines.pipeline.md#pipelinesort) |  | <b><i>(Public Preview)</i></b> |
|  [sort(options)](./firestore_pipelines.pipeline.md#pipelinesort) |  | <b><i>(Public Preview)</i></b> |
|  [union(other)](./firestore_pipelines.pipeline.md#pipelineunion) |  | <b><i>(Public Preview)</i></b> |
|  [union(options)](./firestore_pipelines.pipeline.md#pipelineunion) |  | <b><i>(Public Preview)</i></b> |
|  [unnest(selectable, indexField)](./firestore_pipelines.pipeline.md#pipelineunnest) |  | <b><i>(Public Preview)</i></b> |
|  [unnest(options)](./firestore_pipelines.pipeline.md#pipelineunnest) |  | <b><i>(Public Preview)</i></b> |
|  [where(condition)](./firestore_pipelines.pipeline.md#pipelinewhere) |  | <b><i>(Public Preview)</i></b> |
|  [where(options)](./firestore_pipelines.pipeline.md#pipelinewhere) |  | <b><i>(Public Preview)</i></b> |

## Pipeline.addFields()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
addFields(field: Selectable, ...additionalFields: Selectable[]): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  field | [Selectable](./firestore_pipelines.selectable.md#selectable_interface) |  |
|  additionalFields | [Selectable](./firestore_pipelines.selectable.md#selectable_interface)<!-- -->\[\] |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.addFields()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
addFields(options: AddFieldsStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [AddFieldsStageOptions](./firestore_pipelines.md#addfieldsstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.aggregate()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
aggregate(accumulator: AliasedAggregate, ...additionalAccumulators: AliasedAggregate[]): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  accumulator | [AliasedAggregate](./firestore_pipelines.aliasedaggregate.md#aliasedaggregate_class) |  |
|  additionalAccumulators | [AliasedAggregate](./firestore_pipelines.aliasedaggregate.md#aliasedaggregate_class)<!-- -->\[\] |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.aggregate()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
aggregate(options: AggregateStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [AggregateStageOptions](./firestore_pipelines.md#aggregatestageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.distinct()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
distinct(group: string | Selectable, ...additionalGroups: Array<string | Selectable>): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  group | string \| [Selectable](./firestore_pipelines.selectable.md#selectable_interface) |  |
|  additionalGroups | Array&lt;string \| [Selectable](./firestore_pipelines.selectable.md#selectable_interface)<!-- -->&gt; |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.distinct()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
distinct(options: DistinctStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [DistinctStageOptions](./firestore_pipelines.md#distinctstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.findNearest()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
findNearest(options: FindNearestStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [FindNearestStageOptions](./firestore_pipelines.md#findneareststageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.limit()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
limit(limit: number): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  limit | number |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.limit()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
limit(options: LimitStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [LimitStageOptions](./firestore_pipelines.md#limitstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.offset()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
offset(offset: number): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  offset | number |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.offset()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
offset(options: OffsetStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [OffsetStageOptions](./firestore_pipelines.md#offsetstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.rawStage()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
rawStage(name: string, params: unknown[], options?: { [key: string]: Expression | unknown; }): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  name | string |  |
|  params | unknown\[\] |  |
|  options | { \[key: string\]: [Expression](./firestore_pipelines.expression.md#expression_class) \| unknown; } |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.removeFields()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
removeFields(fieldValue: Field | string, ...additionalFields: Array<Field | string>): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldValue | [Field](./firestore_pipelines.field.md#field_class) \| string |  |
|  additionalFields | Array&lt;[Field](./firestore_pipelines.field.md#field_class) \| string&gt; |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.removeFields()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
removeFields(options: RemoveFieldsStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [RemoveFieldsStageOptions](./firestore_pipelines.md#removefieldsstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.replaceWith()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
replaceWith(fieldName: string): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.replaceWith()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
replaceWith(expr: Expression): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_pipelines.expression.md#expression_class) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.replaceWith()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
replaceWith(options: ReplaceWithStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [ReplaceWithStageOptions](./firestore_pipelines.md#replacewithstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.sample()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
sample(documents: number): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  documents | number |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.sample()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
sample(options: SampleStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [SampleStageOptions](./firestore_pipelines.md#samplestageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.select()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
select(selection: Selectable | string, ...additionalSelections: Array<Selectable | string>): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  selection | [Selectable](./firestore_pipelines.selectable.md#selectable_interface) \| string |  |
|  additionalSelections | Array&lt;[Selectable](./firestore_pipelines.selectable.md#selectable_interface) \| string&gt; |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.select()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
select(options: SelectStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [SelectStageOptions](./firestore_pipelines.md#selectstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.sort()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
sort(ordering: Ordering, ...additionalOrderings: Ordering[]): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  ordering | [Ordering](./firestore_pipelines.ordering.md#ordering_class) |  |
|  additionalOrderings | [Ordering](./firestore_pipelines.ordering.md#ordering_class)<!-- -->\[\] |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.sort()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
sort(options: SortStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [SortStageOptions](./firestore_pipelines.md#sortstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.union()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
union(other: Pipeline): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  other | [Pipeline](./firestore_pipelines.pipeline.md#pipeline_class) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.union()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
union(options: UnionStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [UnionStageOptions](./firestore_pipelines.md#unionstageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.unnest()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
unnest(selectable: Selectable, indexField?: string): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  selectable | [Selectable](./firestore_pipelines.selectable.md#selectable_interface) |  |
|  indexField | string |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.unnest()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
unnest(options: UnnestStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [UnnestStageOptions](./firestore_pipelines.md#unneststageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.where()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
where(condition: BooleanExpression): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  condition | [BooleanExpression](./firestore_pipelines.booleanexpression.md#booleanexpression_class) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

## Pipeline.where()

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

<b>Signature:</b>

```typescript
where(options: WhereStageOptions): Pipeline;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  options | [WhereStageOptions](./firestore_pipelines.md#wherestageoptions) |  |

<b>Returns:</b>

[Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)

