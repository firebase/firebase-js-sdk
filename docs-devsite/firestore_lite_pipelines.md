Project: /docs/reference/js/_project.yaml
Book: /docs/reference/_book.yaml
page_type: reference

{% comment %}
DO NOT EDIT THIS FILE!
This is generated by the JS SDK team, and any local changes will be
overwritten. Changes should be made in the source code at
https://github.com/firebase/firebase-js-sdk
{% endcomment %}

# @firebase/firestore/lite/pipelines

## Functions

|  Function | Description |
|  --- | --- |
|  <b>function()</b> |
|  [countAll()](./firestore_lite_pipelines.md#countall) | <b><i>(Public Preview)</i></b> Creates an aggregation that counts the total number of stage inputs. |
|  [currentTimestamp()](./firestore_lite_pipelines.md#currenttimestamp) | <b><i>(Public Preview)</i></b> Creates an expression that evaluates to the current server timestamp. |
|  <b>function(array, ...)</b> |
|  [arrayContains(array, element)](./firestore_lite_pipelines.md#arraycontains_a00ea48) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an array expression contains a specific element. |
|  [arrayContains(array, element)](./firestore_lite_pipelines.md#arraycontains_7328608) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an array expression contains a specific element. |
|  [arrayContainsAll(array, values)](./firestore_lite_pipelines.md#arraycontainsall_c658ad5) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an array expression contains all the specified elements. |
|  [arrayContainsAll(array, arrayExpression)](./firestore_lite_pipelines.md#arraycontainsall_7b535db) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an array expression contains all the specified elements. |
|  [arrayContainsAny(array, values)](./firestore_lite_pipelines.md#arraycontainsany_c658ad5) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an array expression contains any of the specified elements. |
|  [arrayContainsAny(array, values)](./firestore_lite_pipelines.md#arraycontainsany_c381a96) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an array expression contains any of the specified elements. |
|  [arrayLength(array)](./firestore_lite_pipelines.md#arraylength_195e339) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of an array expression. |
|  <b>function(arrayExpression, ...)</b> |
|  [arrayGet(arrayExpression, offset)](./firestore_lite_pipelines.md#arrayget_f2e27cc) | <b><i>(Public Preview)</i></b> Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end. |
|  [arrayGet(arrayExpression, offsetExpr)](./firestore_lite_pipelines.md#arrayget_484550d) | <b><i>(Public Preview)</i></b> Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end. |
|  [join(arrayExpression, delimiterExpression)](./firestore_lite_pipelines.md#join_313e6aa) | <b><i>(Public Preview)</i></b> Creates an expression that joins the elements of an array into a string. |
|  [join(arrayExpression, delimiter)](./firestore_lite_pipelines.md#join_d088d29) | <b><i>(Public Preview)</i></b> Creates an expression that joins the elements of an array into a string. |
|  <b>function(arrayField, ...)</b> |
|  [arrayGet(arrayField, offset)](./firestore_lite_pipelines.md#arrayget_3f58471) | <b><i>(Public Preview)</i></b> Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end. |
|  [arrayGet(arrayField, offsetExpr)](./firestore_lite_pipelines.md#arrayget_1904c9a) | <b><i>(Public Preview)</i></b> Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end. |
|  <b>function(arrayFieldName, ...)</b> |
|  [join(arrayFieldName, delimiter)](./firestore_lite_pipelines.md#join_478ef36) | <b><i>(Public Preview)</i></b> Creates an expression that joins the elements of an array into a string. |
|  [join(arrayFieldName, delimiterExpression)](./firestore_lite_pipelines.md#join_829294c) | <b><i>(Public Preview)</i></b> Creates an expression that joins the elements of an array into a string. |
|  <b>function(base, ...)</b> |
|  [pow(base, exponent)](./firestore_lite_pipelines.md#pow_e4a9e64) | <b><i>(Public Preview)</i></b> Creates an expression that returns the value of the base expression raised to the power of the exponent expression. |
|  [pow(base, exponent)](./firestore_lite_pipelines.md#pow_93eae7f) | <b><i>(Public Preview)</i></b> Creates an expression that returns the value of the base expression raised to the power of the exponent. |
|  [pow(base, exponent)](./firestore_lite_pipelines.md#pow_a237721) | <b><i>(Public Preview)</i></b> Creates an expression that returns the value of the base field raised to the power of the exponent expression. |
|  [pow(base, exponent)](./firestore_lite_pipelines.md#pow_f4d7908) | <b><i>(Public Preview)</i></b> Creates an expression that returns the value of the base field raised to the power of the exponent. |
|  <b>function(booleanExpr, ...)</b> |
|  [countIf(booleanExpr)](./firestore_lite_pipelines.md#countif_c5b8fb1) | <b><i>(Public Preview)</i></b> Creates an aggregation that counts the number of stage inputs where the provided boolean expression evaluates to true. |
|  [not(booleanExpr)](./firestore_lite_pipelines.md#not_c5b8fb1) | <b><i>(Public Preview)</i></b> Creates an expression that negates a filter condition. |
|  <b>function(condition, ...)</b> |
|  [conditional(condition, thenExpr, elseExpr)](./firestore_lite_pipelines.md#conditional_07a206d) | <b><i>(Public Preview)</i></b> Creates a conditional expression that evaluates to a 'then' expression if a condition is true and an 'else' expression if the condition is false. |
|  <b>function(documentPath, ...)</b> |
|  [documentId(documentPath)](./firestore_lite_pipelines.md#documentid_cef293c) | <b><i>(Public Preview)</i></b> Creates an expression that returns the document ID from a path. |
|  <b>function(documentPathExpr, ...)</b> |
|  [documentId(documentPathExpr)](./firestore_lite_pipelines.md#documentid_9a69021) | <b><i>(Public Preview)</i></b> Creates an expression that returns the document ID from a path. |
|  <b>function(element, ...)</b> |
|  [notEqualAny(element, values)](./firestore_lite_pipelines.md#notequalany_c2c5bcb) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is not equal to any of the provided values or expressions. |
|  [notEqualAny(element, arrayExpression)](./firestore_lite_pipelines.md#notequalany_16b2851) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is not equal to any of the provided values or expressions. |
|  <b>function(elements, ...)</b> |
|  [array(elements)](./firestore_lite_pipelines.md#array_7d853aa) | <b><i>(Public Preview)</i></b> Creates an expression that creates a Firestore array value from an input array. |
|  [map(elements)](./firestore_lite_pipelines.md#map_ce5dee1) | <b><i>(Public Preview)</i></b> Creates an expression that creates a Firestore map value from an input object. |
|  <b>function(expr, ...)</b> |
|  [abs(expr)](./firestore_lite_pipelines.md#abs_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that computes the absolute value of a numeric value. |
|  [ascending(expr)](./firestore_lite_pipelines.md#ascending_005f3d4) | <b><i>(Public Preview)</i></b> Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in ascending order based on an expression. |
|  [byteLength(expr)](./firestore_lite_pipelines.md#bytelength_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the byte length of a string in UTF-8, or just the length of a Blob. |
|  [countDistinct(expr)](./firestore_lite_pipelines.md#countdistinct_3c28b08) | <b><i>(Public Preview)</i></b> Creates an aggregation that counts the number of distinct values of a field. |
|  [descending(expr)](./firestore_lite_pipelines.md#descending_005f3d4) | <b><i>(Public Preview)</i></b> Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in descending order based on an expression. |
|  [floor(expr)](./firestore_lite_pipelines.md#floor_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that computes the floor of a numeric value. |
|  [timestampToUnixMicros(expr)](./firestore_lite_pipelines.md#timestamptounixmicros_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that converts a timestamp expression to the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC). |
|  [timestampToUnixMillis(expr)](./firestore_lite_pipelines.md#timestamptounixmillis_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that converts a timestamp expression to the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC). |
|  [timestampToUnixSeconds(expr)](./firestore_lite_pipelines.md#timestamptounixseconds_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that converts a timestamp expression to the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC). |
|  [unixMicrosToTimestamp(expr)](./firestore_lite_pipelines.md#unixmicrostotimestamp_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that interprets an expression as the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp. |
|  [unixMillisToTimestamp(expr)](./firestore_lite_pipelines.md#unixmillistotimestamp_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that interprets an expression as the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp. |
|  [unixSecondsToTimestamp(expr)](./firestore_lite_pipelines.md#unixsecondstotimestamp_005f3d4) | <b><i>(Public Preview)</i></b> Creates an expression that interprets an expression as the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp. |
|  <b>function(expression, ...)</b> |
|  [arraySum(expression)](./firestore_lite_pipelines.md#arraysum_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that computes the sum of the elements in an array. |
|  [average(expression)](./firestore_lite_pipelines.md#average_1138a27) | <b><i>(Public Preview)</i></b> Creates an aggregation that calculates the average (mean) of values from an expression across multiple stage inputs. |
|  [ceil(expression)](./firestore_lite_pipelines.md#ceil_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that computes the ceiling of a numeric value. |
|  [collectionId(expression)](./firestore_lite_pipelines.md#collectionid_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that returns the collection ID from a path. |
|  [count(expression)](./firestore_lite_pipelines.md#count_1138a27) | <b><i>(Public Preview)</i></b> Creates an aggregation that counts the number of stage inputs with valid evaluations of the provided expression. |
|  [divide(expression, value)](./firestore_lite_pipelines.md#divide_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that divides an expression by a constant value. |
|  [equal(expression, value)](./firestore_lite_pipelines.md#equal_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is equal to a constant value. |
|  [equalAny(expression, values)](./firestore_lite_pipelines.md#equalany_7e759b5) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression, when evaluated, is equal to any of the provided values or expressions. |
|  [equalAny(expression, arrayExpression)](./firestore_lite_pipelines.md#equalany_214ce68) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is equal to any of the provided values. |
|  [exp(expression)](./firestore_lite_pipelines.md#exp_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that computes e to the power of the expression's result. |
|  [greaterThan(expression, value)](./firestore_lite_pipelines.md#greaterthan_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is greater than a constant value. |
|  [greaterThanOrEqual(expression, value)](./firestore_lite_pipelines.md#greaterthanorequal_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is greater than or equal to a constant value. |
|  [length\_2(expression)](./firestore_lite_pipelines.md#length_2_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of a string, array, map, vector, or bytes. |
|  [lessThan(expression, value)](./firestore_lite_pipelines.md#lessthan_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is less than a constant value. |
|  [lessThanOrEqual(expression, value)](./firestore_lite_pipelines.md#lessthanorequal_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is less than or equal to a constant value. |
|  [ln(expression)](./firestore_lite_pipelines.md#ln_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that computes the natural logarithm of a numeric value. |
|  [log(expression, base)](./firestore_lite_pipelines.md#log_ac183e2) | <b><i>(Public Preview)</i></b> Creates an expression that computes the logarithm of an expression to a given base. |
|  [log(expression, base)](./firestore_lite_pipelines.md#log_1894737) | <b><i>(Public Preview)</i></b> Creates an expression that computes the logarithm of an expression to a given base. |
|  [log10(expression)](./firestore_lite_pipelines.md#log10_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that computes the base-10 logarithm of a numeric value. |
|  [maximum(expression)](./firestore_lite_pipelines.md#maximum_1138a27) | <b><i>(Public Preview)</i></b> Creates an aggregation that finds the maximum value of an expression across multiple stage inputs. |
|  [minimum(expression)](./firestore_lite_pipelines.md#minimum_1138a27) | <b><i>(Public Preview)</i></b> Creates an aggregation that finds the minimum value of an expression across multiple stage inputs. |
|  [mod(expression, value)](./firestore_lite_pipelines.md#mod_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the modulo (remainder) of dividing an expression by a constant. |
|  [notEqual(expression, value)](./firestore_lite_pipelines.md#notequal_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that checks if an expression is not equal to a constant value. |
|  [round(expression)](./firestore_lite_pipelines.md#round_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that rounds a numeric value to the nearest whole number. |
|  [round(expression, decimalPlaces)](./firestore_lite_pipelines.md#round_a3a92d0) | <b><i>(Public Preview)</i></b> Creates an expression that rounds a numeric value to the specified number of decimal places. |
|  [split(expression, delimiter)](./firestore_lite_pipelines.md#split_5b5612b) | <b><i>(Public Preview)</i></b> Creates an expression that splits a string into an array of substrings based on the provided delimiter. |
|  [split(expression, delimiter)](./firestore_lite_pipelines.md#split_5a171ed) | <b><i>(Public Preview)</i></b> Creates an expression that splits a string into an array of substrings based on the provided delimiter. |
|  [sqrt(expression)](./firestore_lite_pipelines.md#sqrt_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that computes the square root of a numeric value. |
|  [subtract(expression, value)](./firestore_lite_pipelines.md#subtract_01df3cf) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts a constant value from an expression. |
|  [sum(expression)](./firestore_lite_pipelines.md#sum_1138a27) | <b><i>(Public Preview)</i></b> Creates an aggregation that calculates the sum of values from an expression across multiple stage inputs. |
|  [type(expression)](./firestore_lite_pipelines.md#type_1138a27) | <b><i>(Public Preview)</i></b> Creates an expression that returns the data type of an expression's result. |
|  <b>function(field, ...)</b> |
|  [isAbsent(field)](./firestore_lite_pipelines.md#isabsent_0fb8cd4) | <b><i>(Public Preview)</i></b> Creates an expression that returns <code>true</code> if a field is absent. Otherwise, returns <code>false</code> even if the field value is <code>null</code>. |
|  [reverse(field)](./firestore_lite_pipelines.md#reverse_0fb8cd4) | <b><i>(Public Preview)</i></b> Creates an expression that reverses a string value in the specified field. |
|  [stringReverse(field)](./firestore_lite_pipelines.md#stringreverse_0fb8cd4) | <b><i>(Public Preview)</i></b> Creates an expression that reverses a string value in the specified field. |
|  [substring(field, position, length)](./firestore_lite_pipelines.md#substring_0d9573a) | <b><i>(Public Preview)</i></b> Creates an expression that returns a substring of a string or byte array. |
|  [substring(field, position, length)](./firestore_lite_pipelines.md#substring_05cb14e) | <b><i>(Public Preview)</i></b> Creates an expression that returns a substring of a string or byte array. |
|  <b>function(fieldName, ...)</b> |
|  [abs(fieldName)](./firestore_lite_pipelines.md#abs_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the absolute value of a numeric value. |
|  [add(fieldName, second)](./firestore_lite_pipelines.md#add_b75bb8b) | <b><i>(Public Preview)</i></b> Creates an expression that adds a field's value to an expression. |
|  [arrayContains(fieldName, element)](./firestore_lite_pipelines.md#arraycontains_aaace4a) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's array value contains a specific element. |
|  [arrayContains(fieldName, element)](./firestore_lite_pipelines.md#arraycontains_999590f) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's array value contains a specific value. |
|  [arrayContainsAll(fieldName, values)](./firestore_lite_pipelines.md#arraycontainsall_8060b23) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's array value contains all the specified values or expressions. |
|  [arrayContainsAll(fieldName, arrayExpression)](./firestore_lite_pipelines.md#arraycontainsall_48da8d9) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's array value contains all the specified values or expressions. |
|  [arrayContainsAny(fieldName, values)](./firestore_lite_pipelines.md#arraycontainsany_8060b23) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's array value contains any of the specified elements. |
|  [arrayContainsAny(fieldName, values)](./firestore_lite_pipelines.md#arraycontainsany_1b4f7cd) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's array value contains any of the specified elements. |
|  [arrayLength(fieldName)](./firestore_lite_pipelines.md#arraylength_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of an array in a specified field. |
|  [arraySum(fieldName)](./firestore_lite_pipelines.md#arraysum_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the sum of the elements in an array. |
|  [ascending(fieldName)](./firestore_lite_pipelines.md#ascending_e5b0480) | <b><i>(Public Preview)</i></b> Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in ascending order based on a field. |
|  [average(fieldName)](./firestore_lite_pipelines.md#average_e5b0480) | <b><i>(Public Preview)</i></b> Creates an aggregation that calculates the average (mean) of a field's values across multiple stage inputs. |
|  [byteLength(fieldName)](./firestore_lite_pipelines.md#bytelength_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of a string represented by a field in UTF-8 bytes, or just the length of a Blob. |
|  [ceil(fieldName)](./firestore_lite_pipelines.md#ceil_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the ceiling of a numeric value. |
|  [charLength(fieldName)](./firestore_lite_pipelines.md#charlength_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the character length of a string field in UTF8. |
|  [collectionId(fieldName)](./firestore_lite_pipelines.md#collectionid_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that returns the collection ID from a path. |
|  [concat(fieldName, second, others)](./firestore_lite_pipelines.md#concat_828272e) | <b><i>(Public Preview)</i></b> Creates an expression that concatenates strings, arrays, or blobs. Types cannot be mixed. |
|  [cosineDistance(fieldName, vector)](./firestore_lite_pipelines.md#cosinedistance_463a23e) | <b><i>(Public Preview)</i></b> Calculates the Cosine distance between a field's vector value and a literal vector value. |
|  [cosineDistance(fieldName, vectorExpression)](./firestore_lite_pipelines.md#cosinedistance_ed766a1) | <b><i>(Public Preview)</i></b> Calculates the Cosine distance between a field's vector value and a vector expression. |
|  [count(fieldName)](./firestore_lite_pipelines.md#count_e5b0480) | <b><i>(Public Preview)</i></b> Creates an aggregation that counts the number of stage inputs where the input field exists. |
|  [descending(fieldName)](./firestore_lite_pipelines.md#descending_e5b0480) | <b><i>(Public Preview)</i></b> Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in descending order based on a field. |
|  [divide(fieldName, expressions)](./firestore_lite_pipelines.md#divide_cf36e43) | <b><i>(Public Preview)</i></b> Creates an expression that divides a field's value by an expression. |
|  [divide(fieldName, value)](./firestore_lite_pipelines.md#divide_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that divides a field's value by a constant value. |
|  [dotProduct(fieldName, vector)](./firestore_lite_pipelines.md#dotproduct_463a23e) | <b><i>(Public Preview)</i></b> Calculates the dot product between a field's vector value and a double array. |
|  [dotProduct(fieldName, vectorExpression)](./firestore_lite_pipelines.md#dotproduct_ed766a1) | <b><i>(Public Preview)</i></b> Calculates the dot product between a field's vector value and a vector expression. |
|  [endsWith(fieldName, suffix)](./firestore_lite_pipelines.md#endswith_05ca3b0) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value ends with a given postfix. |
|  [endsWith(fieldName, suffix)](./firestore_lite_pipelines.md#endswith_8fc0ebc) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value ends with a given postfix. |
|  [equal(fieldName, expression)](./firestore_lite_pipelines.md#equal_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is equal to an expression. |
|  [equal(fieldName, value)](./firestore_lite_pipelines.md#equal_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is equal to a constant value. |
|  [equalAny(fieldName, values)](./firestore_lite_pipelines.md#equalany_8060b23) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is equal to any of the provided values or expressions. |
|  [equalAny(fieldName, arrayExpression)](./firestore_lite_pipelines.md#equalany_48da8d9) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is equal to any of the provided values or expressions. |
|  [euclideanDistance(fieldName, vector)](./firestore_lite_pipelines.md#euclideandistance_463a23e) | <b><i>(Public Preview)</i></b> Calculates the Euclidean distance between a field's vector value and a double array. |
|  [euclideanDistance(fieldName, vectorExpression)](./firestore_lite_pipelines.md#euclideandistance_ed766a1) | <b><i>(Public Preview)</i></b> Calculates the Euclidean distance between a field's vector value and a vector expression. |
|  [exists(fieldName)](./firestore_lite_pipelines.md#exists_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field exists. |
|  [exp(fieldName)](./firestore_lite_pipelines.md#exp_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes e to the power of the expression's result. |
|  [floor(fieldName)](./firestore_lite_pipelines.md#floor_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the floor of a numeric value. |
|  [greaterThan(fieldName, expression)](./firestore_lite_pipelines.md#greaterthan_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is greater than an expression. |
|  [greaterThan(fieldName, value)](./firestore_lite_pipelines.md#greaterthan_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is greater than a constant value. |
|  [greaterThanOrEqual(fieldName, value)](./firestore_lite_pipelines.md#greaterthanorequal_2e16acb) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is greater than or equal to an expression. |
|  [greaterThanOrEqual(fieldName, value)](./firestore_lite_pipelines.md#greaterthanorequal_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is greater than or equal to a constant value. |
|  [length\_2(fieldName)](./firestore_lite_pipelines.md#length_2_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of a string, array, map, vector, or bytes. |
|  [lessThan(fieldName, expression)](./firestore_lite_pipelines.md#lessthan_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is less than an expression. |
|  [lessThan(fieldName, value)](./firestore_lite_pipelines.md#lessthan_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is less than a constant value. |
|  [lessThanOrEqual(fieldName, expression)](./firestore_lite_pipelines.md#lessthanorequal_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is less than or equal to an expression. |
|  [lessThanOrEqual(fieldName, value)](./firestore_lite_pipelines.md#lessthanorequal_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is less than or equal to a constant value. |
|  [like(fieldName, pattern)](./firestore_lite_pipelines.md#like_67f7432) | <b><i>(Public Preview)</i></b> Creates an expression that performs a case-sensitive wildcard string comparison against a field. |
|  [like(fieldName, pattern)](./firestore_lite_pipelines.md#like_cb1318d) | <b><i>(Public Preview)</i></b> Creates an expression that performs a case-sensitive wildcard string comparison against a field. |
|  [ln(fieldName)](./firestore_lite_pipelines.md#ln_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the natural logarithm of a numeric value. |
|  [log(fieldName, base)](./firestore_lite_pipelines.md#log_a89e21b) | <b><i>(Public Preview)</i></b> Creates an expression that computes the logarithm of a field to a given base. |
|  [log(fieldName, base)](./firestore_lite_pipelines.md#log_805b11f) | <b><i>(Public Preview)</i></b> Creates an expression that computes the logarithm of a field to a given base. |
|  [log10(fieldName)](./firestore_lite_pipelines.md#log10_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the base-10 logarithm of a numeric value. |
|  [logicalMaximum(fieldName, second, others)](./firestore_lite_pipelines.md#logicalmaximum_828272e) | <b><i>(Public Preview)</i></b> Creates an expression that returns the largest value between multiple input expressions or literal values. Based on Firestore's value type ordering. |
|  [logicalMinimum(fieldName, second, others)](./firestore_lite_pipelines.md#logicalminimum_828272e) | <b><i>(Public Preview)</i></b> Creates an expression that returns the smallest value between a field's value and other input expressions or literal values. Based on Firestore's value type ordering. |
|  [mapGet(fieldName, subField)](./firestore_lite_pipelines.md#mapget_06663cf) | <b><i>(Public Preview)</i></b> Accesses a value from a map (object) field using the provided key. |
|  [maximum(fieldName)](./firestore_lite_pipelines.md#maximum_e5b0480) | <b><i>(Public Preview)</i></b> Creates an aggregation that finds the maximum value of a field across multiple stage inputs. |
|  [minimum(fieldName)](./firestore_lite_pipelines.md#minimum_e5b0480) | <b><i>(Public Preview)</i></b> Creates an aggregation that finds the minimum value of a field across multiple stage inputs. |
|  [mod(fieldName, expression)](./firestore_lite_pipelines.md#mod_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the modulo (remainder) of dividing a field's value by an expression. |
|  [mod(fieldName, value)](./firestore_lite_pipelines.md#mod_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the modulo (remainder) of dividing a field's value by a constant. |
|  [multiply(fieldName, second)](./firestore_lite_pipelines.md#multiply_b75bb8b) | <b><i>(Public Preview)</i></b> Creates an expression that multiplies a field's value by an expression. |
|  [notEqual(fieldName, expression)](./firestore_lite_pipelines.md#notequal_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is not equal to an expression. |
|  [notEqual(fieldName, value)](./firestore_lite_pipelines.md#notequal_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is not equal to a constant value. |
|  [notEqualAny(fieldName, values)](./firestore_lite_pipelines.md#notequalany_8060b23) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is not equal to any of the provided values or expressions. |
|  [notEqualAny(fieldName, arrayExpression)](./firestore_lite_pipelines.md#notequalany_48da8d9) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value is not equal to any of the values in the evaluated expression. |
|  [regexContains(fieldName, pattern)](./firestore_lite_pipelines.md#regexcontains_67f7432) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string field contains a specified regular expression as a substring. |
|  [regexContains(fieldName, pattern)](./firestore_lite_pipelines.md#regexcontains_cb1318d) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string field contains a specified regular expression as a substring. |
|  [regexFind(fieldName, pattern)](./firestore_lite_pipelines.md#regexfind_67f7432) | <b><i>(Public Preview)</i></b> Creates an expression that returns the first substring of a string field that matches a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexFind(fieldName, pattern)](./firestore_lite_pipelines.md#regexfind_cb1318d) | <b><i>(Public Preview)</i></b> Creates an expression that returns the first substring of a string field that matches a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexFindAll(fieldName, pattern)](./firestore_lite_pipelines.md#regexfindall_67f7432) | <b><i>(Public Preview)</i></b> Creates an expression that evaluates to a list of all substrings in a string field that match a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexFindAll(fieldName, pattern)](./firestore_lite_pipelines.md#regexfindall_cb1318d) | <b><i>(Public Preview)</i></b> Creates an expression that evaluates to a list of all substrings in a string field that match a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexMatch(fieldName, pattern)](./firestore_lite_pipelines.md#regexmatch_67f7432) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string field matches a specified regular expression. |
|  [regexMatch(fieldName, pattern)](./firestore_lite_pipelines.md#regexmatch_cb1318d) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string field matches a specified regular expression. |
|  [round(fieldName)](./firestore_lite_pipelines.md#round_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that rounds a numeric value to the nearest whole number. |
|  [round(fieldName, decimalPlaces)](./firestore_lite_pipelines.md#round_07d0cf0) | <b><i>(Public Preview)</i></b> Creates an expression that rounds a numeric value to the specified number of decimal places. |
|  [split(fieldName, delimiter)](./firestore_lite_pipelines.md#split_2cfdd37) | <b><i>(Public Preview)</i></b> Creates an expression that splits the value of a field on the provided delimiter. |
|  [split(fieldName, delimiter)](./firestore_lite_pipelines.md#split_f4fe06a) | <b><i>(Public Preview)</i></b> Creates an expression that splits the value of a field on the provided delimiter. |
|  [sqrt(fieldName)](./firestore_lite_pipelines.md#sqrt_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that computes the square root of a numeric value. |
|  [startsWith(fieldName, prefix)](./firestore_lite_pipelines.md#startswith_89325cc) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value starts with a given prefix. |
|  [startsWith(fieldName, prefix)](./firestore_lite_pipelines.md#startswith_266c338) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field's value starts with a given prefix. |
|  [stringConcat(fieldName, secondString, otherStrings)](./firestore_lite_pipelines.md#stringconcat_d80077e) | <b><i>(Public Preview)</i></b> Creates an expression that concatenates string functions, fields or constants together. |
|  [stringContains(fieldName, substring)](./firestore_lite_pipelines.md#stringcontains_5b94cfe) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string field contains a specified substring. |
|  [stringContains(fieldName, substring)](./firestore_lite_pipelines.md#stringcontains_ac3ba47) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string field contains a substring specified by an expression. |
|  [subtract(fieldName, expression)](./firestore_lite_pipelines.md#subtract_1e91657) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts an expression from a field's value. |
|  [subtract(fieldName, value)](./firestore_lite_pipelines.md#subtract_65e2f32) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts a constant value from a field's value. |
|  [sum(fieldName)](./firestore_lite_pipelines.md#sum_e5b0480) | <b><i>(Public Preview)</i></b> Creates an aggregation that calculates the sum of a field's values across multiple stage inputs. |
|  [timestampAdd(fieldName, unit, amount)](./firestore_lite_pipelines.md#timestampadd_341fe7d) | <b><i>(Public Preview)</i></b> Creates an expression that adds a specified amount of time to a timestamp represented by a field. |
|  [timestampSubtract(fieldName, unit, amount)](./firestore_lite_pipelines.md#timestampsubtract_341fe7d) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts a specified amount of time from a timestamp represented by a field. |
|  [timestampToUnixMicros(fieldName)](./firestore_lite_pipelines.md#timestamptounixmicros_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that converts a timestamp field to the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC). |
|  [timestampToUnixMillis(fieldName)](./firestore_lite_pipelines.md#timestamptounixmillis_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that converts a timestamp field to the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC). |
|  [timestampToUnixSeconds(fieldName)](./firestore_lite_pipelines.md#timestamptounixseconds_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that converts a timestamp field to the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC). |
|  [timestampTruncate(fieldName, granularity, timezone)](./firestore_lite_pipelines.md#timestamptruncate_b6c7512) | <b><i>(Public Preview)</i></b> Creates an expression that truncates a timestamp to a specified granularity. |
|  [timestampTruncate(fieldName, granularity, timezone)](./firestore_lite_pipelines.md#timestamptruncate_ed83d46) | <b><i>(Public Preview)</i></b> Creates an expression that truncates a timestamp to a specified granularity. |
|  [toLower(fieldName)](./firestore_lite_pipelines.md#tolower_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that converts a string field to lowercase. |
|  [toUpper(fieldName)](./firestore_lite_pipelines.md#toupper_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that converts a string field to uppercase. |
|  [trim(fieldName, valueToTrim)](./firestore_lite_pipelines.md#trim_c9f90ee) | <b><i>(Public Preview)</i></b> Creates an expression that removes leading and trailing whitespace from a string or byte array. |
|  [type(fieldName)](./firestore_lite_pipelines.md#type_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that returns the data type of the data in the specified field. |
|  [unixMicrosToTimestamp(fieldName)](./firestore_lite_pipelines.md#unixmicrostotimestamp_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that interprets a field's value as the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp. |
|  [unixMillisToTimestamp(fieldName)](./firestore_lite_pipelines.md#unixmillistotimestamp_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that interprets a field's value as the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp. |
|  [unixSecondsToTimestamp(fieldName)](./firestore_lite_pipelines.md#unixsecondstotimestamp_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that interprets a field's value as the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp. |
|  [vectorLength(fieldName)](./firestore_lite_pipelines.md#vectorlength_e5b0480) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of a Firestore Vector represented by a field. |
|  <b>function(first, ...)</b> |
|  [add(first, second)](./firestore_lite_pipelines.md#add_846ca1b) | <b><i>(Public Preview)</i></b> Creates an expression that adds two expressions together. |
|  [and(first, second, more)](./firestore_lite_pipelines.md#and_e0c48bd) | <b><i>(Public Preview)</i></b> Creates an expression that performs a logical 'AND' operation on multiple filter conditions. |
|  [concat(first, second, others)](./firestore_lite_pipelines.md#concat_83be015) | <b><i>(Public Preview)</i></b> Creates an expression that concatenates strings, arrays, or blobs. Types cannot be mixed. |
|  [logicalMaximum(first, second, others)](./firestore_lite_pipelines.md#logicalmaximum_83be015) | <b><i>(Public Preview)</i></b> Creates an expression that returns the largest value between multiple input expressions or literal values. Based on Firestore's value type ordering. |
|  [logicalMinimum(first, second, others)](./firestore_lite_pipelines.md#logicalminimum_83be015) | <b><i>(Public Preview)</i></b> Creates an expression that returns the smallest value between multiple input expressions and literal values. Based on Firestore's value type ordering. |
|  [multiply(first, second)](./firestore_lite_pipelines.md#multiply_846ca1b) | <b><i>(Public Preview)</i></b> Creates an expression that multiplies two expressions together. |
|  [or(first, second, more)](./firestore_lite_pipelines.md#or_e0c48bd) | <b><i>(Public Preview)</i></b> Creates an expression that performs a logical 'OR' operation on multiple filter conditions. |
|  [xor(first, second, additionalConditions)](./firestore_lite_pipelines.md#xor_8197113) | <b><i>(Public Preview)</i></b> Creates an expression that performs a logical 'XOR' (exclusive OR) operation on multiple BooleanExpressions. |
|  <b>function(firstArray, ...)</b> |
|  [arrayConcat(firstArray, secondArray, otherArrays)](./firestore_lite_pipelines.md#arrayconcat_c00d5d7) | <b><i>(Public Preview)</i></b> Creates an expression that concatenates an array expression with other arrays. |
|  <b>function(firstArrayField, ...)</b> |
|  [arrayConcat(firstArrayField, secondArray, otherArrays)](./firestore_lite_pipelines.md#arrayconcat_f92063d) | <b><i>(Public Preview)</i></b> Creates an expression that concatenates a field's array value with other arrays. |
|  <b>function(firstMap, ...)</b> |
|  [mapMerge(firstMap, secondMap, otherMaps)](./firestore_lite_pipelines.md#mapmerge_cfe77ce) | <b><i>(Public Preview)</i></b> Creates an expression that merges multiple map values. |
|  <b>function(firstString, ...)</b> |
|  [stringConcat(firstString, secondString, otherStrings)](./firestore_lite_pipelines.md#stringconcat_8a8d1b6) | <b><i>(Public Preview)</i></b> Creates an expression that concatenates string expressions together. |
|  <b>function(ifExpr, ...)</b> |
|  [ifAbsent(ifExpr, elseExpr)](./firestore_lite_pipelines.md#ifabsent_0e6d161) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>elseExpr</code> argument if <code>ifExpr</code> is absent, else return the result of the <code>ifExpr</code> argument evaluation. |
|  [ifAbsent(ifExpr, elseValue)](./firestore_lite_pipelines.md#ifabsent_c34e5ed) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>elseValue</code> argument if <code>ifExpr</code> is absent, else return the result of the <code>ifExpr</code> argument evaluation. |
|  <b>function(ifFieldName, ...)</b> |
|  [ifAbsent(ifFieldName, elseExpr)](./firestore_lite_pipelines.md#ifabsent_e6dabea) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>elseExpr</code> argument if <code>ifFieldName</code> is absent, else return the value of the field. |
|  [ifAbsent(ifFieldName, elseValue)](./firestore_lite_pipelines.md#ifabsent_d8f2823) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>elseValue</code> argument if <code>ifFieldName</code> is absent, else return the value of the field. |
|  <b>function(input, ...)</b> |
|  [substring(input, position, length)](./firestore_lite_pipelines.md#substring_e6e0aa3) | <b><i>(Public Preview)</i></b> Creates an expression that returns a substring of a string or byte array. |
|  [substring(input, position, length)](./firestore_lite_pipelines.md#substring_ab56dc6) | <b><i>(Public Preview)</i></b> Creates an expression that returns a substring of a string or byte array. |
|  <b>function(left, ...)</b> |
|  [divide(left, right)](./firestore_lite_pipelines.md#divide_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that divides two expressions. |
|  [equal(left, right)](./firestore_lite_pipelines.md#equal_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that checks if two expressions are equal. |
|  [greaterThan(left, right)](./firestore_lite_pipelines.md#greaterthan_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that checks if the first expression is greater than the second expression. |
|  [greaterThanOrEqual(left, right)](./firestore_lite_pipelines.md#greaterthanorequal_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that checks if the first expression is greater than or equal to the second expression. |
|  [lessThan(left, right)](./firestore_lite_pipelines.md#lessthan_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that checks if the first expression is less than the second expression. |
|  [lessThanOrEqual(left, right)](./firestore_lite_pipelines.md#lessthanorequal_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that checks if the first expression is less than or equal to the second expression. |
|  [mod(left, right)](./firestore_lite_pipelines.md#mod_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the modulo (remainder) of dividing two expressions. |
|  [notEqual(left, right)](./firestore_lite_pipelines.md#notequal_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that checks if two expressions are not equal. |
|  [subtract(left, right)](./firestore_lite_pipelines.md#subtract_b3c3382) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts two expressions. |
|  <b>function(mapExpr, ...)</b> |
|  [mapRemove(mapExpr, key)](./firestore_lite_pipelines.md#mapremove_23c7d51) | <b><i>(Public Preview)</i></b> Creates an expression that removes a key from the map produced by evaluating an expression. |
|  [mapRemove(mapExpr, keyExpr)](./firestore_lite_pipelines.md#mapremove_9fbcaa3) | <b><i>(Public Preview)</i></b> Creates an expression that removes a key from the map produced by evaluating an expression. |
|  <b>function(mapExpression, ...)</b> |
|  [mapEntries(mapExpression)](./firestore_lite_pipelines.md#mapentries_9cf124c) | <b><i>(Public Preview)</i></b> Creates an expression that returns the entries of a map as an array of maps, where each map contains a <code>&quot;k&quot;</code> property for the key and a <code>&quot;v&quot;</code> property for the value. For example: <code>[{ k: &quot;key1&quot;, v: &quot;value1&quot; }, ...]</code>. |
|  [mapGet(mapExpression, subField)](./firestore_lite_pipelines.md#mapget_688c050) | <b><i>(Public Preview)</i></b> Accesses a value from a map (object) expression using the provided key. |
|  [mapKeys(mapExpression)](./firestore_lite_pipelines.md#mapkeys_9cf124c) | <b><i>(Public Preview)</i></b> Creates an expression that returns the keys of a map. |
|  [mapSet(mapExpression, key, value, moreKeyValues)](./firestore_lite_pipelines.md#mapset_45b48ff) | <b><i>(Public Preview)</i></b> Creates an expression that returns a new map with the specified entries added or updated.<!-- -->Note that <code>mapSet</code> only performs shallow updates to the map. Setting a value to <code>null</code> will retain the key with a <code>null</code> value. To remove a key entirely, use <code>mapRemove</code>. |
|  [mapValues(mapExpression)](./firestore_lite_pipelines.md#mapvalues_9cf124c) | <b><i>(Public Preview)</i></b> Creates an expression that returns the values of a map. |
|  <b>function(mapField, ...)</b> |
|  [mapEntries(mapField)](./firestore_lite_pipelines.md#mapentries_83ad836) | <b><i>(Public Preview)</i></b> Creates an expression that returns the entries of a map as an array of maps, where each map contains a <code>&quot;k&quot;</code> property for the key and a <code>&quot;v&quot;</code> property for the value. For example: <code>[{ k: &quot;key1&quot;, v: &quot;value1&quot; }, ...]</code>. |
|  [mapKeys(mapField)](./firestore_lite_pipelines.md#mapkeys_83ad836) | <b><i>(Public Preview)</i></b> Creates an expression that returns the keys of a map. |
|  [mapMerge(mapField, secondMap, otherMaps)](./firestore_lite_pipelines.md#mapmerge_70a564b) | <b><i>(Public Preview)</i></b> Creates an expression that merges multiple map values. |
|  [mapRemove(mapField, key)](./firestore_lite_pipelines.md#mapremove_bd5726e) | <b><i>(Public Preview)</i></b> Creates an expression that removes a key from the map at the specified field name. |
|  [mapRemove(mapField, keyExpr)](./firestore_lite_pipelines.md#mapremove_8406d13) | <b><i>(Public Preview)</i></b> Creates an expression that removes a key from the map at the specified field name. |
|  [mapSet(mapField, key, value, moreKeyValues)](./firestore_lite_pipelines.md#mapset_baadc2a) | <b><i>(Public Preview)</i></b> Creates an expression that returns a new map with the specified entries added or updated.<!-- -->Note that <code>mapSet</code> only performs shallow updates to the map. Setting a value to <code>null</code> will retain the key with a <code>null</code> value. To remove a key entirely, use <code>mapRemove</code>. |
|  [mapValues(mapField)](./firestore_lite_pipelines.md#mapvalues_83ad836) | <b><i>(Public Preview)</i></b> Creates an expression that returns the values of a map. |
|  <b>function(name, ...)</b> |
|  [field(name)](./firestore_lite_pipelines.md#field_1eaaff4) | <b><i>(Public Preview)</i></b> Creates a [Field](./firestore_pipelines.field.md#field_class) instance representing the field at the given path.<!-- -->The path can be a simple field name (e.g., "name") or a dot-separated path to a nested field (e.g., "address.city"). |
|  <b>function(path, ...)</b> |
|  [field(path)](./firestore_lite_pipelines.md#field_34ee07d) | <b><i>(Public Preview)</i></b> Creates a [Field](./firestore_pipelines.field.md#field_class) instance representing the field at the given path. |
|  <b>function(pipeline, ...)</b> |
|  [execute(pipeline)](./firestore_lite_pipelines.md#execute_01df620) | <b><i>(Public Preview)</i></b> Executes this pipeline and returns a Promise to represent the asynchronous operation.<!-- -->The returned Promise can be used to track the progress of the pipeline execution and retrieve the results (or handle any errors) asynchronously.<!-- -->The pipeline results are returned as a [PipelineSnapshot](./firestore_pipelines.pipelinesnapshot.md#pipelinesnapshot_class) that contains a list of [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) objects. Each [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) typically represents a single key/value map that has passed through all the stages of the pipeline, however this might differ depending on the stages involved in the pipeline. For example:<ul> <li>If there are no stages or only transformation stages, each [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) represents a single document.</li> <li>If there is an aggregation, only a single [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) is returned, representing the aggregated results over the entire dataset .</li> <li>If there is an aggregation stage with grouping, each [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) represents a distinct group and its associated aggregated values.</li> </ul> |
|  <b>function(stringExpression, ...)</b> |
|  [charLength(stringExpression)](./firestore_lite_pipelines.md#charlength_c25a54a) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the character length of a string expression in UTF-8. |
|  [endsWith(stringExpression, suffix)](./firestore_lite_pipelines.md#endswith_0a0b889) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression ends with a given postfix. |
|  [endsWith(stringExpression, suffix)](./firestore_lite_pipelines.md#endswith_13aee0d) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression ends with a given postfix. |
|  [like(stringExpression, pattern)](./firestore_lite_pipelines.md#like_a84c581) | <b><i>(Public Preview)</i></b> Creates an expression that performs a case-sensitive wildcard string comparison. |
|  [like(stringExpression, pattern)](./firestore_lite_pipelines.md#like_b534848) | <b><i>(Public Preview)</i></b> Creates an expression that performs a case-sensitive wildcard string comparison. |
|  [regexContains(stringExpression, pattern)](./firestore_lite_pipelines.md#regexcontains_a84c581) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression contains a specified regular expression as a substring. |
|  [regexContains(stringExpression, pattern)](./firestore_lite_pipelines.md#regexcontains_b534848) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression contains a specified regular expression as a substring. |
|  [regexFind(stringExpression, pattern)](./firestore_lite_pipelines.md#regexfind_a84c581) | <b><i>(Public Preview)</i></b> Creates an expression that returns the first substring of a string expression that matches a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexFind(stringExpression, pattern)](./firestore_lite_pipelines.md#regexfind_b534848) | <b><i>(Public Preview)</i></b> Creates an expression that returns the first substring of a string expression that matches a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexFindAll(stringExpression, pattern)](./firestore_lite_pipelines.md#regexfindall_a84c581) | <b><i>(Public Preview)</i></b> Creates an expression that evaluates to a list of all substrings in a string expression that match a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexFindAll(stringExpression, pattern)](./firestore_lite_pipelines.md#regexfindall_b534848) | <b><i>(Public Preview)</i></b> Creates an expression that evaluates to a list of all substrings in a string expression that match a specified regular expression.<!-- -->This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax. |
|  [regexMatch(stringExpression, pattern)](./firestore_lite_pipelines.md#regexmatch_a84c581) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression matches a specified regular expression. |
|  [regexMatch(stringExpression, pattern)](./firestore_lite_pipelines.md#regexmatch_b534848) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression matches a specified regular expression. |
|  [reverse(stringExpression)](./firestore_lite_pipelines.md#reverse_c25a54a) | <b><i>(Public Preview)</i></b> Creates an expression that reverses a string. |
|  [startsWith(stringExpression, prefix)](./firestore_lite_pipelines.md#startswith_75c3dbb) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression starts with a given prefix. |
|  [startsWith(stringExpression, prefix)](./firestore_lite_pipelines.md#startswith_52f218a) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression starts with a given prefix. |
|  [stringContains(stringExpression, substring)](./firestore_lite_pipelines.md#stringcontains_3e9ff32) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression contains a specified substring. |
|  [stringContains(stringExpression, substring)](./firestore_lite_pipelines.md#stringcontains_cc6ee02) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a string expression contains a substring specified by another expression. |
|  [stringReverse(stringExpression)](./firestore_lite_pipelines.md#stringreverse_c25a54a) | <b><i>(Public Preview)</i></b> Creates an expression that reverses a string. |
|  [toLower(stringExpression)](./firestore_lite_pipelines.md#tolower_c25a54a) | <b><i>(Public Preview)</i></b> Creates an expression that converts a string expression to lowercase. |
|  [toUpper(stringExpression)](./firestore_lite_pipelines.md#toupper_c25a54a) | <b><i>(Public Preview)</i></b> Creates an expression that converts a string expression to uppercase. |
|  [trim(stringExpression, valueToTrim)](./firestore_lite_pipelines.md#trim_dd54322) | <b><i>(Public Preview)</i></b> Creates an expression that removes leading and trailing characters from a string or byte array expression. |
|  <b>function(timestamp, ...)</b> |
|  [timestampAdd(timestamp, unit, amount)](./firestore_lite_pipelines.md#timestampadd_98418f9) | <b><i>(Public Preview)</i></b> Creates an expression that adds a specified amount of time to a timestamp. |
|  [timestampAdd(timestamp, unit, amount)](./firestore_lite_pipelines.md#timestampadd_ffe8e57) | <b><i>(Public Preview)</i></b> Creates an expression that adds a specified amount of time to a timestamp. |
|  [timestampSubtract(timestamp, unit, amount)](./firestore_lite_pipelines.md#timestampsubtract_98418f9) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts a specified amount of time from a timestamp. |
|  [timestampSubtract(timestamp, unit, amount)](./firestore_lite_pipelines.md#timestampsubtract_ffe8e57) | <b><i>(Public Preview)</i></b> Creates an expression that subtracts a specified amount of time from a timestamp. |
|  <b>function(timestampExpression, ...)</b> |
|  [timestampTruncate(timestampExpression, granularity, timezone)](./firestore_lite_pipelines.md#timestamptruncate_ad5d843) | <b><i>(Public Preview)</i></b> Creates an expression that truncates a timestamp to a specified granularity. |
|  [timestampTruncate(timestampExpression, granularity, timezone)](./firestore_lite_pipelines.md#timestamptruncate_d6ab2a4) | <b><i>(Public Preview)</i></b> Creates an expression that truncates a timestamp to a specified granularity. |
|  <b>function(tryExpr, ...)</b> |
|  [ifError(tryExpr, catchExpr)](./firestore_lite_pipelines.md#iferror_a99a327) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>catch</code> argument if there is an error, else return the result of the <code>try</code> argument evaluation.<!-- -->This overload is useful when a BooleanExpression is required. |
|  [ifError(tryExpr, catchExpr)](./firestore_lite_pipelines.md#iferror_756c12e) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>catch</code> argument if there is an error, else return the result of the <code>try</code> argument evaluation. |
|  [ifError(tryExpr, catchValue)](./firestore_lite_pipelines.md#iferror_dc532f9) | <b><i>(Public Preview)</i></b> Creates an expression that returns the <code>catch</code> argument if there is an error, else return the result of the <code>try</code> argument evaluation. |
|  <b>function(value, ...)</b> |
|  [constant(value)](./firestore_lite_pipelines.md#constant_0c00f91) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a number value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_6dac335) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a VectorValue value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_7c807cd) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a string value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_b2e4f8d) | <b><i>(Public Preview)</i></b> Creates a <code>BooleanExpression</code> instance for a boolean value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_73ebd84) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a null value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_72a76cb) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a GeoPoint value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_000477d) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a Timestamp value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_5131bf7) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a Date value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_fdf565d) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a Bytes value. |
|  [constant(value)](./firestore_lite_pipelines.md#constant_bcd2b0b) | <b><i>(Public Preview)</i></b> Creates a <code>Constant</code> instance for a DocumentReference value. |
|  [exists(value)](./firestore_lite_pipelines.md#exists_f3daf14) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a field exists. |
|  [isAbsent(value)](./firestore_lite_pipelines.md#isabsent_f3daf14) | <b><i>(Public Preview)</i></b> Creates an expression that returns <code>true</code> if a value is absent. Otherwise, returns <code>false</code> even if the value is <code>null</code>. |
|  [isError(value)](./firestore_lite_pipelines.md#iserror_f3daf14) | <b><i>(Public Preview)</i></b> Creates an expression that checks if a given expression produces an error. |
|  <b>function(vectorExpression, ...)</b> |
|  [cosineDistance(vectorExpression, vector)](./firestore_lite_pipelines.md#cosinedistance_3a80317) | <b><i>(Public Preview)</i></b> Calculates the Cosine distance between a vector expression and a vector literal. |
|  [cosineDistance(vectorExpression, otherVectorExpression)](./firestore_lite_pipelines.md#cosinedistance_17b5bcc) | <b><i>(Public Preview)</i></b> Calculates the Cosine distance between two vector expressions. |
|  [dotProduct(vectorExpression, vector)](./firestore_lite_pipelines.md#dotproduct_3a80317) | <b><i>(Public Preview)</i></b> Calculates the dot product between a vector expression and a double array. |
|  [dotProduct(vectorExpression, otherVectorExpression)](./firestore_lite_pipelines.md#dotproduct_17b5bcc) | <b><i>(Public Preview)</i></b> Calculates the dot product between two vector expressions. |
|  [euclideanDistance(vectorExpression, vector)](./firestore_lite_pipelines.md#euclideandistance_3a80317) | <b><i>(Public Preview)</i></b> Calculates the Euclidean distance between a vector expression and a double array. |
|  [euclideanDistance(vectorExpression, otherVectorExpression)](./firestore_lite_pipelines.md#euclideandistance_17b5bcc) | <b><i>(Public Preview)</i></b> Calculates the Euclidean distance between two vector expressions. |
|  [vectorLength(vectorExpression)](./firestore_lite_pipelines.md#vectorlength_58a039b) | <b><i>(Public Preview)</i></b> Creates an expression that calculates the length of a Firestore Vector. |

## Classes

|  Class | Description |
|  --- | --- |
|  [AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class) | <b><i>(Public Preview)</i></b> A class that represents an aggregate function. |
|  [AliasedAggregate](./firestore_lite_pipelines.aliasedaggregate.md#aliasedaggregate_class) | <b><i>(Public Preview)</i></b> An AggregateFunction with alias. |
|  [AliasedExpression](./firestore_lite_pipelines.aliasedexpression.md#aliasedexpression_class) | <b><i>(Public Preview)</i></b> |
|  [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | <b><i>(Public Preview)</i></b> An interface that represents a filter condition. |
|  [Bytes](./firestore_lite_pipelines.bytes.md#bytes_class) | An immutable object representing an array of bytes. |
|  [CollectionReference](./firestore_lite_pipelines.collectionreference.md#collectionreference_class) | A <code>CollectionReference</code> object can be used for adding documents, getting document references, and querying for documents (using [query()](./firestore_.md#query_9f7b0f4)<!-- -->). |
|  [DocumentReference](./firestore_lite_pipelines.documentreference.md#documentreference_class) | A <code>DocumentReference</code> refers to a document location in a Firestore database and can be used to write, read, or listen to the location. The document at the referenced location may or may not exist. |
|  [DocumentSnapshot](./firestore_lite_pipelines.documentsnapshot.md#documentsnapshot_class) | A <code>DocumentSnapshot</code> contains data read from a document in your Firestore database. The data can be extracted with <code>.data()</code> or <code>.get(&lt;field&gt;)</code> to get a specific field.<!-- -->For a <code>DocumentSnapshot</code> that points to a non-existing document, any data access will return 'undefined'. You can use the <code>exists()</code> method to explicitly verify a document's existence. |
|  [Expression](./firestore_lite_pipelines.expression.md#expression_class) | <b><i>(Public Preview)</i></b> Represents an expression that can be evaluated to a value within the execution of a [Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)<!-- -->.<!-- -->Expressions are the building blocks for creating complex queries and transformations in Firestore pipelines. They can represent:<!-- -->- \*\*Field references:\*\* Access values from document fields. - \*\*Literals:\*\* Represent constant values (strings, numbers, booleans). - \*\*Function calls:\*\* Apply functions to one or more expressions.<!-- -->The <code>Expression</code> class provides a fluent API for building expressions. You can chain together method calls to create complex expressions. |
|  [Field](./firestore_lite_pipelines.field.md#field_class) | <b><i>(Public Preview)</i></b> Represents a reference to a field in a Firestore document, or outputs of a [Pipeline](./firestore_pipelines.pipeline.md#pipeline_class) stage.<p>Field references are used to access document field values in expressions and to specify fields for sorting, filtering, and projecting data in Firestore pipelines.<p>You can create a <code>Field</code> instance using the static  method: |
|  [FieldPath](./firestore_lite_pipelines.fieldpath.md#fieldpath_class) | A <code>FieldPath</code> refers to a field in a document. The path may consist of a single field name (referring to a top-level field in the document), or a list of field names (referring to a nested field in the document).<!-- -->Create a <code>FieldPath</code> by providing field names. If more than one field name is provided, the path will point to a nested field in a document. |
|  [FieldValue](./firestore_lite_pipelines.fieldvalue.md#fieldvalue_class) | Sentinel values that can be used when writing document fields with <code>set()</code> or <code>update()</code>. |
|  [Firestore](./firestore_lite_pipelines.firestore.md#firestore_class) | The Cloud Firestore service interface.<!-- -->Do not call this constructor directly. Instead, use [getFirestore()](./firestore_.md#getfirestore)<!-- -->. |
|  [FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class) | <b><i>(Public Preview)</i></b> This class defines the base class for Firestore [Pipeline](./firestore_pipelines.pipeline.md#pipeline_class) functions, which can be evaluated within pipeline execution.<!-- -->Typically, you would not use this class or its children directly. Use either the functions like [and()](./firestore_pipelines.md#and_e0c48bd)<!-- -->, [equal()](./firestore_pipelines.md#equal_b3c3382)<!-- -->, or the methods on [Expression](./firestore_pipelines.expression.md#expression_class) ([Expression.equal()](./firestore_pipelines.expression.md#expressionequal)<!-- -->, [Expression.lessThan()](./firestore_pipelines.expression.md#expressionlessthan)<!-- -->, etc.) to construct new Function instances. |
|  [GeoPoint](./firestore_lite_pipelines.geopoint.md#geopoint_class) | An immutable object representing a geographic location in Firestore. The location is represented as latitude/longitude pair.<!-- -->Latitude values are in the range of \[-90, 90\]. Longitude values are in the range of \[-180, 180\]. |
|  [Ordering](./firestore_lite_pipelines.ordering.md#ordering_class) | <b><i>(Public Preview)</i></b> Represents an ordering criterion for sorting documents in a Firestore pipeline.<!-- -->You create <code>Ordering</code> instances using the <code>ascending</code> and <code>descending</code> helper functions. |
|  [Pipeline](./firestore_lite_pipelines.pipeline.md#pipeline_class) | <b><i>(Public Preview)</i></b> The Pipeline class provides a flexible and expressive framework for building complex data transformation and query pipelines for Firestore.<!-- -->A pipeline takes data sources, such as Firestore collections or collection groups, and applies a series of stages that are chained together. Each stage takes the output from the previous stage (or the data source) and produces an output for the next stage (or as the final output of the pipeline).<!-- -->Expressions can be used within each stage to filter and transform data through the stage.<!-- -->NOTE: The chained stages do not prescribe exactly how Firestore will execute the pipeline. Instead, Firestore only guarantees that the result is the same as if the chained stages were executed in order.<!-- -->Usage Examples: |
|  [PipelineResult](./firestore_lite_pipelines.pipelineresult.md#pipelineresult_class) | <b><i>(Public Preview)</i></b> A PipelineResult contains data read from a Firestore Pipeline. The data can be extracted with the [PipelineResult.data()](./firestore_pipelines.pipelineresult.md#pipelineresultdata) or [PipelineResult.get()](./firestore_pipelines.pipelineresult.md#pipelineresultget) methods.<p>If the PipelineResult represents a non-document result, <code>ref</code> will return a undefined value. |
|  [PipelineSnapshot](./firestore_lite_pipelines.pipelinesnapshot.md#pipelinesnapshot_class) | <b><i>(Public Preview)</i></b> Represents the results of a Firestore pipeline execution.<!-- -->A <code>PipelineSnapshot</code> contains zero or more [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) objects representing the documents returned by a pipeline query. It provides methods to iterate over the documents and access metadata about the query results. |
|  [PipelineSource](./firestore_lite_pipelines.pipelinesource.md#pipelinesource_class) | <b><i>(Public Preview)</i></b> Provides the entry point for defining the data source of a Firestore [Pipeline](./firestore_pipelines.pipeline.md#pipeline_class)<!-- -->.<!-- -->Use the methods of this class (e.g., [PipelineSource.collection()](./firestore_pipelines.pipelinesource.md#pipelinesourcecollection)<!-- -->, [PipelineSource.collectionGroup()](./firestore_pipelines.pipelinesource.md#pipelinesourcecollectiongroup)<!-- -->, [PipelineSource.database()](./firestore_pipelines.pipelinesource.md#pipelinesourcedatabase)<!-- -->, or [PipelineSource.documents()](./firestore_pipelines.pipelinesource.md#pipelinesourcedocuments)<!-- -->) to specify the initial data for your pipeline, such as a collection, a collection group, the entire database, or a set of specific documents. |
|  [Query](./firestore_lite_pipelines.query.md#query_class) | A <code>Query</code> refers to a query which you can read or listen to. You can also construct refined <code>Query</code> objects by adding filters and ordering. |
|  [QueryDocumentSnapshot](./firestore_lite_pipelines.querydocumentsnapshot.md#querydocumentsnapshot_class) | A <code>QueryDocumentSnapshot</code> contains data read from a document in your Firestore database as part of a query. The document is guaranteed to exist and its data can be extracted with <code>.data()</code> or <code>.get(&lt;field&gt;)</code> to get a specific field.<!-- -->A <code>QueryDocumentSnapshot</code> offers the same API surface as a <code>DocumentSnapshot</code>. Since query results contain only existing documents, the <code>exists</code> property will always be true and <code>data()</code> will never return 'undefined'. |
|  [Timestamp](./firestore_lite_pipelines.timestamp.md#timestamp_class) | A <code>Timestamp</code> represents a point in time independent of any time zone or calendar, represented as seconds and fractions of seconds at nanosecond resolution in UTC Epoch time.<!-- -->It is encoded using the Proleptic Gregorian Calendar which extends the Gregorian calendar backwards to year one. It is encoded assuming all minutes are 60 seconds long, i.e. leap seconds are "smeared" so that no leap second table is needed for interpretation. Range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z.<!-- -->For examples and further specifications, refer to the [Timestamp definition](https://github.com/google/protobuf/blob/master/src/google/protobuf/timestamp.proto)<!-- -->. |
|  [VectorValue](./firestore_lite_pipelines.vectorvalue.md#vectorvalue_class) | Represents a vector type in Firestore documents. Create an instance with <code>[vector()](./firestore_.md#vector_0dbdaf2)</code>. |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [DocumentData](./firestore_lite_pipelines.documentdata.md#documentdata_interface) | Document data (for use with [setDoc()](./firestore_lite.md#setdoc_ee215ad)<!-- -->) consists of fields mapped to values. |
|  [FirestoreDataConverter](./firestore_lite_pipelines.firestoredataconverter.md#firestoredataconverter_interface) | Converter used by <code>withConverter()</code> to transform user objects of type <code>AppModelType</code> into Firestore data of type <code>DbModelType</code>.<!-- -->Using the converter allows you to specify generic type arguments when storing and retrieving objects from Firestore.<!-- -->In this context, an "AppModel" is a class that is used in an application to package together related information and functionality. Such a class could, for example, have properties with complex, nested data types, properties used for memoization, properties of types not supported by Firestore (such as <code>symbol</code> and <code>bigint</code>), and helper functions that perform compound operations. Such classes are not suitable and/or possible to store into a Firestore database. Instead, instances of such classes need to be converted to "plain old JavaScript objects" (POJOs) with exclusively primitive properties, potentially nested inside other POJOs or arrays of POJOs. In this context, this type is referred to as the "DbModel" and would be an object suitable for persisting into Firestore. For convenience, applications can implement <code>FirestoreDataConverter</code> and register the converter with Firestore objects, such as <code>DocumentReference</code> or <code>Query</code>, to automatically convert <code>AppModel</code> to <code>DbModel</code> when storing into Firestore, and convert <code>DbModel</code> to <code>AppModel</code> when retrieving from Firestore. |
|  [Selectable](./firestore_lite_pipelines.selectable.md#selectable_interface) | <b><i>(Public Preview)</i></b> An interface that represents a selectable expression. |
|  [StageOptions](./firestore_lite_pipelines.stageoptions.md#stageoptions_interface) | <b><i>(Public Preview)</i></b> Options defining how a Stage is evaluated. |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [AddFieldsStageOptions](./firestore_lite_pipelines.md#addfieldsstageoptions) | <b><i>(Public Preview)</i></b> Options defining how an AddFieldsStage is evaluated. See [Pipeline.addFields()](./firestore_pipelines.pipeline.md#pipelineaddfields)<!-- -->. |
|  [AggregateStageOptions](./firestore_lite_pipelines.md#aggregatestageoptions) | <b><i>(Public Preview)</i></b> Options defining how an AggregateStage is evaluated. See [Pipeline.aggregate()](./firestore_pipelines.pipeline.md#pipelineaggregate)<!-- -->. |
|  [CollectionGroupStageOptions](./firestore_lite_pipelines.md#collectiongroupstageoptions) | <b><i>(Public Preview)</i></b> Defines the configuration options for a CollectionGroupStage within a pipeline. This type extends [StageOptions](./firestore_pipelines.stageoptions.md#stageoptions_interface) and provides specific settings for how a collection group is identified and processed during pipeline execution.<!-- -->See [PipelineSource.collectionGroup()](./firestore_pipelines.pipelinesource.md#pipelinesourcecollectiongroup) to create a collection group stage. |
|  [CollectionStageOptions](./firestore_lite_pipelines.md#collectionstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a CollectionStage is evaluated. See [PipelineSource.collection()](./firestore_pipelines.pipelinesource.md#pipelinesourcecollection)<!-- -->. |
|  [DatabaseStageOptions](./firestore_lite_pipelines.md#databasestageoptions) | <b><i>(Public Preview)</i></b> Options defining how a DatabaseStage is evaluated. See [PipelineSource.database()](./firestore_pipelines.pipelinesource.md#pipelinesourcedatabase)<!-- -->. |
|  [DistinctStageOptions](./firestore_lite_pipelines.md#distinctstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a DistinctStage is evaluated. See [Pipeline.distinct()](./firestore_pipelines.pipeline.md#pipelinedistinct)<!-- -->. |
|  [DocumentsStageOptions](./firestore_lite_pipelines.md#documentsstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a DocumentsStage is evaluated. See [PipelineSource.documents()](./firestore_pipelines.pipelinesource.md#pipelinesourcedocuments)<!-- -->. |
|  [ExpressionType](./firestore_lite_pipelines.md#expressiontype) | <b><i>(Public Preview)</i></b> An enumeration of the different types of expressions. |
|  [FindNearestStageOptions](./firestore_lite_pipelines.md#findneareststageoptions) | <b><i>(Public Preview)</i></b> Options defining how a FindNearestStage is evaluated. See [Pipeline.findNearest()](./firestore_pipelines.pipeline.md#pipelinefindnearest)<!-- -->. |
|  [LimitStageOptions](./firestore_lite_pipelines.md#limitstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a LimitStage is evaluated. See [Pipeline.limit()](./firestore_pipelines.pipeline.md#pipelinelimit)<!-- -->. |
|  [OffsetStageOptions](./firestore_lite_pipelines.md#offsetstageoptions) | <b><i>(Public Preview)</i></b> Options defining how an OffsetStage is evaluated. See [Pipeline.offset()](./firestore_pipelines.pipeline.md#pipelineoffset)<!-- -->. |
|  [OneOf](./firestore_lite_pipelines.md#oneof) | <b><i>(Public Preview)</i></b> Utility type to create an type that only allows one property of the Type param T to be set. |
|  [PartialWithFieldValue](./firestore_lite_pipelines.md#partialwithfieldvalue) | Similar to TypeScript's <code>Partial&lt;T&gt;</code>, but allows nested fields to be omitted and FieldValues to be passed in as property values. |
|  [Primitive](./firestore_lite_pipelines.md#primitive) | Primitive types. |
|  [RemoveFieldsStageOptions](./firestore_lite_pipelines.md#removefieldsstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a RemoveFieldsStage is evaluated. See [Pipeline.removeFields()](./firestore_pipelines.pipeline.md#pipelineremovefields)<!-- -->. |
|  [ReplaceWithStageOptions](./firestore_lite_pipelines.md#replacewithstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a ReplaceWithStage is evaluated. See [Pipeline.replaceWith()](./firestore_pipelines.pipeline.md#pipelinereplacewith)<!-- -->. |
|  [SampleStageOptions](./firestore_lite_pipelines.md#samplestageoptions) | <b><i>(Public Preview)</i></b> Defines the options for evaluating a sample stage within a pipeline. This type combines common [StageOptions](./firestore_pipelines.stageoptions.md#stageoptions_interface) with a specific configuration where only one of the defined sampling methods can be applied.<!-- -->See [Pipeline.sample()](./firestore_pipelines.pipeline.md#pipelinesample) to create a sample stage.. |
|  [SelectStageOptions](./firestore_lite_pipelines.md#selectstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a SelectStage is evaluated. See [Pipeline.select()](./firestore_pipelines.pipeline.md#pipelineselect)<!-- -->. |
|  [SetOptions](./firestore_lite_pipelines.md#setoptions) | An options object that configures the behavior of [setDoc()](./firestore_lite.md#setdoc_ee215ad)<!-- -->,  and  calls. These calls can be configured to perform granular merges instead of overwriting the target documents in their entirety by providing a <code>SetOptions</code> with <code>merge: true</code>. |
|  [SortStageOptions](./firestore_lite_pipelines.md#sortstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a SortStage is evaluated. See [Pipeline.sort()](./firestore_pipelines.pipeline.md#pipelinesort)<!-- -->. |
|  [TimeGranularity](./firestore_lite_pipelines.md#timegranularity) | <b><i>(Public Preview)</i></b> Specify time granularity for expressions. |
|  [UnionStageOptions](./firestore_lite_pipelines.md#unionstageoptions) | <b><i>(Public Preview)</i></b> Options defining how a UnionStage is evaluated. See [Pipeline.union()](./firestore_pipelines.pipeline.md#pipelineunion)<!-- -->. |
|  [UnnestStageOptions](./firestore_lite_pipelines.md#unneststageoptions) | <b><i>(Public Preview)</i></b> Represents the specific options available for configuring an <code>UnnestStage</code> within a pipeline. |
|  [WhereStageOptions](./firestore_lite_pipelines.md#wherestageoptions) | <b><i>(Public Preview)</i></b> Options defining how a WhereStage is evaluated. See [Pipeline.where()](./firestore_pipelines.pipeline.md#pipelinewhere)<!-- -->. |
|  [WithFieldValue](./firestore_lite_pipelines.md#withfieldvalue) | Allows FieldValues to be passed in as a property value while maintaining type safety. |

## function()

### countAll() {:#countall}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that counts the total number of stage inputs.

<b>Signature:</b>

```typescript
export declare function countAll(): AggregateFunction;
```
<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'countAll' aggregation.

### Example


```typescript
// Count the total number of input documents
countAll().as("totalDocument");

```

### currentTimestamp() {:#currenttimestamp}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that evaluates to the current server timestamp.

<b>Signature:</b>

```typescript
export declare function currentTimestamp(): FunctionExpression;
```
<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new Expression representing the current server timestamp.

### Example


```typescript
// Get the current server timestamp
currentTimestamp()

```

## function(array, ...)

### arrayContains(array, element) {:#arraycontains_a00ea48}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an array expression contains a specific element.

<b>Signature:</b>

```typescript
export declare function arrayContains(array: Expression, element: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to check. |
|  element | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The element to search for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains' comparison.

### Example


```typescript
// Check if the 'colors' array contains the value of field 'selectedColor'
arrayContains(field("colors"), field("selectedColor"));

```

### arrayContains(array, element) {:#arraycontains_7328608}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an array expression contains a specific element.

<b>Signature:</b>

```typescript
export declare function arrayContains(array: Expression, element: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to check. |
|  element | unknown | The element to search for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains' comparison.

### Example


```typescript
// Check if the 'colors' array contains "red"
arrayContains(field("colors"), "red");

```

### arrayContainsAll(array, values) {:#arraycontainsall_c658ad5}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an array expression contains all the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayContainsAll(array: Expression, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to check. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_all' comparison.

### Example


```typescript
// Check if the "tags" array contains all of the values: "SciFi", "Adventure", and the value from field "tag1"
arrayContainsAll(field("tags"), [field("tag1"), constant("SciFi"), "Adventure"]);

```

### arrayContainsAll(array, arrayExpression) {:#arraycontainsall_7b535db}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an array expression contains all the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayContainsAll(array: Expression, arrayExpression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to check. |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_all' comparison.

### Example


```typescript
// Check if the "tags" array contains all of the values: "SciFi", "Adventure", and the value from field "tag1"
arrayContainsAll(field("tags"), [field("tag1"), constant("SciFi"), "Adventure"]);

```

### arrayContainsAny(array, values) {:#arraycontainsany_c658ad5}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an array expression contains any of the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayContainsAny(array: Expression, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to check. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_any' comparison.

### Example


```typescript
// Check if the 'categories' array contains either values from field "cate1" or "Science"
arrayContainsAny(field("categories"), [field("cate1"), "Science"]);

```

### arrayContainsAny(array, values) {:#arraycontainsany_c381a96}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an array expression contains any of the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayContainsAny(array: Expression, values: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to check. |
|  values | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that evaluates to an array, whose elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_any' comparison.

### Example


```typescript
// Check if the 'categories' array contains either values from field "cate1" or "Science"
arrayContainsAny(field("categories"), array([field("cate1"), "Science"]));

```

### arrayLength(array) {:#arraylength_195e339}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of an array expression.

<b>Signature:</b>

```typescript
export declare function arrayLength(array: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  array | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The array expression to calculate the length of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the array.

### Example


```typescript
// Get the number of items in the 'cart' array
arrayLength(field("cart"));

```

## function(arrayExpression, ...)

### arrayGet(arrayExpression, offset) {:#arrayget_f2e27cc}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end.

<b>Signature:</b>

```typescript
export declare function arrayGet(arrayExpression: Expression, offset: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An <code>Expression</code> evaluating to an array. |
|  offset | number | The index of the element to return. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the 'arrayGet' operation.

### Example


```typescript
// Return the value in the tags field array at index 1.
arrayGet(field('tags'), 1);

```

### arrayGet(arrayExpression, offsetExpr) {:#arrayget_484550d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end.

<b>Signature:</b>

```typescript
export declare function arrayGet(arrayExpression: Expression, offsetExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An <code>Expression</code> evaluating to an array. |
|  offsetExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An <code>Expression</code> evaluating to the index of the element to return. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the 'arrayGet' operation.

### Example


```typescript
// Return the value in the tags field array at index specified by field
// 'favoriteTag'.
arrayGet(field('tags'), field('favoriteTag'));

```

### join(arrayExpression, delimiterExpression) {:#join_313e6aa}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that joins the elements of an array into a string.

<b>Signature:</b>

```typescript
export declare function join(arrayExpression: Expression, delimiterExpression: Expression): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that evaluates to an array. |
|  delimiterExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression that evaluates to the delimiter string. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the join operation.

### Example


```typescript
// Join an array of string using the delimiter from the 'separator' field.
join(array(['foo', 'bar']), field("separator"))

```

### join(arrayExpression, delimiter) {:#join_d088d29}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that joins the elements of an array into a string.

<b>Signature:</b>

```typescript
export declare function join(arrayExpression: Expression, delimiter: string): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that evaluates to an array. |
|  delimiter | string | The string to use as a delimiter. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the join operation.

### Example


```typescript
// Join the elements of the 'tags' field with a comma and space.
join(field("tags"), ", ")

```

## function(arrayField, ...)

### arrayGet(arrayField, offset) {:#arrayget_3f58471}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end.

<b>Signature:</b>

```typescript
export declare function arrayGet(arrayField: string, offset: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayField | string | The name of the array field. |
|  offset | number | The index of the element to return. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the 'arrayGet' operation.

### Example


```typescript
// Return the value in the tags field array at index 1.
arrayGet('tags', 1);

```

### arrayGet(arrayField, offsetExpr) {:#arrayget_1904c9a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that indexes into an array from the beginning or end and return the element. If the offset exceeds the array length, an error is returned. A negative offset, starts from the end.

<b>Signature:</b>

```typescript
export declare function arrayGet(arrayField: string, offsetExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayField | string | The name of the array field. |
|  offsetExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An <code>Expression</code> evaluating to the index of the element to return. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the 'arrayGet' operation.

### Example


```typescript
// Return the value in the tags field array at index specified by field
// 'favoriteTag'.
arrayGet('tags', field('favoriteTag'));

```

## function(arrayFieldName, ...)

### join(arrayFieldName, delimiter) {:#join_478ef36}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that joins the elements of an array into a string.

<b>Signature:</b>

```typescript
export declare function join(arrayFieldName: string, delimiter: string): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayFieldName | string | The name of the field containing the array. |
|  delimiter | string | The string to use as a delimiter. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the join operation.

### Example


```typescript
// Join the elements of the 'tags' field with a comma and space.
join("tags", ", ")

```

### join(arrayFieldName, delimiterExpression) {:#join_829294c}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that joins the elements of an array into a string.

<b>Signature:</b>

```typescript
export declare function join(arrayFieldName: string, delimiterExpression: Expression): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  arrayFieldName | string | The name of the field containing the array. |
|  delimiterExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression that evaluates to the delimiter string. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the join operation.

### Example


```typescript
// Join the elements of the 'tags' field with the delimiter from the 'separator' field.
join('tags', field("separator"))

```

## function(base, ...)

### pow(base, exponent) {:#pow_e4a9e64}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the value of the base expression raised to the power of the exponent expression.

<b>Signature:</b>

```typescript
export declare function pow(base: Expression, exponent: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  base | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to raise to the power of the exponent. |
|  exponent | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to raise the base to the power of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the power operation.

### Example


```typescript
// Raise the value of the 'base' field to the power of the 'exponent' field.
pow(field("base"), field("exponent"));

```

### pow(base, exponent) {:#pow_93eae7f}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the value of the base expression raised to the power of the exponent.

<b>Signature:</b>

```typescript
export declare function pow(base: Expression, exponent: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  base | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to raise to the power of the exponent. |
|  exponent | number | The constant value to raise the base to the power of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the power operation.

### Example


```typescript
// Raise the value of the 'base' field to the power of 2.
pow(field("base"), 2);

```

### pow(base, exponent) {:#pow_a237721}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the value of the base field raised to the power of the exponent expression.

<b>Signature:</b>

```typescript
export declare function pow(base: string, exponent: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  base | string | The name of the field to raise to the power of the exponent. |
|  exponent | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to raise the base to the power of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the power operation.

### Example


```typescript
// Raise the value of the 'base' field to the power of the 'exponent' field.
pow("base", field("exponent"));

```

### pow(base, exponent) {:#pow_f4d7908}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the value of the base field raised to the power of the exponent.

<b>Signature:</b>

```typescript
export declare function pow(base: string, exponent: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  base | string | The name of the field to raise to the power of the exponent. |
|  exponent | number | The constant value to raise the base to the power of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the power operation.

### Example


```typescript
// Raise the value of the 'base' field to the power of 2.
pow("base", 2);

```

## function(booleanExpr, ...)

### countIf(booleanExpr) {:#countif_c5b8fb1}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that counts the number of stage inputs where the provided boolean expression evaluates to true.

<b>Signature:</b>

```typescript
export declare function countIf(booleanExpr: BooleanExpression): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  booleanExpr | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The boolean expression to evaluate on each input. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new `AggregateFunction` representing the 'countIf' aggregation.

### Example


```typescript
// Count the number of documents where 'is_active' field equals true
countIf(field("is_active").equal(true)).as("numActiveDocuments");

```

### not(booleanExpr) {:#not_c5b8fb1}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that negates a filter condition.

<b>Signature:</b>

```typescript
export declare function not(booleanExpr: BooleanExpression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  booleanExpr | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The filter condition to negate. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the negated filter condition.

### Example


```typescript
// Find documents where the 'completed' field is NOT true
not(equal("completed", true));

```

## function(condition, ...)

### conditional(condition, thenExpr, elseExpr) {:#conditional_07a206d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a conditional expression that evaluates to a 'then' expression if a condition is true and an 'else' expression if the condition is false.

<b>Signature:</b>

```typescript
export declare function conditional(condition: BooleanExpression, thenExpr: Expression, elseExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  condition | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The condition to evaluate. |
|  thenExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to evaluate if the condition is true. |
|  elseExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to evaluate if the condition is false. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the conditional expression.

### Example


```typescript
// If 'age' is greater than 18, return "Adult"; otherwise, return "Minor".
conditional(
    greaterThan("age", 18), constant("Adult"), constant("Minor"));

```

## function(documentPath, ...)

### documentId(documentPath) {:#documentid_cef293c}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the document ID from a path.

<b>Signature:</b>

```typescript
export declare function documentId(documentPath: string | DocumentReference): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  documentPath | string \| [DocumentReference](./firestore_lite.documentreference.md#documentreference_class) |  |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the documentId operation.

### Example


```typescript
// Get the document ID from a path.
documentId(myDocumentReference);

```

## function(documentPathExpr, ...)

### documentId(documentPathExpr) {:#documentid_9a69021}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the document ID from a path.

<b>Signature:</b>

```typescript
export declare function documentId(documentPathExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  documentPathExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) |  |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the documentId operation.

### Example


```typescript
// Get the document ID from a path.
documentId(field("__path__"));

```

## function(element, ...)

### notEqualAny(element, values) {:#notequalany_c2c5bcb}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is not equal to any of the provided values or expressions.

<b>Signature:</b>

```typescript
export declare function notEqualAny(element: Expression, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  element | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The values to check against. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'NOT IN' comparison.

### Example


```typescript
// Check if the 'status' field is neither "pending" nor the value of 'rejectedStatus'
notEqualAny(field("status"), ["pending", field("rejectedStatus")]);

```

### notEqualAny(element, arrayExpression) {:#notequalany_16b2851}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is not equal to any of the provided values or expressions.

<b>Signature:</b>

```typescript
export declare function notEqualAny(element: Expression, arrayExpression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  element | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The values to check against. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'NOT IN' comparison.

### Example


```typescript
// Check if the 'status' field is neither "pending" nor the value of the field 'rejectedStatus'
notEqualAny(field("status"), ["pending", field("rejectedStatus")]);

```

## function(elements, ...)

### array(elements) {:#array_7d853aa}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that creates a Firestore array value from an input array.

<b>Signature:</b>

```typescript
export declare function array(elements: unknown[]): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  elements | unknown\[\] | The input array to evaluate in the expression. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the array function.

### Example


```typescript
// Create an array value from the input array and reference the 'baz' field value from the input document.
array(['bar', Field.of('baz')]).as('foo');

```

### map(elements) {:#map_ce5dee1}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that creates a Firestore map value from an input object.

<b>Signature:</b>

```typescript
export declare function map(elements: Record<string, unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  elements | Record&lt;string, unknown&gt; | The input map to evaluate in the expression. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the map function.

### Example


```typescript
// Create a map from the input object and reference the 'baz' field value from the input document.
map({foo: 'bar', baz: Field.of('baz')}).as('data');

```

## function(expr, ...)

### abs(expr) {:#abs_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the absolute value of a numeric value.

<b>Signature:</b>

```typescript
export declare function abs(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compute the absolute value of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the absolute value of the numeric value.

### ascending(expr) {:#ascending_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in ascending order based on an expression.

<b>Signature:</b>

```typescript
export declare function ascending(expr: Expression): Ordering;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to create an ascending ordering for. |

<b>Returns:</b>

[Ordering](./firestore_lite_pipelines.ordering.md#ordering_class)

A new `Ordering` for ascending sorting.

### Example


```typescript
// Sort documents by the 'name' field in lowercase in ascending order
firestore.pipeline().collection("users")
  .sort(ascending(field("name").toLower()));

```

### byteLength(expr) {:#bytelength_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the byte length of a string in UTF-8, or just the length of a Blob.

<b>Signature:</b>

```typescript
export declare function byteLength(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the string in bytes.

### Example


```typescript
// Calculate the length of the 'myString' field in bytes.
byteLength(field("myString"));

```

### countDistinct(expr) {:#countdistinct_3c28b08}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that counts the number of distinct values of a field.

<b>Signature:</b>

```typescript
export declare function countDistinct(expr: Expression | string): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| string | The expression or field to count distinct values of. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new `AggregateFunction` representing the 'count\_distinct' aggregation.

### descending(expr) {:#descending_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in descending order based on an expression.

<b>Signature:</b>

```typescript
export declare function descending(expr: Expression): Ordering;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to create a descending ordering for. |

<b>Returns:</b>

[Ordering](./firestore_lite_pipelines.ordering.md#ordering_class)

A new `Ordering` for descending sorting.

### Example


```typescript
// Sort documents by the 'name' field in lowercase in descending order
firestore.pipeline().collection("users")
  .sort(descending(field("name").toLower()));

```

### floor(expr) {:#floor_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the floor of a numeric value.

<b>Signature:</b>

```typescript
export declare function floor(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compute the floor of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the floor of the numeric value.

### timestampToUnixMicros(expr) {:#timestamptounixmicros_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a timestamp expression to the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC).

<b>Signature:</b>

```typescript
export declare function timestampToUnixMicros(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the number of microseconds since epoch.

### Example


```typescript
// Convert the 'timestamp' field to microseconds since epoch.
timestampToUnixMicros(field("timestamp"));

```

### timestampToUnixMillis(expr) {:#timestamptounixmillis_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a timestamp expression to the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC).

<b>Signature:</b>

```typescript
export declare function timestampToUnixMillis(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the number of milliseconds since epoch.

### Example


```typescript
// Convert the 'timestamp' field to milliseconds since epoch.
timestampToUnixMillis(field("timestamp"));

```

### timestampToUnixSeconds(expr) {:#timestamptounixseconds_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a timestamp expression to the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC).

<b>Signature:</b>

```typescript
export declare function timestampToUnixSeconds(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the number of seconds since epoch.

### Example


```typescript
// Convert the 'timestamp' field to seconds since epoch.
timestampToUnixSeconds(field("timestamp"));

```

### unixMicrosToTimestamp(expr) {:#unixmicrostotimestamp_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that interprets an expression as the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp.

<b>Signature:</b>

```typescript
export declare function unixMicrosToTimestamp(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the number of microseconds since epoch. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the timestamp.

### Example


```typescript
// Interpret the 'microseconds' field as microseconds since epoch.
unixMicrosToTimestamp(field("microseconds"));

```

### unixMillisToTimestamp(expr) {:#unixmillistotimestamp_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that interprets an expression as the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp.

<b>Signature:</b>

```typescript
export declare function unixMillisToTimestamp(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the number of milliseconds since epoch. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the timestamp.

### Example


```typescript
// Interpret the 'milliseconds' field as milliseconds since epoch.
unixMillisToTimestamp(field("milliseconds"));

```

### unixSecondsToTimestamp(expr) {:#unixsecondstotimestamp_005f3d4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that interprets an expression as the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp.

<b>Signature:</b>

```typescript
export declare function unixSecondsToTimestamp(expr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the number of seconds since epoch. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the timestamp.

### Example


```typescript
// Interpret the 'seconds' field as seconds since epoch.
unixSecondsToTimestamp(field("seconds"));

```

## function(expression, ...)

### arraySum(expression) {:#arraysum_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the sum of the elements in an array.

<b>Signature:</b>

```typescript
export declare function arraySum(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric array, which the sum will be computed for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the sum of the elements in the array.

### Example


```typescript
// Compute the sum of the elements in the 'scores' field.
arraySum(field("scores"));

```

### average(expression) {:#average_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that calculates the average (mean) of values from an expression across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function average(expression: Expression): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the values to average. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'average' aggregation.

### Example


```typescript
// Calculate the average age of users
average(field("age")).as("averageAge");

```

### ceil(expression) {:#ceil_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the ceiling of a numeric value.

<b>Signature:</b>

```typescript
export declare function ceil(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which the ceiling will be computed for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the ceiling of the numeric value.

### Example


```typescript
// Compute the ceiling of the 'price' field.
ceil(field("price"));

```

### collectionId(expression) {:#collectionid_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the collection ID from a path.

<b>Signature:</b>

```typescript
export declare function collectionId(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a path, which the collection ID will be extracted from. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the collectionId operation.

### Example


```typescript
// Get the collection ID from a path.
collectionId(field("__name__"));

```

### count(expression) {:#count_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that counts the number of stage inputs with valid evaluations of the provided expression.

<b>Signature:</b>

```typescript
export declare function count(expression: Expression): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to count. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'count' aggregation.

### Example


```typescript
// Count the number of items where the price is greater than 10
count(field("price").greaterThan(10)).as("expensiveItemCount");

```

### divide(expression, value) {:#divide_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that divides an expression by a constant value.

<b>Signature:</b>

```typescript
export declare function divide(expression: Expression, value: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to be divided. |
|  value | unknown | The constant value to divide by. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the division operation.

### Example


```typescript
// Divide the 'value' field by 10
divide(field("value"), 10);

```

### equal(expression, value) {:#equal_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is equal to a constant value.

<b>Signature:</b>

```typescript
export declare function equal(expression: Expression, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the equality comparison.

### Example


```typescript
// Check if the 'age' field is equal to 21
equal(field("age"), 21);

```

### equalAny(expression, values) {:#equalany_7e759b5}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression, when evaluated, is equal to any of the provided values or expressions.

<b>Signature:</b>

```typescript
export declare function equalAny(expression: Expression, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression whose results to compare. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The values to check against. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'IN' comparison.

### Example


```typescript
// Check if the 'category' field is either "Electronics" or value of field 'primaryType'
equalAny(field("category"), [constant("Electronics"), field("primaryType")]);

```

### equalAny(expression, arrayExpression) {:#equalany_214ce68}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is equal to any of the provided values.

<b>Signature:</b>

```typescript
export declare function equalAny(expression: Expression, arrayExpression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression whose results to compare. |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that evaluates to an array, whose elements to check for equality to the input. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'IN' comparison.

### Example


```typescript
// Check if the 'category' field is set to a value in the disabledCategories field
equalAny(field("category"), field('disabledCategories'));

```

### exp(expression) {:#exp_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes e to the power of the expression's result.

<b>Signature:</b>

```typescript
export declare function exp(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) |  |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the exp of the numeric value.

### Example


```typescript
// Compute e to the power of 2.
exp(constant(2));

```

### greaterThan(expression, value) {:#greaterthan_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is greater than a constant value.

<b>Signature:</b>

```typescript
export declare function greaterThan(expression: Expression, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than comparison.

### Example


```typescript
// Check if the 'age' field is greater than 18
greaterThan(field("age"), 18);

```

### greaterThanOrEqual(expression, value) {:#greaterthanorequal_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is greater than or equal to a constant value.

<b>Signature:</b>

```typescript
export declare function greaterThanOrEqual(expression: Expression, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than or equal to comparison.

### Example


```typescript
// Check if the 'quantity' field is greater than or equal to 10
greaterThanOrEqual(field("quantity"), 10);

```

### length\_2(expression) {:#length_2_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of a string, array, map, vector, or bytes.

<b>Signature:</b>

```typescript
declare function length_2(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a string, array, map, vector, or bytes, which the length will be calculated for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the length of the string, array, map, vector, or bytes.

### Example


```typescript
// Get the length of the 'name' field.
length(field("name"));

// Get the number of items in the 'cart' array.
length(field("cart"));

```

### lessThan(expression, value) {:#lessthan_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is less than a constant value.

<b>Signature:</b>

```typescript
export declare function lessThan(expression: Expression, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than comparison.

### Example


```typescript
// Check if the 'age' field is less than 30
lessThan(field("age"), 30);

```

### lessThanOrEqual(expression, value) {:#lessthanorequal_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is less than or equal to a constant value.

<b>Signature:</b>

```typescript
export declare function lessThanOrEqual(expression: Expression, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than or equal to comparison.

### Example


```typescript
// Check if the 'quantity' field is less than or equal to 20
lessThan(field("quantity"), 20);

```

### ln(expression) {:#ln_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the natural logarithm of a numeric value.

<b>Signature:</b>

```typescript
export declare function ln(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which the natural logarithm will be computed for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the natural logarithm of the numeric value.

### Example


```typescript
// Compute the natural logarithm of the 'value' field.
ln(field("value"));

```

### log(expression, base) {:#log_ac183e2}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the logarithm of an expression to a given base.

<b>Signature:</b>

```typescript
export declare function log(expression: Expression, base: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which the logarithm will be computed for. |
|  base | number | The base of the logarithm. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logarithm of the numeric value.

### Example


```typescript
// Compute the logarithm of the 'value' field with base 10.
log(field("value"), 10);

```

### log(expression, base) {:#log_1894737}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the logarithm of an expression to a given base.

<b>Signature:</b>

```typescript
export declare function log(expression: Expression, base: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which the logarithm will be computed for. |
|  base | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The base of the logarithm. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logarithm of the numeric value.

### Example


```typescript
// Compute the logarithm of the 'value' field with the base in the 'base' field.
log(field("value"), field("base"));

```

### log10(expression) {:#log10_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the base-10 logarithm of a numeric value.

<b>Signature:</b>

```typescript
export declare function log10(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which the base-10 logarithm will be computed for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the base-10 logarithm of the numeric value.

### Example


```typescript
// Compute the base-10 logarithm of the 'value' field.
log10(field("value"));

```

### maximum(expression) {:#maximum_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that finds the maximum value of an expression across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function maximum(expression: Expression): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to find the maximum value of. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'maximum' aggregation.

### Example


```typescript
// Find the highest score in a leaderboard
maximum(field("score")).as("highestScore");

```

### minimum(expression) {:#minimum_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that finds the minimum value of an expression across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function minimum(expression: Expression): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to find the minimum value of. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'minimum' aggregation.

### Example


```typescript
// Find the lowest price of all products
minimum(field("price")).as("lowestPrice");

```

### mod(expression, value) {:#mod_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the modulo (remainder) of dividing an expression by a constant.

<b>Signature:</b>

```typescript
export declare function mod(expression: Expression, value: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The dividend expression. |
|  value | unknown | The divisor constant. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the modulo operation.

### Example


```typescript
// Calculate the remainder of dividing 'field1' by 5.
mod(field("field1"), 5);

```

### notEqual(expression, value) {:#notequal_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if an expression is not equal to a constant value.

<b>Signature:</b>

```typescript
export declare function notEqual(expression: Expression, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the inequality comparison.

### Example


```typescript
// Check if the 'status' field is not equal to "completed"
notEqual(field("status"), "completed");

```

### round(expression) {:#round_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that rounds a numeric value to the nearest whole number.

<b>Signature:</b>

```typescript
export declare function round(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which will be rounded. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the rounded value.

### Example


```typescript
// Round the value of the 'price' field.
round(field("price"));

```

### round(expression, decimalPlaces) {:#round_a3a92d0}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that rounds a numeric value to the specified number of decimal places.

<b>Signature:</b>

```typescript
export declare function round(expression: Expression, decimalPlaces: number | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which will be rounded. |
|  decimalPlaces | number \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | A constant or expression specifying the rounding precision in decimal places. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the rounded value.

### Example


```typescript
// Round the value of the 'price' field to two decimal places.
round(field("price"), constant(2));

```

### split(expression, delimiter) {:#split_5b5612b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that splits a string into an array of substrings based on the provided delimiter.

<b>Signature:</b>

```typescript
export declare function split(expression: Expression, delimiter: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Split the result of this expression. |
|  delimiter | string | Split on this delimiter. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the split function.

### Example


```typescript
// Split the 'scoresCsv' field on delimiter ','
split(field('scoresCsv'), ',')

```

### split(expression, delimiter) {:#split_5a171ed}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that splits a string into an array of substrings based on the provided delimiter.

<b>Signature:</b>

```typescript
export declare function split(expression: Expression, delimiter: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Split the result of this expression. |
|  delimiter | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Split on this delimiter returned by evaluating this expression. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the split function.

### Example


```typescript
// Split the 'scores' field on delimiter ',' or ':' depending on the stored format
split(field('scores'), conditional(field('format').equal('csv'), constant(','), constant(':'))

```

### sqrt(expression) {:#sqrt_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the square root of a numeric value.

<b>Signature:</b>

```typescript
export declare function sqrt(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a numeric value, which the square root will be computed for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the square root of the numeric value.

### Example


```typescript
// Compute the square root of the 'value' field.
sqrt(field("value"));

```

### subtract(expression, value) {:#subtract_01df3cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts a constant value from an expression.

<b>Signature:</b>

```typescript
export declare function subtract(expression: Expression, value: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to subtract from. |
|  value | unknown | The constant value to subtract. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the subtraction operation.

### Example


```typescript
// Subtract the constant value 2 from the 'value' field
subtract(field("value"), 2);

```

### sum(expression) {:#sum_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that calculates the sum of values from an expression across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function sum(expression: Expression): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to sum up. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'sum' aggregation.

### Example


```typescript
// Calculate the total revenue from a set of orders
sum(field("orderAmount")).as("totalRevenue");

```

### type(expression) {:#type_1138a27}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the data type of an expression's result.

<b>Signature:</b>

```typescript
export declare function type(expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) |  |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the data type.

### Example


```typescript
// Get the data type of a conditional expression
type(conditional(exists('foo'), constant(1), constant(true)))

```

## function(field, ...)

### isAbsent(field) {:#isabsent_0fb8cd4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns `true` if a field is absent. Otherwise, returns `false` even if the field value is `null`<!-- -->.

<b>Signature:</b>

```typescript
export declare function isAbsent(field: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  field | string | The field to check. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'isAbsent' check.

### Example


```typescript
// Check if the field `value` is absent.
isAbsent("value");

```

### reverse(field) {:#reverse_0fb8cd4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that reverses a string value in the specified field.

<b>Signature:</b>

```typescript
export declare function reverse(field: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  field | string | The name of the field representing the string to reverse. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the reversed string.

### Example


```typescript
// Reverse the value of the 'myString' field.
reverse("myString");

```

### stringReverse(field) {:#stringreverse_0fb8cd4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that reverses a string value in the specified field.

<b>Signature:</b>

```typescript
export declare function stringReverse(field: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  field | string | The name of the field representing the string to reverse. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the reversed string.

### Example


```typescript
// Reverse the value of the 'myString' field.
strReverse("myString");

```

### substring(field, position, length) {:#substring_0d9573a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns a substring of a string or byte array.

<b>Signature:</b>

```typescript
export declare function substring(field: string, position: number, length?: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  field | string | The name of a field containing a string or byte array to compute the substring from. |
|  position | number | Index of the first character of the substring. |
|  length | number | Length of the substring. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### substring(field, position, length) {:#substring_05cb14e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns a substring of a string or byte array.

<b>Signature:</b>

```typescript
export declare function substring(field: string, position: Expression, length?: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  field | string | The name of a field containing a string or byte array to compute the substring from. |
|  position | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that returns the index of the first character of the substring. |
|  length | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that returns the length of the substring. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

## function(fieldName, ...)

### abs(fieldName) {:#abs_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the absolute value of a numeric value.

<b>Signature:</b>

```typescript
export declare function abs(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field to compute the absolute value of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the absolute value of the numeric value.

### add(fieldName, second) {:#add_b75bb8b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that adds a field's value to an expression.

<b>Signature:</b>

```typescript
export declare function add(fieldName: string, second: Expression | unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the value to add. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal to add. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the addition operation.

### Example


```typescript
// Add the value of the 'quantity' field and the 'reserve' field.
add("quantity", field("reserve"));

```

### arrayContains(fieldName, element) {:#arraycontains_aaace4a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's array value contains a specific element.

<b>Signature:</b>

```typescript
export declare function arrayContains(fieldName: string, element: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  element | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The element to search for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains' comparison.

### Example


```typescript
// Check if the 'colors' array contains the value of field 'selectedColor'
arrayContains("colors", field("selectedColor"));

```

### arrayContains(fieldName, element) {:#arraycontains_999590f}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's array value contains a specific value.

<b>Signature:</b>

```typescript
export declare function arrayContains(fieldName: string, element: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  element | unknown | The element to search for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains' comparison.

### Example


```typescript
// Check if the 'colors' array contains "red"
arrayContains("colors", "red");

```

### arrayContainsAll(fieldName, values) {:#arraycontainsall_8060b23}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's array value contains all the specified values or expressions.

<b>Signature:</b>

```typescript
export declare function arrayContainsAll(fieldName: string, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_all' comparison.

### Example


```typescript
// Check if the 'tags' array contains both of the values from field 'tag1', the value "SciFi", and "Adventure"
arrayContainsAll("tags", [field("tag1"), "SciFi", "Adventure"]);

```

### arrayContainsAll(fieldName, arrayExpression) {:#arraycontainsall_48da8d9}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's array value contains all the specified values or expressions.

<b>Signature:</b>

```typescript
export declare function arrayContainsAll(fieldName: string, arrayExpression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_all' comparison.

### Example


```typescript
// Check if the 'tags' array contains both of the values from field 'tag1', the value "SciFi", and "Adventure"
arrayContainsAll("tags", [field("tag1"), "SciFi", "Adventure"]);

```

### arrayContainsAny(fieldName, values) {:#arraycontainsany_8060b23}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's array value contains any of the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayContainsAny(fieldName: string, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The elements to check for in the array. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_any' comparison.

### Example


```typescript
// Check if the 'groups' array contains either the value from the 'userGroup' field
// or the value "guest"
arrayContainsAny("categories", [field("cate1"), "Science"]);

```

### arrayContainsAny(fieldName, values) {:#arraycontainsany_1b4f7cd}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's array value contains any of the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayContainsAny(fieldName: string, values: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  values | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that evaluates to an array, whose elements to check for in the array field. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'array\_contains\_any' comparison.

### Example


```typescript
// Check if the 'groups' array contains either the value from the 'userGroup' field
// or the value "guest"
arrayContainsAny("categories", array([field("cate1"), "Science"]));

```

### arrayLength(fieldName) {:#arraylength_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of an array in a specified field.

<b>Signature:</b>

```typescript
export declare function arrayLength(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing an array to calculate the length of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the array.

### Example


```typescript
// Get the number of items in field 'cart'
arrayLength('cart');

```

### arraySum(fieldName) {:#arraysum_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the sum of the elements in an array.

<b>Signature:</b>

```typescript
export declare function arraySum(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the sum of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the sum of the elements in the array.

### Example


```typescript
// Compute the sum of the elements in the 'scores' field.
arraySum("scores");

```

### ascending(fieldName) {:#ascending_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in ascending order based on a field.

<b>Signature:</b>

```typescript
export declare function ascending(fieldName: string): Ordering;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field to create an ascending ordering for. |

<b>Returns:</b>

[Ordering](./firestore_lite_pipelines.ordering.md#ordering_class)

A new `Ordering` for ascending sorting.

### Example


```typescript
// Sort documents by the 'name' field in ascending order
firestore.pipeline().collection("users")
  .sort(ascending("name"));

```

### average(fieldName) {:#average_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that calculates the average (mean) of a field's values across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function average(fieldName: string): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing numeric values to average. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'average' aggregation.

### Example


```typescript
// Calculate the average age of users
average("age").as("averageAge");

```

### byteLength(fieldName) {:#bytelength_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of a string represented by a field in UTF-8 bytes, or just the length of a Blob.

<b>Signature:</b>

```typescript
export declare function byteLength(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the string in bytes.

### Example


```typescript
// Calculate the length of the 'myString' field in bytes.
byteLength("myString");

```

### ceil(fieldName) {:#ceil_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the ceiling of a numeric value.

<b>Signature:</b>

```typescript
export declare function ceil(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the ceiling of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the ceiling of the numeric value.

### Example


```typescript
// Compute the ceiling of the 'price' field.
ceil("price");

```

### charLength(fieldName) {:#charlength_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the character length of a string field in UTF8.

<b>Signature:</b>

```typescript
export declare function charLength(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the string.

### Example


```typescript
// Get the character length of the 'name' field in UTF-8.
strLength("name");

```

### collectionId(fieldName) {:#collectionid_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the collection ID from a path.

<b>Signature:</b>

```typescript
export declare function collectionId(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to get the collection ID from. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the collectionId operation.

### Example


```typescript
// Get the collection ID from a path.
collectionId("__name__");

```

### concat(fieldName, second, others) {:#concat_828272e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that concatenates strings, arrays, or blobs. Types cannot be mixed.

<b>Signature:</b>

```typescript
export declare function concat(fieldName: string, second: Expression | unknown, ...others: Array<Expression | unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of a field to concatenate. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second literal or expression to concatenate. |
|  others | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | Additional literal or expressions to concatenate. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the concatenation.

### Example


```typescript
// Concatenate a field with a literal string.
concat(field("firstName"), "Doe")

```

### cosineDistance(fieldName, vector) {:#cosinedistance_463a23e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Cosine distance between a field's vector value and a literal vector value.

<b>Signature:</b>

```typescript
export declare function cosineDistance(fieldName: string, vector: number[] | VectorValue): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the first vector. |
|  vector | number\[\] \| [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The other vector (as an array of doubles) or [VectorValue](./firestore_.vectorvalue.md#vectorvalue_class) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the Cosine distance between the two vectors.

### Example


```typescript
// Calculate the Cosine distance between the 'location' field and a target location
cosineDistance("location", [37.7749, -122.4194]);

```

### cosineDistance(fieldName, vectorExpression) {:#cosinedistance_ed766a1}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Cosine distance between a field's vector value and a vector expression.

<b>Signature:</b>

```typescript
export declare function cosineDistance(fieldName: string, vectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the first vector. |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The other vector (represented as an <code>Expression</code>) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the cosine distance between the two vectors.

### Example


```typescript
// Calculate the cosine distance between the 'userVector' field and the 'itemVector' field
cosineDistance("userVector", field("itemVector"));

```

### count(fieldName) {:#count_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that counts the number of stage inputs where the input field exists.

<b>Signature:</b>

```typescript
export declare function count(fieldName: string): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to count. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'count' aggregation.

### Example


```typescript
// Count the total number of products
count("productId").as("totalProducts");

```

### descending(fieldName) {:#descending_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an [Ordering](./firestore_pipelines.ordering.md#ordering_class) that sorts documents in descending order based on a field.

<b>Signature:</b>

```typescript
export declare function descending(fieldName: string): Ordering;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field to create a descending ordering for. |

<b>Returns:</b>

[Ordering](./firestore_lite_pipelines.ordering.md#ordering_class)

A new `Ordering` for descending sorting.

### Example


```typescript
// Sort documents by the 'name' field in descending order
firestore.pipeline().collection("users")
  .sort(descending("name"));

```

### divide(fieldName, expressions) {:#divide_cf36e43}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that divides a field's value by an expression.

<b>Signature:</b>

```typescript
export declare function divide(fieldName: string, expressions: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to be divided. |
|  expressions | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to divide by. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the division operation.

### Example


```typescript
// Divide the 'total' field by the 'count' field
divide("total", field("count"));

```

### divide(fieldName, value) {:#divide_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that divides a field's value by a constant value.

<b>Signature:</b>

```typescript
export declare function divide(fieldName: string, value: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to be divided. |
|  value | unknown | The constant value to divide by. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the division operation.

### Example


```typescript
// Divide the 'value' field by 10
divide("value", 10);

```

### dotProduct(fieldName, vector) {:#dotproduct_463a23e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the dot product between a field's vector value and a double array.

<b>Signature:</b>

```typescript
export declare function dotProduct(fieldName: string, vector: number[] | VectorValue): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the first vector. |
|  vector | number\[\] \| [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The other vector (as an array of doubles or VectorValue) to calculate with. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the dot product between the two vectors.

### Example


```typescript
// Calculate the dot product distance between a feature vector and a target vector
dotProduct("features", [0.5, 0.8, 0.2]);

```

### dotProduct(fieldName, vectorExpression) {:#dotproduct_ed766a1}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the dot product between a field's vector value and a vector expression.

<b>Signature:</b>

```typescript
export declare function dotProduct(fieldName: string, vectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the first vector. |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The other vector (represented as an <code>Expression</code>) to calculate with. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the dot product between the two vectors.

### Example


```typescript
// Calculate the dot product distance between two document vectors: 'docVector1' and 'docVector2'
dotProduct("docVector1", field("docVector2"));

```

### endsWith(fieldName, suffix) {:#endswith_05ca3b0}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value ends with a given postfix.

<b>Signature:</b>

```typescript
export declare function endsWith(fieldName: string, suffix: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  suffix | string | The postfix to check for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ends with' comparison.

### Example


```typescript
// Check if the 'filename' field ends with ".txt"
endsWith("filename", ".txt");

```

### endsWith(fieldName, suffix) {:#endswith_8fc0ebc}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value ends with a given postfix.

<b>Signature:</b>

```typescript
export declare function endsWith(fieldName: string, suffix: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  suffix | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the postfix. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ends with' comparison.

### Example


```typescript
// Check if the 'url' field ends with the value of the 'extension' field
endsWith("url", field("extension"));

```

### equal(fieldName, expression) {:#equal_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is equal to an expression.

<b>Signature:</b>

```typescript
export declare function equal(fieldName: string, expression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the equality comparison.

### Example


```typescript
// Check if the 'age' field is equal to the 'limit' field
equal("age", field("limit"));

```

### equal(fieldName, value) {:#equal_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is equal to a constant value.

<b>Signature:</b>

```typescript
export declare function equal(fieldName: string, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the equality comparison.

### Example


```typescript
// Check if the 'city' field is equal to string constant "London"
equal("city", "London");

```

### equalAny(fieldName, values) {:#equalany_8060b23}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is equal to any of the provided values or expressions.

<b>Signature:</b>

```typescript
export declare function equalAny(fieldName: string, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field to compare. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The values to check against. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'IN' comparison.

### Example


```typescript
// Check if the 'category' field is either "Electronics" or value of field 'primaryType'
equalAny("category", [constant("Electronics"), field("primaryType")]);

```

### equalAny(fieldName, arrayExpression) {:#equalany_48da8d9}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is equal to any of the provided values or expressions.

<b>Signature:</b>

```typescript
export declare function equalAny(fieldName: string, arrayExpression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field to compare. |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that evaluates to an array, whose elements to check for equality to the input field. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'IN' comparison.

### Example


```typescript
// Check if the 'category' field is either "Electronics" or value of field 'primaryType'
equalAny("category", ["Electronics", field("primaryType")]);

```

### euclideanDistance(fieldName, vector) {:#euclideandistance_463a23e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Euclidean distance between a field's vector value and a double array.

<b>Signature:</b>

```typescript
export declare function euclideanDistance(fieldName: string, vector: number[] | VectorValue): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the first vector. |
|  vector | number\[\] \| [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The other vector (as an array of doubles or VectorValue) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the Euclidean distance between the two vectors.

### Example


```typescript
// Calculate the Euclidean distance between the 'location' field and a target location
euclideanDistance("location", [37.7749, -122.4194]);

```

### euclideanDistance(fieldName, vectorExpression) {:#euclideandistance_ed766a1}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Euclidean distance between a field's vector value and a vector expression.

<b>Signature:</b>

```typescript
export declare function euclideanDistance(fieldName: string, vectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the first vector. |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The other vector (represented as an <code>Expression</code>) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the Euclidean distance between the two vectors.

### Example


```typescript
// Calculate the Euclidean distance between two vector fields: 'pointA' and 'pointB'
euclideanDistance("pointA", field("pointB"));

```

### exists(fieldName) {:#exists_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field exists.

<b>Signature:</b>

```typescript
export declare function exists(fieldName: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'exists' check.

### Example


```typescript
// Check if the document has a field named "phoneNumber"
exists("phoneNumber");

```

### exp(fieldName) {:#exp_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes e to the power of the expression's result.

<b>Signature:</b>

```typescript
export declare function exp(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string |  |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the exp of the numeric value.

### Example


```typescript
// Compute e to the power of the 'value' field.
exp('value');

```

### floor(fieldName) {:#floor_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the floor of a numeric value.

<b>Signature:</b>

```typescript
export declare function floor(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the floor of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the floor of the numeric value.

### greaterThan(fieldName, expression) {:#greaterthan_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is greater than an expression.

<b>Signature:</b>

```typescript
export declare function greaterThan(fieldName: string, expression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than comparison.

### Example


```typescript
// Check if the value of field 'age' is greater than the value of field 'limit'
greaterThan("age", field("limit"));

```

### greaterThan(fieldName, value) {:#greaterthan_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is greater than a constant value.

<b>Signature:</b>

```typescript
export declare function greaterThan(fieldName: string, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than comparison.

### Example


```typescript
// Check if the 'price' field is greater than 100
greaterThan("price", 100);

```

### greaterThanOrEqual(fieldName, value) {:#greaterthanorequal_2e16acb}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is greater than or equal to an expression.

<b>Signature:</b>

```typescript
export declare function greaterThanOrEqual(fieldName: string, value: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than or equal to comparison.

### Example


```typescript
// Check if the value of field 'age' is greater than or equal to the value of field 'limit'
greaterThanOrEqual("age", field("limit"));

```

### greaterThanOrEqual(fieldName, value) {:#greaterthanorequal_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is greater than or equal to a constant value.

<b>Signature:</b>

```typescript
export declare function greaterThanOrEqual(fieldName: string, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than or equal to comparison.

### Example


```typescript
// Check if the 'score' field is greater than or equal to 80
greaterThanOrEqual("score", 80);

```

### length\_2(fieldName) {:#length_2_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of a string, array, map, vector, or bytes.

<b>Signature:</b>

```typescript
declare function length_2(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to calculate the length of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the length of the string, array, map, vector, or bytes.

### Example


```typescript
// Get the length of the 'name' field.
length("name");

// Get the number of items in the 'cart' array.
length("cart");

```

### lessThan(fieldName, expression) {:#lessthan_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is less than an expression.

<b>Signature:</b>

```typescript
export declare function lessThan(fieldName: string, expression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than comparison.

### Example


```typescript
// Check if the 'age' field is less than the 'limit' field
lessThan("age", field("limit"));

```

### lessThan(fieldName, value) {:#lessthan_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is less than a constant value.

<b>Signature:</b>

```typescript
export declare function lessThan(fieldName: string, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than comparison.

### Example


```typescript
// Check if the 'price' field is less than 50
lessThan("price", 50);

```

### lessThanOrEqual(fieldName, expression) {:#lessthanorequal_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is less than or equal to an expression.

<b>Signature:</b>

```typescript
export declare function lessThanOrEqual(fieldName: string, expression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than or equal to comparison.

### Example


```typescript
// Check if the 'quantity' field is less than or equal to the 'limit' field
lessThan("quantity", field("limit"));

```

### lessThanOrEqual(fieldName, value) {:#lessthanorequal_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is less than or equal to a constant value.

<b>Signature:</b>

```typescript
export declare function lessThanOrEqual(fieldName: string, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than or equal to comparison.

### Example


```typescript
// Check if the 'score' field is less than or equal to 70
lessThan("score", 70);

```

### like(fieldName, pattern) {:#like_67f7432}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a case-sensitive wildcard string comparison against a field.

<b>Signature:</b>

```typescript
export declare function like(fieldName: string, pattern: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  pattern | string | The pattern to search for. You can use "%" as a wildcard character. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'like' comparison.

### Example


```typescript
// Check if the 'title' field contains the string "guide"
like("title", "%guide%");

```

### like(fieldName, pattern) {:#like_cb1318d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a case-sensitive wildcard string comparison against a field.

<b>Signature:</b>

```typescript
export declare function like(fieldName: string, pattern: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The pattern to search for. You can use "%" as a wildcard character. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'like' comparison.

### Example


```typescript
// Check if the 'title' field contains the string "guide"
like("title", field("pattern"));

```

### ln(fieldName) {:#ln_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the natural logarithm of a numeric value.

<b>Signature:</b>

```typescript
export declare function ln(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the natural logarithm of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the natural logarithm of the numeric value.

### Example


```typescript
// Compute the natural logarithm of the 'value' field.
ln("value");

```

### log(fieldName, base) {:#log_a89e21b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the logarithm of a field to a given base.

<b>Signature:</b>

```typescript
export declare function log(fieldName: string, base: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the logarithm of. |
|  base | number | The base of the logarithm. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logarithm of the numeric value.

### Example


```typescript
// Compute the logarithm of the 'value' field with base 10.
log("value", 10);

```

### log(fieldName, base) {:#log_805b11f}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the logarithm of a field to a given base.

<b>Signature:</b>

```typescript
export declare function log(fieldName: string, base: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the logarithm of. |
|  base | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The base of the logarithm. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logarithm of the numeric value.

### Example


```typescript
// Compute the logarithm of the 'value' field with the base in the 'base' field.
log("value", field("base"));

```

### log10(fieldName) {:#log10_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the base-10 logarithm of a numeric value.

<b>Signature:</b>

```typescript
export declare function log10(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the base-10 logarithm of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the base-10 logarithm of the numeric value.

### Example


```typescript
// Compute the base-10 logarithm of the 'value' field.
log10("value");

```

### logicalMaximum(fieldName, second, others) {:#logicalmaximum_828272e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the largest value between multiple input expressions or literal values. Based on Firestore's value type ordering.

<b>Signature:</b>

```typescript
export declare function logicalMaximum(fieldName: string, second: Expression | unknown, ...others: Array<Expression | unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The first operand field name. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal. |
|  others | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | Optional additional expressions or literals. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical maximum operation.

### Example


```typescript
// Returns the largest value between the 'field1' field, the 'field2' field,
// and 1000.
logicalMaximum("field1", field("field2"), 1000);

```

### logicalMinimum(fieldName, second, others) {:#logicalminimum_828272e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the smallest value between a field's value and other input expressions or literal values. Based on Firestore's value type ordering.

<b>Signature:</b>

```typescript
export declare function logicalMinimum(fieldName: string, second: Expression | unknown, ...others: Array<Expression | unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The first operand field name. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal. |
|  others | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | Optional additional expressions or literals. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical minimum operation.

### Example


```typescript
// Returns the smallest value between the 'field1' field, the 'field2' field,
// and 1000.
logicalMinimum("field1", field("field2"), 1000);

```

### mapGet(fieldName, subField) {:#mapget_06663cf}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Accesses a value from a map (object) field using the provided key.

<b>Signature:</b>

```typescript
export declare function mapGet(fieldName: string, subField: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name of the map field. |
|  subField | string | The key to access in the map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the value associated with the given key in the map.

### Example


```typescript
// Get the 'city' value from the 'address' map field
mapGet("address", "city");

```

### maximum(fieldName) {:#maximum_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that finds the maximum value of a field across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function maximum(fieldName: string): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to find the maximum value of. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'maximum' aggregation.

### Example


```typescript
// Find the highest score in a leaderboard
maximum("score").as("highestScore");

```

### minimum(fieldName) {:#minimum_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that finds the minimum value of a field across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function minimum(fieldName: string): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to find the minimum value of. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'minimum' aggregation.

### Example


```typescript
// Find the lowest price of all products
minimum("price").as("lowestPrice");

```

### mod(fieldName, expression) {:#mod_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the modulo (remainder) of dividing a field's value by an expression.

<b>Signature:</b>

```typescript
export declare function mod(fieldName: string, expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The dividend field name. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The divisor expression. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the modulo operation.

### Example


```typescript
// Calculate the remainder of dividing 'field1' by 'field2'.
mod("field1", field("field2"));

```

### mod(fieldName, value) {:#mod_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the modulo (remainder) of dividing a field's value by a constant.

<b>Signature:</b>

```typescript
export declare function mod(fieldName: string, value: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The dividend field name. |
|  value | unknown | The divisor constant. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the modulo operation.

### Example


```typescript
// Calculate the remainder of dividing 'field1' by 5.
mod("field1", 5);

```

### multiply(fieldName, second) {:#multiply_b75bb8b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that multiplies a field's value by an expression.

<b>Signature:</b>

```typescript
export declare function multiply(fieldName: string, second: Expression | unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the value to add. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal to add. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the multiplication operation.

### Example


```typescript
// Multiply the 'quantity' field by the 'price' field
multiply("quantity", field("price"));

```

### notEqual(fieldName, expression) {:#notequal_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is not equal to an expression.

<b>Signature:</b>

```typescript
export declare function notEqual(fieldName: string, expression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the inequality comparison.

### Example


```typescript
// Check if the 'status' field is not equal to the value of 'expectedStatus'
notEqual("status", field("expectedStatus"));

```

### notEqual(fieldName, value) {:#notequal_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is not equal to a constant value.

<b>Signature:</b>

```typescript
export declare function notEqual(fieldName: string, value: unknown): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  value | unknown | The constant value to compare to. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the inequality comparison.

### Example


```typescript
// Check if the 'country' field is not equal to "USA"
notEqual("country", "USA");

```

### notEqualAny(fieldName, values) {:#notequalany_8060b23}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is not equal to any of the provided values or expressions.

<b>Signature:</b>

```typescript
export declare function notEqualAny(fieldName: string, values: Array<Expression | unknown>): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  values | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | The values to check against. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'NOT IN' comparison.

### Example


```typescript
// Check if the 'status' field is neither "pending" nor the value of 'rejectedStatus'
notEqualAny("status", [constant("pending"), field("rejectedStatus")]);

```

### notEqualAny(fieldName, arrayExpression) {:#notequalany_48da8d9}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value is not equal to any of the values in the evaluated expression.

<b>Signature:</b>

```typescript
export declare function notEqualAny(fieldName: string, arrayExpression: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to compare. |
|  arrayExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The values to check against. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'NOT IN' comparison.

### Example


```typescript
// Check if the 'status' field is not equal to any value in the field 'rejectedStatuses'
notEqualAny("status", field("rejectedStatuses"));

```

### regexContains(fieldName, pattern) {:#regexcontains_67f7432}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string field contains a specified regular expression as a substring.

<b>Signature:</b>

```typescript
export declare function regexContains(fieldName: string, pattern: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  pattern | string | The regular expression to use for the search. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains "example" (case-insensitive)
regexContains("description", "(?i)example");

```

### regexContains(fieldName, pattern) {:#regexcontains_cb1318d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string field contains a specified regular expression as a substring.

<b>Signature:</b>

```typescript
export declare function regexContains(fieldName: string, pattern: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to use for the search. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains "example" (case-insensitive)
regexContains("description", field("pattern"));

```

### regexFind(fieldName, pattern) {:#regexfind_67f7432}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the first substring of a string field that matches a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFind(fieldName: string, pattern: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string to search. |
|  pattern | string | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression find function.

### Example


```typescript
// Extract the domain name from an email field
regexFind("email", "@[A-Za-z0-9.-]+");

```

### regexFind(fieldName, pattern) {:#regexfind_cb1318d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the first substring of a string field that matches a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFind(fieldName: string, pattern: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string to search. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression find function.

### Example


```typescript
// Extract a substring from 'email' based on a pattern stored in another field
regexFind("email", field("pattern"));

```

### regexFindAll(fieldName, pattern) {:#regexfindall_67f7432}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that evaluates to a list of all substrings in a string field that match a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFindAll(fieldName: string, pattern: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string to search. |
|  pattern | string | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [FunctionExpression](./firestore_pipelines.functionexpression.md#functionexpression_class) that evaluates to an array of matched substrings.

### Example


```typescript
// Extract all hashtags from a post content field
regexFindAll("content", "#[A-Za-z0-9_]+");

```

### regexFindAll(fieldName, pattern) {:#regexfindall_cb1318d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that evaluates to a list of all substrings in a string field that match a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFindAll(fieldName: string, pattern: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string to search. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [FunctionExpression](./firestore_pipelines.functionexpression.md#functionexpression_class) that evaluates to an array of matched substrings.

### Example


```typescript
// Extract all matches from 'content' based on a pattern stored in another field
regexFindAll("content", field("pattern"));

```

### regexMatch(fieldName, pattern) {:#regexmatch_67f7432}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string field matches a specified regular expression.

<b>Signature:</b>

```typescript
export declare function regexMatch(fieldName: string, pattern: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  pattern | string | The regular expression to use for the match. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression match.

### Example


```typescript
// Check if the 'email' field matches a valid email pattern
regexMatch("email", "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}");

```

### regexMatch(fieldName, pattern) {:#regexmatch_cb1318d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string field matches a specified regular expression.

<b>Signature:</b>

```typescript
export declare function regexMatch(fieldName: string, pattern: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to use for the match. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression match.

### Example


```typescript
// Check if the 'email' field matches a valid email pattern
regexMatch("email", field("pattern"));

```

### round(fieldName) {:#round_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that rounds a numeric value to the nearest whole number.

<b>Signature:</b>

```typescript
export declare function round(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to round. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the rounded value.

### Example


```typescript
// Round the value of the 'price' field.
round("price");

```

### round(fieldName, decimalPlaces) {:#round_07d0cf0}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that rounds a numeric value to the specified number of decimal places.

<b>Signature:</b>

```typescript
export declare function round(fieldName: string, decimalPlaces: number | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to round. |
|  decimalPlaces | number \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | A constant or expression specifying the rounding precision in decimal places. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the rounded value.

### Example


```typescript
// Round the value of the 'price' field to two decimal places.
round("price", 2);

```

### split(fieldName, delimiter) {:#split_2cfdd37}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that splits the value of a field on the provided delimiter.

<b>Signature:</b>

```typescript
export declare function split(fieldName: string, delimiter: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | Split the value in this field. |
|  delimiter | string | Split on this delimiter. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the split function.

### Example


```typescript
// Split the 'scoresCsv' field on delimiter ','
split('scoresCsv', ',')

```

### split(fieldName, delimiter) {:#split_f4fe06a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that splits the value of a field on the provided delimiter.

<b>Signature:</b>

```typescript
export declare function split(fieldName: string, delimiter: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | Split the value in this field. |
|  delimiter | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Split on this delimiter returned by evaluating this expression. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the split function.

### Example


```typescript
// Split the 'scores' field on delimiter ',' or ':' depending on the stored format
split('scores', conditional(field('format').equal('csv'), constant(','), constant(':'))

```

### sqrt(fieldName) {:#sqrt_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that computes the square root of a numeric value.

<b>Signature:</b>

```typescript
export declare function sqrt(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field to compute the square root of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the square root of the numeric value.

### Example


```typescript
// Compute the square root of the 'value' field.
sqrt("value");

```

### startsWith(fieldName, prefix) {:#startswith_89325cc}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value starts with a given prefix.

<b>Signature:</b>

```typescript
export declare function startsWith(fieldName: string, prefix: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  prefix | string | The prefix to check for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'starts with' comparison.

### Example


```typescript
// Check if the 'name' field starts with "Mr."
startsWith("name", "Mr.");

```

### startsWith(fieldName, prefix) {:#startswith_266c338}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field's value starts with a given prefix.

<b>Signature:</b>

```typescript
export declare function startsWith(fieldName: string, prefix: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to check. |
|  prefix | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the prefix. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'starts with' comparison.

### Example


```typescript
// Check if the 'fullName' field starts with the value of the 'firstName' field
startsWith("fullName", field("firstName"));

```

### stringConcat(fieldName, secondString, otherStrings) {:#stringconcat_d80077e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that concatenates string functions, fields or constants together.

<b>Signature:</b>

```typescript
export declare function stringConcat(fieldName: string, secondString: Expression | string, ...otherStrings: Array<Expression | string>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name containing the initial string value. |
|  secondString | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| string | An expression or string literal to concatenate. |
|  otherStrings | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| string&gt; | Optional additional expressions or literals (typically strings) to concatenate. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the concatenated string.

### Example


```typescript
// Combine the 'firstName', " ", and 'lastName' fields into a single string
stringConcat("firstName", " ", field("lastName"));

```

### stringContains(fieldName, substring) {:#stringcontains_5b94cfe}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string field contains a specified substring.

<b>Signature:</b>

```typescript
export declare function stringContains(fieldName: string, substring: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  substring | string | The substring to search for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains "example".
stringContains("description", "example");

```

### stringContains(fieldName, substring) {:#stringcontains_ac3ba47}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string field contains a substring specified by an expression.

<b>Signature:</b>

```typescript
export declare function stringContains(fieldName: string, substring: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |
|  substring | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the substring to search for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains the value of the 'keyword' field.
stringContains("description", field("keyword"));

```

### subtract(fieldName, expression) {:#subtract_1e91657}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts an expression from a field's value.

<b>Signature:</b>

```typescript
export declare function subtract(fieldName: string, expression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to subtract from. |
|  expression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to subtract. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the subtraction operation.

### Example


```typescript
// Subtract the 'discount' field from the 'price' field
subtract("price", field("discount"));

```

### subtract(fieldName, value) {:#subtract_65e2f32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts a constant value from a field's value.

<b>Signature:</b>

```typescript
export declare function subtract(fieldName: string, value: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The field name to subtract from. |
|  value | unknown | The constant value to subtract. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the subtraction operation.

### Example


```typescript
// Subtract 20 from the value of the 'total' field
subtract("total", 20);

```

### sum(fieldName) {:#sum_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an aggregation that calculates the sum of a field's values across multiple stage inputs.

<b>Signature:</b>

```typescript
export declare function sum(fieldName: string): AggregateFunction;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing numeric values to sum up. |

<b>Returns:</b>

[AggregateFunction](./firestore_lite_pipelines.aggregatefunction.md#aggregatefunction_class)

A new [AggregateFunction](./firestore_pipelines.aggregatefunction.md#aggregatefunction_class) representing the 'sum' aggregation.

### Example


```typescript
// Calculate the total revenue from a set of orders
sum("orderAmount").as("totalRevenue");

```

### timestampAdd(fieldName, unit, amount) {:#timestampadd_341fe7d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that adds a specified amount of time to a timestamp represented by a field.

<b>Signature:</b>

```typescript
export declare function timestampAdd(fieldName: string, unit: 'microsecond' | 'millisecond' | 'second' | 'minute' | 'hour' | 'day', amount: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the timestamp. |
|  unit | 'microsecond' \| 'millisecond' \| 'second' \| 'minute' \| 'hour' \| 'day' | The unit of time to add (e.g., "day", "hour"). |
|  amount | number | The amount of time to add. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the resulting timestamp.

### Example


```typescript
// Add 1 day to the 'timestamp' field.
timestampAdd("timestamp", "day", 1);

```

### timestampSubtract(fieldName, unit, amount) {:#timestampsubtract_341fe7d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts a specified amount of time from a timestamp represented by a field.

<b>Signature:</b>

```typescript
export declare function timestampSubtract(fieldName: string, unit: 'microsecond' | 'millisecond' | 'second' | 'minute' | 'hour' | 'day', amount: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the timestamp. |
|  unit | 'microsecond' \| 'millisecond' \| 'second' \| 'minute' \| 'hour' \| 'day' | The unit of time to subtract (e.g., "day", "hour"). |
|  amount | number | The amount of time to subtract. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the resulting timestamp.

### Example


```typescript
// Subtract 1 day from the 'timestamp' field.
timestampSubtract("timestamp", "day", 1);

```

### timestampToUnixMicros(fieldName) {:#timestamptounixmicros_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a timestamp field to the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC).

<b>Signature:</b>

```typescript
export declare function timestampToUnixMicros(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the timestamp. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the number of microseconds since epoch.

### Example


```typescript
// Convert the 'timestamp' field to microseconds since epoch.
timestampToUnixMicros("timestamp");

```

### timestampToUnixMillis(fieldName) {:#timestamptounixmillis_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a timestamp field to the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC).

<b>Signature:</b>

```typescript
export declare function timestampToUnixMillis(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the timestamp. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the number of milliseconds since epoch.

### Example


```typescript
// Convert the 'timestamp' field to milliseconds since epoch.
timestampToUnixMillis("timestamp");

```

### timestampToUnixSeconds(fieldName) {:#timestamptounixseconds_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a timestamp field to the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC).

<b>Signature:</b>

```typescript
export declare function timestampToUnixSeconds(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the timestamp. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the number of seconds since epoch.

### Example


```typescript
// Convert the 'timestamp' field to seconds since epoch.
timestampToUnixSeconds("timestamp");

```

### timestampTruncate(fieldName, granularity, timezone) {:#timestamptruncate_b6c7512}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that truncates a timestamp to a specified granularity.

<b>Signature:</b>

```typescript
export declare function timestampTruncate(fieldName: string, granularity: TimeGranularity, timezone?: string | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | Truncate the timestamp value contained in this field. |
|  granularity | [TimeGranularity](./firestore_lite_pipelines.md#timegranularity) | The granularity to truncate to. |
|  timezone | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The timezone to use for truncation. Valid values are from the TZ database (e.g., "America/Los\_Angeles") or in the format "Etc/GMT-1". |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the truncated timestamp.

### Example


```typescript
// Truncate the 'createdAt' timestamp to the beginning of the day.
field('createdAt').timestampTruncate('day')

```

### timestampTruncate(fieldName, granularity, timezone) {:#timestamptruncate_ed83d46}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that truncates a timestamp to a specified granularity.

<b>Signature:</b>

```typescript
export declare function timestampTruncate(fieldName: string, granularity: Expression, timezone?: string | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | Truncate the timestamp value contained in this field. |
|  granularity | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The granularity to truncate to. |
|  timezone | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The timezone to use for truncation. Valid values are from the TZ database (e.g., "America/Los\_Angeles") or in the format "Etc/GMT-1". |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the truncated timestamp.

### Example


```typescript
// Truncate the 'createdAt' timestamp to the granularity specified in the field 'granularity'.
field('createdAt').timestampTruncate(field('granularity'))

```

### toLower(fieldName) {:#tolower_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a string field to lowercase.

<b>Signature:</b>

```typescript
export declare function toLower(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the lowercase string.

### Example


```typescript
// Convert the 'name' field to lowercase
toLower("name");

```

### toUpper(fieldName) {:#toupper_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a string field to uppercase.

<b>Signature:</b>

```typescript
export declare function toUpper(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the uppercase string.

### Example


```typescript
// Convert the 'title' field to uppercase
toUpper("title");

```

### trim(fieldName, valueToTrim) {:#trim_c9f90ee}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that removes leading and trailing whitespace from a string or byte array.

<b>Signature:</b>

```typescript
export declare function trim(fieldName: string, valueToTrim?: string | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field containing the string or byte array. |
|  valueToTrim | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Optional This parameter is treated as a set of characters or bytes that will be trimmed from the input. If not specified, then whitespace will be trimmed. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the trimmed string.

### Example


```typescript
// Trim whitespace from the 'userInput' field
trim("userInput");

// Trim quotes from the 'userInput' field
trim("userInput", '"');

```

### type(fieldName) {:#type_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the data type of the data in the specified field.

<b>Signature:</b>

```typescript
export declare function type(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string |  |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the data type.

### Example


```typescript
// Get the data type of the value in field 'title'
type('title')

```

### unixMicrosToTimestamp(fieldName) {:#unixmicrostotimestamp_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that interprets a field's value as the number of microseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp.

<b>Signature:</b>

```typescript
export declare function unixMicrosToTimestamp(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the number of microseconds since epoch. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the timestamp.

### Example


```typescript
// Interpret the 'microseconds' field as microseconds since epoch.
unixMicrosToTimestamp("microseconds");

```

### unixMillisToTimestamp(fieldName) {:#unixmillistotimestamp_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that interprets a field's value as the number of milliseconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp.

<b>Signature:</b>

```typescript
export declare function unixMillisToTimestamp(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the number of milliseconds since epoch. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the timestamp.

### Example


```typescript
// Interpret the 'milliseconds' field as milliseconds since epoch.
unixMillisToTimestamp("milliseconds");

```

### unixSecondsToTimestamp(fieldName) {:#unixsecondstotimestamp_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that interprets a field's value as the number of seconds since the Unix epoch (1970-01-01 00:00:00 UTC) and returns a timestamp.

<b>Signature:</b>

```typescript
export declare function unixSecondsToTimestamp(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the number of seconds since epoch. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the timestamp.

### Example


```typescript
// Interpret the 'seconds' field as seconds since epoch.
unixSecondsToTimestamp("seconds");

```

### vectorLength(fieldName) {:#vectorlength_e5b0480}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of a Firestore Vector represented by a field.

<b>Signature:</b>

```typescript
export declare function vectorLength(fieldName: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldName | string | The name of the field representing the Firestore Vector. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the array.

### Example


```typescript
// Get the vector length (dimension) of the field 'embedding'.
vectorLength("embedding");

```

## function(first, ...)

### add(first, second) {:#add_846ca1b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that adds two expressions together.

<b>Signature:</b>

```typescript
export declare function add(first: Expression, second: Expression | unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to add. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal to add. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the addition operation.

### Example


```typescript
// Add the value of the 'quantity' field and the 'reserve' field.
add(field("quantity"), field("reserve"));

```

### and(first, second, more) {:#and_e0c48bd}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a logical 'AND' operation on multiple filter conditions.

<b>Signature:</b>

```typescript
export declare function and(first: BooleanExpression, second: BooleanExpression, ...more: BooleanExpression[]): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The first filter condition. |
|  second | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The second filter condition. |
|  more | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)<!-- -->\[\] | Additional filter conditions to 'AND' together. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical 'AND' operation.

### Example


```typescript
// Check if the 'age' field is greater than 18 AND the 'city' field is "London" AND
// the 'status' field is "active"
const condition = and(greaterThan("age", 18), equal("city", "London"), equal("status", "active"));

```

### concat(first, second, others) {:#concat_83be015}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that concatenates strings, arrays, or blobs. Types cannot be mixed.

<b>Signature:</b>

```typescript
export declare function concat(first: Expression, second: Expression | unknown, ...others: Array<Expression | unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expressions to concatenate. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second literal or expression to concatenate. |
|  others | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | Additional literals or expressions to concatenate. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the concatenation.

### Example


```typescript
// Concatenate the 'firstName' and 'lastName' fields with a space in between.
concat(field("firstName"), " ", field("lastName"))

```

### logicalMaximum(first, second, others) {:#logicalmaximum_83be015}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the largest value between multiple input expressions or literal values. Based on Firestore's value type ordering.

<b>Signature:</b>

```typescript
export declare function logicalMaximum(first: Expression, second: Expression | unknown, ...others: Array<Expression | unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first operand expression. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal. |
|  others | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | Optional additional expressions or literals. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical maximum operation.

### Example


```typescript
// Returns the largest value between the 'field1' field, the 'field2' field,
// and 1000
logicalMaximum(field("field1"), field("field2"), 1000);

```

### logicalMinimum(first, second, others) {:#logicalminimum_83be015}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the smallest value between multiple input expressions and literal values. Based on Firestore's value type ordering.

<b>Signature:</b>

```typescript
export declare function logicalMinimum(first: Expression, second: Expression | unknown, ...others: Array<Expression | unknown>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first operand expression. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal. |
|  others | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown&gt; | Optional additional expressions or literals. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical minimum operation.

### Example


```typescript
// Returns the smallest value between the 'field1' field, the 'field2' field,
// and 1000.
logicalMinimum(field("field1"), field("field2"), 1000);

```

### multiply(first, second) {:#multiply_846ca1b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that multiplies two expressions together.

<b>Signature:</b>

```typescript
export declare function multiply(first: Expression, second: Expression | unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to multiply. |
|  second | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The second expression or literal to multiply. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the multiplication operation.

### Example


```typescript
// Multiply the 'quantity' field by the 'price' field
multiply(field("quantity"), field("price"));

```

### or(first, second, more) {:#or_e0c48bd}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a logical 'OR' operation on multiple filter conditions.

<b>Signature:</b>

```typescript
export declare function or(first: BooleanExpression, second: BooleanExpression, ...more: BooleanExpression[]): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The first filter condition. |
|  second | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The second filter condition. |
|  more | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)<!-- -->\[\] | Additional filter conditions to 'OR' together. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical 'OR' operation.

### Example


```typescript
// Check if the 'age' field is greater than 18 OR the 'city' field is "London" OR
// the 'status' field is "active"
const condition = or(greaterThan("age", 18), equal("city", "London"), equal("status", "active"));

```

### xor(first, second, additionalConditions) {:#xor_8197113}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a logical 'XOR' (exclusive OR) operation on multiple BooleanExpressions.

<b>Signature:</b>

```typescript
export declare function xor(first: BooleanExpression, second: BooleanExpression, ...additionalConditions: BooleanExpression[]): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  first | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The first condition. |
|  second | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The second condition. |
|  additionalConditions | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)<!-- -->\[\] | Additional conditions to 'XOR' together. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the logical 'XOR' operation.

### Example


```typescript
// Check if only one of the conditions is true: 'age' greater than 18, 'city' is "London",
// or 'status' is "active".
const condition = xor(
    greaterThan("age", 18),
    equal("city", "London"),
    equal("status", "active"));

```

## function(firstArray, ...)

### arrayConcat(firstArray, secondArray, otherArrays) {:#arrayconcat_c00d5d7}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that concatenates an array expression with other arrays.

<b>Signature:</b>

```typescript
export declare function arrayConcat(firstArray: Expression, secondArray: Expression | unknown[], ...otherArrays: Array<Expression | unknown[]>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firstArray | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first array expression to concatenate to. |
|  secondArray | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown\[\] | The second array expression or array literal to concatenate to. |
|  otherArrays | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown\[\]&gt; | Optional additional array expressions or array literals to concatenate. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the concatenated array.

### Example


```typescript
// Combine the 'items' array with two new item arrays
arrayConcat(field("items"), [field("newItems"), field("otherItems")]);

```

## function(firstArrayField, ...)

### arrayConcat(firstArrayField, secondArray, otherArrays) {:#arrayconcat_f92063d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that concatenates a field's array value with other arrays.

<b>Signature:</b>

```typescript
export declare function arrayConcat(firstArrayField: string, secondArray: Expression | unknown[], ...otherArrays: Array<Expression | unknown[]>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firstArrayField | string | The first array to concatenate to. |
|  secondArray | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown\[\] | The second array expression or array literal to concatenate to. |
|  otherArrays | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown\[\]&gt; | Optional additional array expressions or array literals to concatenate. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the concatenated array.

### Example


```typescript
// Combine the 'items' array with two new item arrays
arrayConcat("items", [field("newItems"), field("otherItems")]);

```

## function(firstMap, ...)

### mapMerge(firstMap, secondMap, otherMaps) {:#mapmerge_cfe77ce}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that merges multiple map values.

<b>Signature:</b>

```typescript
export declare function mapMerge(firstMap: Record<string, unknown> | Expression, secondMap: Record<string, unknown> | Expression, ...otherMaps: Array<Record<string, unknown> | Expression>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firstMap | Record&lt;string, unknown&gt; \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression or literal map value that will be merged. |
|  secondMap | Record&lt;string, unknown&gt; \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | A required second map to merge. Represented as a literal or an expression that returns a map. |
|  otherMaps | Array&lt;Record&lt;string, unknown&gt; \| [Expression](./firestore_lite_pipelines.expression.md#expression_class)<!-- -->&gt; | Optional additional maps to merge. Each map is represented as a literal or an expression that returns a map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### Example


```
// Merges the map in the settings field with, a map literal, and a map in
// that is conditionally returned by another expression
mapMerge(field('settings'), { enabled: true }, conditional(field('isAdmin'), { admin: true}, {})

```

## function(firstString, ...)

### stringConcat(firstString, secondString, otherStrings) {:#stringconcat_8a8d1b6}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that concatenates string expressions together.

<b>Signature:</b>

```typescript
export declare function stringConcat(firstString: Expression, secondString: Expression | string, ...otherStrings: Array<Expression | string>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firstString | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The initial string expression to concatenate to. |
|  secondString | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| string | An expression or string literal to concatenate. |
|  otherStrings | Array&lt;[Expression](./firestore_lite_pipelines.expression.md#expression_class) \| string&gt; | Optional additional expressions or literals (typically strings) to concatenate. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the concatenated string.

### Example


```typescript
// Combine the 'firstName', " ", and 'lastName' fields into a single string
stringConcat(field("firstName"), " ", field("lastName"));

```

## function(ifExpr, ...)

### ifAbsent(ifExpr, elseExpr) {:#ifabsent_0e6d161}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `elseExpr` argument if `ifExpr` is absent, else return the result of the `ifExpr` argument evaluation.

<b>Signature:</b>

```typescript
export declare function ifAbsent(ifExpr: Expression, elseExpr: Expression): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  ifExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check for absence. |
|  elseExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression that will be evaluated and returned if \[ifExpr\] is absent. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the ifAbsent operation.

### Example


```typescript
// Returns the value of the optional field 'optional_field', or returns 'default_value'
// if the field is absent.
ifAbsent(field("optional_field"), constant("default_value"))

```

### ifAbsent(ifExpr, elseValue) {:#ifabsent_c34e5ed}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `elseValue` argument if `ifExpr` is absent, else return the result of the `ifExpr` argument evaluation.

<b>Signature:</b>

```typescript
export declare function ifAbsent(ifExpr: Expression, elseValue: unknown): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  ifExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check for absence. |
|  elseValue | unknown | The value that will be returned if <code>ifExpr</code> evaluates to an absent value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new \[Expression\] representing the ifAbsent operation.

### Example


```typescript
// Returns the value of the optional field 'optional_field', or returns 'default_value'
// if the field is absent.
ifAbsent(field("optional_field"), "default_value")

```

## function(ifFieldName, ...)

### ifAbsent(ifFieldName, elseExpr) {:#ifabsent_e6dabea}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `elseExpr` argument if `ifFieldName` is absent, else return the value of the field.

<b>Signature:</b>

```typescript
export declare function ifAbsent(ifFieldName: string, elseExpr: Expression): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  ifFieldName | string | The field to check for absence. |
|  elseExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression that will be evaluated and returned if <code>ifFieldName</code> is absent. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the ifAbsent operation.

### Example


```typescript
// Returns the value of the optional field 'optional_field', or returns the value of
// 'default_field' if 'optional_field' is absent.
ifAbsent("optional_field", field("default_field"))

```

### ifAbsent(ifFieldName, elseValue) {:#ifabsent_d8f2823}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `elseValue` argument if `ifFieldName` is absent, else return the value of the field.

<b>Signature:</b>

```typescript
export declare function ifAbsent(ifFieldName: string | Expression, elseValue: Expression | unknown): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  ifFieldName | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The field to check for absence. |
|  elseValue | [Expression](./firestore_lite_pipelines.expression.md#expression_class) \| unknown | The value that will be returned if \[ifFieldName\] is absent. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new Expression representing the ifAbsent operation.

### Example


```typescript
// Returns the value of the optional field 'optional_field', or returns 'default_value'
// if the field is absent.
ifAbsent("optional_field", "default_value")

```

## function(input, ...)

### substring(input, position, length) {:#substring_e6e0aa3}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns a substring of a string or byte array.

<b>Signature:</b>

```typescript
export declare function substring(input: Expression, position: number, length?: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  input | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression returning a string or byte array to compute the substring from. |
|  position | number | Index of the first character of the substring. |
|  length | number | Length of the substring. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### substring(input, position, length) {:#substring_ab56dc6}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns a substring of a string or byte array.

<b>Signature:</b>

```typescript
export declare function substring(input: Expression, position: Expression, length?: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  input | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression returning a string or byte array to compute the substring from. |
|  position | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that returns the index of the first character of the substring. |
|  length | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that returns the length of the substring. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

## function(left, ...)

### divide(left, right) {:#divide_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that divides two expressions.

<b>Signature:</b>

```typescript
export declare function divide(left: Expression, right: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to be divided. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to divide by. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the division operation.

### Example


```typescript
// Divide the 'total' field by the 'count' field
divide(field("total"), field("count"));

```

### equal(left, right) {:#equal_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if two expressions are equal.

<b>Signature:</b>

```typescript
export declare function equal(left: Expression, right: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to compare. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The second expression to compare. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the equality comparison.

### Example


```typescript
// Check if the 'age' field is equal to an expression
equal(field("age"), field("minAge").add(10));

```

### greaterThan(left, right) {:#greaterthan_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if the first expression is greater than the second expression.

<b>Signature:</b>

```typescript
export declare function greaterThan(left: Expression, right: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to compare. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The second expression to compare. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than comparison.

### Example


```typescript
// Check if the 'age' field is greater than 18
greaterThan(field("age"), Constant(9).add(9));

```

### greaterThanOrEqual(left, right) {:#greaterthanorequal_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if the first expression is greater than or equal to the second expression.

<b>Signature:</b>

```typescript
export declare function greaterThanOrEqual(left: Expression, right: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to compare. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The second expression to compare. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the greater than or equal to comparison.

### Example


```typescript
// Check if the 'quantity' field is greater than or equal to the field "threshold"
greaterThanOrEqual(field("quantity"), field("threshold"));

```

### lessThan(left, right) {:#lessthan_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if the first expression is less than the second expression.

<b>Signature:</b>

```typescript
export declare function lessThan(left: Expression, right: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to compare. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The second expression to compare. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than comparison.

### Example


```typescript
// Check if the 'age' field is less than 30
lessThan(field("age"), field("limit"));

```

### lessThanOrEqual(left, right) {:#lessthanorequal_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if the first expression is less than or equal to the second expression.

<b>Signature:</b>

```typescript
export declare function lessThanOrEqual(left: Expression, right: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to compare. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The second expression to compare. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the less than or equal to comparison.

### Example


```typescript
// Check if the 'quantity' field is less than or equal to 20
lessThan(field("quantity"), field("limit"));

```

### mod(left, right) {:#mod_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the modulo (remainder) of dividing two expressions.

<b>Signature:</b>

```typescript
export declare function mod(left: Expression, right: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The dividend expression. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The divisor expression. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the modulo operation.

### Example


```typescript
// Calculate the remainder of dividing 'field1' by 'field2'.
mod(field("field1"), field("field2"));

```

### notEqual(left, right) {:#notequal_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if two expressions are not equal.

<b>Signature:</b>

```typescript
export declare function notEqual(left: Expression, right: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first expression to compare. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The second expression to compare. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Expression` representing the inequality comparison.

### Example


```typescript
// Check if the 'status' field is not equal to field 'finalState'
notEqual(field("status"), field("finalState"));

```

### subtract(left, right) {:#subtract_b3c3382}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts two expressions.

<b>Signature:</b>

```typescript
export declare function subtract(left: Expression, right: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to subtract from. |
|  right | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to subtract. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the subtraction operation.

### Example


```typescript
// Subtract the 'discount' field from the 'price' field
subtract(field("price"), field("discount"));

```

## function(mapExpr, ...)

### mapRemove(mapExpr, key) {:#mapremove_23c7d51}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that removes a key from the map produced by evaluating an expression.

<b>Signature:</b>

```typescript
export declare function mapRemove(mapExpr: Expression, key: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression return a map value. |
|  key | string | The name of the key to remove from the input map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### Example


```
// Removes the key 'baz' from the input map.
mapRemove(map({foo: 'bar', baz: true}), 'baz');
@example

```

### mapRemove(mapExpr, keyExpr) {:#mapremove_9fbcaa3}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that removes a key from the map produced by evaluating an expression.

<b>Signature:</b>

```typescript
export declare function mapRemove(mapExpr: Expression, keyExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression return a map value. |
|  keyExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that produces the name of the key to remove from the input map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### Example


```
// Removes the key 'baz' from the input map.
mapRemove(map({foo: 'bar', baz: true}), constant('baz'));
@example

```

## function(mapExpression, ...)

### mapEntries(mapExpression) {:#mapentries_9cf124c}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the entries of a map as an array of maps, where each map contains a `"k"` property for the key and a `"v"` property for the value. For example: `[{ k: "key1", v: "value1" }, ...]`<!-- -->.

<b>Signature:</b>

```typescript
export declare function mapEntries(mapExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the map to get the entries of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the entries of the map.

### Example


```typescript
// Get the entries of the map expression
mapEntries(map({"city": "San Francisco"}));

```

### mapGet(mapExpression, subField) {:#mapget_688c050}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Accesses a value from a map (object) expression using the provided key.

<b>Signature:</b>

```typescript
export declare function mapGet(mapExpression: Expression, subField: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the map. |
|  subField | string | The key to access in the map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the value associated with the given key in the map.

### Example


```typescript
// Get the 'city' value from the 'address' map field
mapGet(field("address"), "city");

```

### mapKeys(mapExpression) {:#mapkeys_9cf124c}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the keys of a map.

While the backend generally preserves insertion order, relying on the order of the output array is not guaranteed and should be avoided.

<b>Signature:</b>

```typescript
export declare function mapKeys(mapExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the map to get the keys of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the keys of the map.

### Example


```typescript
// Get the keys of the map expression
mapKeys(map({"city": "San Francisco"}));

```

### mapSet(mapExpression, key, value, moreKeyValues) {:#mapset_45b48ff}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns a new map with the specified entries added or updated.

Note that `mapSet` only performs shallow updates to the map. Setting a value to `null` will retain the key with a `null` value. To remove a key entirely, use `mapRemove`<!-- -->.

<b>Signature:</b>

```typescript
export declare function mapSet(mapExpression: Expression, key: string | Expression, value: unknown, ...moreKeyValues: unknown[]): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the map. |
|  key | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The key to set. Must be a string or a constant string expression. |
|  value | unknown | The value to set. |
|  moreKeyValues | unknown\[\] | Additional key-value pairs to set. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the map with the entries set.

### Example


```typescript
// Set the 'city' to "San Francisco"
mapSet(map({"state": "California"}), "city", "San Francisco");

```

### mapValues(mapExpression) {:#mapvalues_9cf124c}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the values of a map.

While the backend generally preserves insertion order, relying on the order of the output array is not guaranteed and should be avoided.

<b>Signature:</b>

```typescript
export declare function mapValues(mapExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the map to get the values of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the values of the map.

### Example


```typescript
// Get the values of the map expression
mapValues(map({"city": "San Francisco"}));

```

## function(mapField, ...)

### mapEntries(mapField) {:#mapentries_83ad836}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the entries of a map as an array of maps, where each map contains a `"k"` property for the key and a `"v"` property for the value. For example: `[{ k: "key1", v: "value1" }, ...]`<!-- -->.

<b>Signature:</b>

```typescript
export declare function mapEntries(mapField: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | The map field to get the entries of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the entries of the map.

### Example


```typescript
// Get the entries of the 'address' map field
mapEntries("address");

```

### mapKeys(mapField) {:#mapkeys_83ad836}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the keys of a map.

While the backend generally preserves insertion order, relying on the order of the output array is not guaranteed and should be avoided.

<b>Signature:</b>

```typescript
export declare function mapKeys(mapField: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | The map field to get the keys of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the keys of the map.

### Example


```typescript
// Get the keys of the 'address' map field
mapKeys("address");

```

### mapMerge(mapField, secondMap, otherMaps) {:#mapmerge_70a564b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that merges multiple map values.

<b>Signature:</b>

```typescript
export declare function mapMerge(mapField: string, secondMap: Record<string, unknown> | Expression, ...otherMaps: Array<Record<string, unknown> | Expression>): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | Name of a field containing a map value that will be merged. |
|  secondMap | Record&lt;string, unknown&gt; \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | A required second map to merge. Represented as a literal or an expression that returns a map. |
|  otherMaps | Array&lt;Record&lt;string, unknown&gt; \| [Expression](./firestore_lite_pipelines.expression.md#expression_class)<!-- -->&gt; | Optional additional maps to merge. Each map is represented as a literal or an expression that returns a map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### Example


```
// Merges the map in the settings field with, a map literal, and a map in
// that is conditionally returned by another expression
mapMerge('settings', { enabled: true }, conditional(field('isAdmin'), { admin: true}, {})

```

### mapRemove(mapField, key) {:#mapremove_bd5726e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that removes a key from the map at the specified field name.

<b>Signature:</b>

```typescript
export declare function mapRemove(mapField: string, key: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | The name of a field containing a map value. |
|  key | string | The name of the key to remove from the input map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### Example


```
// Removes the key 'city' field from the map in the address field of the input document.
mapRemove('address', 'city');

```

### mapRemove(mapField, keyExpr) {:#mapremove_8406d13}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that removes a key from the map at the specified field name.

<b>Signature:</b>

```typescript
export declare function mapRemove(mapField: string, keyExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | The name of a field containing a map value. |
|  keyExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression that produces the name of the key to remove from the input map. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

### Example


```
// Removes the key 'city' field from the map in the address field of the input document.
mapRemove('address', constant('city'));

```

### mapSet(mapField, key, value, moreKeyValues) {:#mapset_baadc2a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns a new map with the specified entries added or updated.

Note that `mapSet` only performs shallow updates to the map. Setting a value to `null` will retain the key with a `null` value. To remove a key entirely, use `mapRemove`<!-- -->.

<b>Signature:</b>

```typescript
export declare function mapSet(mapField: string, key: string | Expression, value: unknown, ...moreKeyValues: unknown[]): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | The map field to set entries in. |
|  key | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The key to set. Must be a string or a constant string expression. |
|  value | unknown | The value to set. |
|  moreKeyValues | unknown\[\] | Additional key-value pairs to set. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the map with the entries set.

### Example


```typescript
// Set the 'city' to 'San Francisco' in the 'address' map field
mapSet("address", "city", "San Francisco");

```

### mapValues(mapField) {:#mapvalues_83ad836}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the values of a map.

While the backend generally preserves insertion order, relying on the order of the output array is not guaranteed and should be avoided.

<b>Signature:</b>

```typescript
export declare function mapValues(mapField: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  mapField | string | The map field to get the values of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the values of the map.

### Example


```typescript
// Get the values of the 'address' map field
mapValues("address");

```

## function(name, ...)

### field(name) {:#field_1eaaff4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a [Field](./firestore_pipelines.field.md#field_class) instance representing the field at the given path.

The path can be a simple field name (e.g., "name") or a dot-separated path to a nested field (e.g., "address.city").

<b>Signature:</b>

```typescript
export declare function field(name: string): Field;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  name | string | The path to the field. |

<b>Returns:</b>

[Field](./firestore_lite_pipelines.field.md#field_class)

A new [Field](./firestore_pipelines.field.md#field_class) instance representing the specified field.

### Example


```typescript
// Create a Field instance for the 'title' field
const titleField = field("title");

// Create a Field instance for a nested field 'author.firstName'
const authorFirstNameField = field("author.firstName");

```

## function(path, ...)

### field(path) {:#field_34ee07d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a [Field](./firestore_pipelines.field.md#field_class) instance representing the field at the given path.

<b>Signature:</b>

```typescript
export declare function field(path: FieldPath): Field;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  path | [FieldPath](./firestore_lite.fieldpath.md#fieldpath_class) | A FieldPath specifying the field. |

<b>Returns:</b>

[Field](./firestore_lite_pipelines.field.md#field_class)

A new [Field](./firestore_pipelines.field.md#field_class) instance representing the specified field.

## function(pipeline, ...)

### execute(pipeline) {:#execute_01df620}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Executes this pipeline and returns a Promise to represent the asynchronous operation.

The returned Promise can be used to track the progress of the pipeline execution and retrieve the results (or handle any errors) asynchronously.

The pipeline results are returned as a [PipelineSnapshot](./firestore_pipelines.pipelinesnapshot.md#pipelinesnapshot_class) that contains a list of [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) objects. Each [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) typically represents a single key/value map that has passed through all the stages of the pipeline, however this might differ depending on the stages involved in the pipeline. For example:

<ul> <li>If there are no stages or only transformation stages, each [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) represents a single document.</li> <li>If there is an aggregation, only a single [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) is returned, representing the aggregated results over the entire dataset .</li> <li>If there is an aggregation stage with grouping, each [PipelineResult](./firestore_pipelines.pipelineresult.md#pipelineresult_class) represents a distinct group and its associated aggregated values.</li> </ul>

<b>Signature:</b>

```typescript
export declare function execute(pipeline: Pipeline): Promise<PipelineSnapshot>;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  pipeline | [Pipeline](./firestore_lite_pipelines.pipeline.md#pipeline_class) | The pipeline to execute. |

<b>Returns:</b>

Promise&lt;[PipelineSnapshot](./firestore_lite_pipelines.pipelinesnapshot.md#pipelinesnapshot_class)<!-- -->&gt;

A Promise representing the asynchronous pipeline execution.

### Example


```typescript
const snapshot: PipelineSnapshot = await execute(firestore.pipeline().collection("books")
    .where(gt(field("rating"), 4.5))
    .select("title", "author", "rating"));

const results: PipelineResults = snapshot.results;

```

## function(stringExpression, ...)

### charLength(stringExpression) {:#charlength_c25a54a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the character length of a string expression in UTF-8.

<b>Signature:</b>

```typescript
export declare function charLength(stringExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to calculate the length of. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the string.

### Example


```typescript
// Get the character length of the 'name' field in UTF-8.
strLength(field("name"));

```

### endsWith(stringExpression, suffix) {:#endswith_0a0b889}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression ends with a given postfix.

<b>Signature:</b>

```typescript
export declare function endsWith(stringExpression: Expression, suffix: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check. |
|  suffix | string | The postfix to check for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ends with' comparison.

### Example


```typescript
// Check if the result of concatenating 'firstName' and 'lastName' fields ends with "Jr."
endsWith(field("fullName"), "Jr.");

```

### endsWith(stringExpression, suffix) {:#endswith_13aee0d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression ends with a given postfix.

<b>Signature:</b>

```typescript
export declare function endsWith(stringExpression: Expression, suffix: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check. |
|  suffix | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The postfix to check for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ends with' comparison.

### Example


```typescript
// Check if the result of concatenating 'firstName' and 'lastName' fields ends with "Jr."
endsWith(field("fullName"), constant("Jr."));

```

### like(stringExpression, pattern) {:#like_a84c581}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a case-sensitive wildcard string comparison.

<b>Signature:</b>

```typescript
export declare function like(stringExpression: Expression, pattern: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to perform the comparison on. |
|  pattern | string | The pattern to search for. You can use "%" as a wildcard character. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'like' comparison.

### Example


```typescript
// Check if the 'title' field contains the string "guide"
like(field("title"), "%guide%");

```

### like(stringExpression, pattern) {:#like_b534848}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that performs a case-sensitive wildcard string comparison.

<b>Signature:</b>

```typescript
export declare function like(stringExpression: Expression, pattern: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to perform the comparison on. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The pattern to search for. You can use "%" as a wildcard character. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'like' comparison.

### Example


```typescript
// Check if the 'title' field contains the string "guide"
like(field("title"), field("pattern"));

```

### regexContains(stringExpression, pattern) {:#regexcontains_a84c581}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression contains a specified regular expression as a substring.

<b>Signature:</b>

```typescript
export declare function regexContains(stringExpression: Expression, pattern: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to perform the comparison on. |
|  pattern | string | The regular expression to use for the search. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains "example" (case-insensitive)
regexContains(field("description"), "(?i)example");

```

### regexContains(stringExpression, pattern) {:#regexcontains_b534848}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression contains a specified regular expression as a substring.

<b>Signature:</b>

```typescript
export declare function regexContains(stringExpression: Expression, pattern: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to perform the comparison on. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to use for the search. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains "example" (case-insensitive)
regexContains(field("description"), field("pattern"));

```

### regexFind(stringExpression, pattern) {:#regexfind_a84c581}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the first substring of a string expression that matches a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFind(stringExpression: Expression, pattern: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to search. |
|  pattern | string | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression find function.

### Example


```typescript
// Extract the domain from a lower-cased email address
regexFind(field("email"), "@[A-Za-z0-9.-]+");

```

### regexFind(stringExpression, pattern) {:#regexfind_b534848}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the first substring of a string expression that matches a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFind(stringExpression: Expression, pattern: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to search. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression find function.

### Example


```typescript
// Extract a substring based on a dynamic pattern field
regexFind(field("email"), field("pattern"));

```

### regexFindAll(stringExpression, pattern) {:#regexfindall_a84c581}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that evaluates to a list of all substrings in a string expression that match a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFindAll(stringExpression: Expression, pattern: string): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to search. |
|  pattern | string | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [FunctionExpression](./firestore_pipelines.functionexpression.md#functionexpression_class) that evaluates to an array of matched substrings.

### Example


```typescript
// Extract all mentions from a lower-cased comment
regexFindAll(field("comment"), "@[A-Za-z0-9_]+");

```

### regexFindAll(stringExpression, pattern) {:#regexfindall_b534848}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that evaluates to a list of all substrings in a string expression that match a specified regular expression.

This expression uses the [RE2](https://github.com/google/re2/wiki/Syntax) regular expression syntax.

<b>Signature:</b>

```typescript
export declare function regexFindAll(stringExpression: Expression, pattern: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to search. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to search for. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [FunctionExpression](./firestore_pipelines.functionexpression.md#functionexpression_class) that evaluates to an array of matched substrings.

### Example


```typescript
// Extract all matches based on a dynamic pattern expression
regexFindAll(field("comment"), field("pattern"));

```

### regexMatch(stringExpression, pattern) {:#regexmatch_a84c581}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression matches a specified regular expression.

<b>Signature:</b>

```typescript
export declare function regexMatch(stringExpression: Expression, pattern: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to match against. |
|  pattern | string | The regular expression to use for the match. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression match.

### Example


```typescript
// Check if the 'email' field matches a valid email pattern
regexMatch(field("email"), "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}");

```

### regexMatch(stringExpression, pattern) {:#regexmatch_b534848}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression matches a specified regular expression.

<b>Signature:</b>

```typescript
export declare function regexMatch(stringExpression: Expression, pattern: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to match against. |
|  pattern | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The regular expression to use for the match. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the regular expression match.

### Example


```typescript
// Check if the 'email' field matches a valid email pattern
regexMatch(field("email"), field("pattern"));

```

### reverse(stringExpression) {:#reverse_c25a54a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that reverses a string.

<b>Signature:</b>

```typescript
export declare function reverse(stringExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a string value, which will be reversed. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the reversed string.

### Example


```typescript
// Reverse the value of the 'myString' field.
reverse(field("myString"));

```

### startsWith(stringExpression, prefix) {:#startswith_75c3dbb}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression starts with a given prefix.

<b>Signature:</b>

```typescript
export declare function startsWith(stringExpression: Expression, prefix: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check. |
|  prefix | string | The prefix to check for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'starts with' comparison.

### Example


```typescript
// Check if the result of concatenating 'firstName' and 'lastName' fields starts with "Mr."
startsWith(field("fullName"), "Mr.");

```

### startsWith(stringExpression, prefix) {:#startswith_52f218a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression starts with a given prefix.

<b>Signature:</b>

```typescript
export declare function startsWith(stringExpression: Expression, prefix: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check. |
|  prefix | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The prefix to check for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'starts with' comparison.

### Example


```typescript
// Check if the result of concatenating 'firstName' and 'lastName' fields starts with "Mr."
startsWith(field("fullName"), field("prefix"));

```

### stringContains(stringExpression, substring) {:#stringcontains_3e9ff32}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression contains a specified substring.

<b>Signature:</b>

```typescript
export declare function stringContains(stringExpression: Expression, substring: string): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to perform the comparison on. |
|  substring | string | The substring to search for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains "example".
stringContains(field("description"), "example");

```

### stringContains(stringExpression, substring) {:#stringcontains_cc6ee02}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a string expression contains a substring specified by another expression.

<b>Signature:</b>

```typescript
export declare function stringContains(stringExpression: Expression, substring: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to perform the comparison on. |
|  substring | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the substring to search for. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'contains' comparison.

### Example


```typescript
// Check if the 'description' field contains the value of the 'keyword' field.
stringContains(field("description"), field("keyword"));

```

### stringReverse(stringExpression) {:#stringreverse_c25a54a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that reverses a string.

<b>Signature:</b>

```typescript
export declare function stringReverse(stringExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluating to a string value, which will be reversed. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the reversed string.

### Example


```typescript
// Reverse the value of the 'myString' field.
strReverse(field("myString"));

```

### toLower(stringExpression) {:#tolower_c25a54a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a string expression to lowercase.

<b>Signature:</b>

```typescript
export declare function toLower(stringExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to convert to lowercase. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the lowercase string.

### Example


```typescript
// Convert the 'name' field to lowercase
toLower(field("name"));

```

### toUpper(stringExpression) {:#toupper_c25a54a}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that converts a string expression to uppercase.

<b>Signature:</b>

```typescript
export declare function toUpper(stringExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string to convert to uppercase. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the uppercase string.

### Example


```typescript
// Convert the 'title' field to uppercase
toUppercase(field("title"));

```

### trim(stringExpression, valueToTrim) {:#trim_dd54322}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that removes leading and trailing characters from a string or byte array expression.

<b>Signature:</b>

```typescript
export declare function trim(stringExpression: Expression, valueToTrim?: string | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  stringExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the string or byte array to trim. |
|  valueToTrim | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Optional This parameter is treated as a set of characters or bytes that will be trimmed from the input. If not specified, then whitespace will be trimmed. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the trimmed string or byte array.

### Example


```typescript
// Trim whitespace from the 'userInput' field
trim(field("userInput"));

// Trim quotes from the 'userInput' field
trim(field("userInput"), '"');

```

## function(timestamp, ...)

### timestampAdd(timestamp, unit, amount) {:#timestampadd_98418f9}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that adds a specified amount of time to a timestamp.

<b>Signature:</b>

```typescript
export declare function timestampAdd(timestamp: Expression, unit: Expression, amount: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  timestamp | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |
|  unit | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression evaluates to unit of time, must be one of 'microsecond', 'millisecond', 'second', 'minute', 'hour', 'day'. |
|  amount | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression evaluates to amount of the unit. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the resulting timestamp.

### Example


```typescript
// Add some duration determined by field 'unit' and 'amount' to the 'timestamp' field.
timestampAdd(field("timestamp"), field("unit"), field("amount"));

```

### timestampAdd(timestamp, unit, amount) {:#timestampadd_ffe8e57}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that adds a specified amount of time to a timestamp.

<b>Signature:</b>

```typescript
export declare function timestampAdd(timestamp: Expression, unit: 'microsecond' | 'millisecond' | 'second' | 'minute' | 'hour' | 'day', amount: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  timestamp | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |
|  unit | 'microsecond' \| 'millisecond' \| 'second' \| 'minute' \| 'hour' \| 'day' | The unit of time to add (e.g., "day", "hour"). |
|  amount | number | The amount of time to add. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the resulting timestamp.

### Example


```typescript
// Add 1 day to the 'timestamp' field.
timestampAdd(field("timestamp"), "day", 1);

```

### timestampSubtract(timestamp, unit, amount) {:#timestampsubtract_98418f9}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts a specified amount of time from a timestamp.

<b>Signature:</b>

```typescript
export declare function timestampSubtract(timestamp: Expression, unit: Expression, amount: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  timestamp | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |
|  unit | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression evaluates to unit of time, must be one of 'microsecond', 'millisecond', 'second', 'minute', 'hour', 'day'. |
|  amount | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression evaluates to amount of the unit. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the resulting timestamp.

### Example


```typescript
// Subtract some duration determined by field 'unit' and 'amount' from the 'timestamp' field.
timestampSubtract(field("timestamp"), field("unit"), field("amount"));

```

### timestampSubtract(timestamp, unit, amount) {:#timestampsubtract_ffe8e57}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that subtracts a specified amount of time from a timestamp.

<b>Signature:</b>

```typescript
export declare function timestampSubtract(timestamp: Expression, unit: 'microsecond' | 'millisecond' | 'second' | 'minute' | 'hour' | 'day', amount: number): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  timestamp | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the timestamp. |
|  unit | 'microsecond' \| 'millisecond' \| 'second' \| 'minute' \| 'hour' \| 'day' | The unit of time to subtract (e.g., "day", "hour"). |
|  amount | number | The amount of time to subtract. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the resulting timestamp.

### Example


```typescript
// Subtract 1 day from the 'timestamp' field.
timestampSubtract(field("timestamp"), "day", 1);

```

## function(timestampExpression, ...)

### timestampTruncate(timestampExpression, granularity, timezone) {:#timestamptruncate_ad5d843}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that truncates a timestamp to a specified granularity.

<b>Signature:</b>

```typescript
export declare function timestampTruncate(timestampExpression: Expression, granularity: TimeGranularity, timezone?: string | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  timestampExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Truncate the timestamp value that is returned by this expression. |
|  granularity | [TimeGranularity](./firestore_lite_pipelines.md#timegranularity) | The granularity to truncate to. |
|  timezone | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The timezone to use for truncation. Valid values are from the TZ database (e.g., "America/Los\_Angeles") or in the format "Etc/GMT-1". |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the truncated timestamp.

### Example


```typescript
// Truncate the 'createdAt' timestamp to the beginning of the day.
field('createdAt').timestampTruncate('day')

```

### timestampTruncate(timestampExpression, granularity, timezone) {:#timestamptruncate_d6ab2a4}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that truncates a timestamp to a specified granularity.

<b>Signature:</b>

```typescript
export declare function timestampTruncate(timestampExpression: Expression, granularity: Expression, timezone?: string | Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  timestampExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | Truncate the timestamp value that is returned by this expression. |
|  granularity | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The granularity to truncate to. |
|  timezone | string \| [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The timezone to use for truncation. Valid values are from the TZ database (e.g., "America/Los\_Angeles") or in the format "Etc/GMT-1". |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new `Expression` representing the truncated timestamp.

### Example


```typescript
// Truncate the 'createdAt' timestamp to the granularity specified in the field 'granularity'.
field('createdAt').timestampTruncate(field('granularity'))

```

## function(tryExpr, ...)

### ifError(tryExpr, catchExpr) {:#iferror_a99a327}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `catch` argument if there is an error, else return the result of the `try` argument evaluation.

This overload is useful when a BooleanExpression is required.

<b>Signature:</b>

```typescript
export declare function ifError(tryExpr: BooleanExpression, catchExpr: BooleanExpression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  tryExpr | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The try expression. |
|  catchExpr | [BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class) | The catch expression that will be evaluated and returned if the tryExpr produces an error. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ifError' operation.

### Example


```typescript
// Create an expression that protects against a divide by zero error
// but always returns a boolean expression.
ifError(constant(50).divide('length').gt(1), constant(false));

```

### ifError(tryExpr, catchExpr) {:#iferror_756c12e}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `catch` argument if there is an error, else return the result of the `try` argument evaluation.

<b>Signature:</b>

```typescript
export declare function ifError(tryExpr: Expression, catchExpr: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  tryExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The try expression. |
|  catchExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The catch expression that will be evaluated and returned if the tryExpr produces an error. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ifError' operation.

### Example


```typescript
// Returns the first item in the title field arrays, or returns
// the entire title field if the array is empty or the field is another type.
ifError(field("title").arrayGet(0), field("title"));

```

### ifError(tryExpr, catchValue) {:#iferror_dc532f9}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns the `catch` argument if there is an error, else return the result of the `try` argument evaluation.

<b>Signature:</b>

```typescript
export declare function ifError(tryExpr: Expression, catchValue: unknown): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  tryExpr | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The try expression. |
|  catchValue | unknown | The value that will be returned if the tryExpr produces an error. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'ifError' operation.

### Example


```typescript
// Returns the first item in the title field arrays, or returns
// "Default Title"
ifError(field("title").arrayGet(0), "Default Title");

```

## function(value, ...)

### constant(value) {:#constant_0c00f91}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a number value.

<b>Signature:</b>

```typescript
export declare function constant(value: number): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | number | The number value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_6dac335}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a VectorValue value.

<b>Signature:</b>

```typescript
export declare function constant(value: VectorValue): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The VectorValue value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_7c807cd}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a string value.

<b>Signature:</b>

```typescript
export declare function constant(value: string): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | string | The string value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_b2e4f8d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `BooleanExpression` instance for a boolean value.

<b>Signature:</b>

```typescript
export declare function constant(value: boolean): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | boolean | The boolean value. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new `Constant` instance.

### constant(value) {:#constant_73ebd84}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a null value.

<b>Signature:</b>

```typescript
export declare function constant(value: null): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | null | The null value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_72a76cb}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a GeoPoint value.

<b>Signature:</b>

```typescript
export declare function constant(value: GeoPoint): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [GeoPoint](./firestore_lite.geopoint.md#geopoint_class) | The GeoPoint value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_000477d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a Timestamp value.

<b>Signature:</b>

```typescript
export declare function constant(value: Timestamp): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [Timestamp](./firestore_lite.timestamp.md#timestamp_class) | The Timestamp value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_5131bf7}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a Date value.

<b>Signature:</b>

```typescript
export declare function constant(value: Date): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | Date | The Date value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_fdf565d}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a Bytes value.

<b>Signature:</b>

```typescript
export declare function constant(value: Bytes): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [Bytes](./firestore_lite.bytes.md#bytes_class) | The Bytes value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### constant(value) {:#constant_bcd2b0b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates a `Constant` instance for a DocumentReference value.

<b>Signature:</b>

```typescript
export declare function constant(value: DocumentReference): Expression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class) | The DocumentReference value. |

<b>Returns:</b>

[Expression](./firestore_lite_pipelines.expression.md#expression_class)

A new `Constant` instance.

### exists(value) {:#exists_f3daf14}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a field exists.

<b>Signature:</b>

```typescript
export declare function exists(value: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | An expression evaluates to the name of the field to check. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'exists' check.

### Example


```typescript
// Check if the document has a field named "phoneNumber"
exists(field("phoneNumber"));

```

### isAbsent(value) {:#isabsent_f3daf14}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that returns `true` if a value is absent. Otherwise, returns `false` even if the value is `null`<!-- -->.

<b>Signature:</b>

```typescript
export declare function isAbsent(value: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'isAbsent' check.

### Example


```typescript
// Check if the field `value` is absent.
isAbsent(field("value"));

```

### isError(value) {:#iserror_f3daf14}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that checks if a given expression produces an error.

<b>Signature:</b>

```typescript
export declare function isError(value: Expression): BooleanExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  value | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression to check. |

<b>Returns:</b>

[BooleanExpression](./firestore_lite_pipelines.booleanexpression.md#booleanexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the 'isError' check.

### Example


```typescript
// Check if the result of a calculation is an error
isError(field("title").arrayContains(1));

```

## function(vectorExpression, ...)

### cosineDistance(vectorExpression, vector) {:#cosinedistance_3a80317}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Cosine distance between a vector expression and a vector literal.

<b>Signature:</b>

```typescript
export declare function cosineDistance(vectorExpression: Expression, vector: number[] | VectorValue): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first vector (represented as an <code>Expression</code>) to compare against. |
|  vector | number\[\] \| [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The other vector (as an array of doubles or VectorValue) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the cosine distance between the two vectors.

### Example


```typescript
// Calculate the cosine distance between the 'location' field and a target location
cosineDistance(field("location"), [37.7749, -122.4194]);

```

### cosineDistance(vectorExpression, otherVectorExpression) {:#cosinedistance_17b5bcc}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Cosine distance between two vector expressions.

<b>Signature:</b>

```typescript
export declare function cosineDistance(vectorExpression: Expression, otherVectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first vector (represented as an <code>Expression</code>) to compare against. |
|  otherVectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The other vector (represented as an <code>Expression</code>) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the cosine distance between the two vectors.

### Example


```typescript
// Calculate the cosine distance between the 'userVector' field and the 'itemVector' field
cosineDistance(field("userVector"), field("itemVector"));

```

### dotProduct(vectorExpression, vector) {:#dotproduct_3a80317}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the dot product between a vector expression and a double array.

<b>Signature:</b>

```typescript
export declare function dotProduct(vectorExpression: Expression, vector: number[] | VectorValue): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first vector (represented as an <code>Expression</code>) to calculate with. |
|  vector | number\[\] \| [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The other vector (as an array of doubles or VectorValue) to calculate with. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the dot product between the two vectors.

### Example


```typescript
// Calculate the dot product between a feature vector and a target vector
dotProduct(field("features"), [0.5, 0.8, 0.2]);

```

### dotProduct(vectorExpression, otherVectorExpression) {:#dotproduct_17b5bcc}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the dot product between two vector expressions.

<b>Signature:</b>

```typescript
export declare function dotProduct(vectorExpression: Expression, otherVectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first vector (represented as an <code>Expression</code>) to calculate with. |
|  otherVectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The other vector (represented as an <code>Expression</code>) to calculate with. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the dot product between the two vectors.

### Example


```typescript
// Calculate the dot product between two document vectors: 'docVector1' and 'docVector2'
dotProduct(field("docVector1"), field("docVector2"));

```

### euclideanDistance(vectorExpression, vector) {:#euclideandistance_3a80317}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Euclidean distance between a vector expression and a double array.

<b>Signature:</b>

```typescript
export declare function euclideanDistance(vectorExpression: Expression, vector: number[] | VectorValue): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first vector (represented as an <code>Expression</code>) to compare against. |
|  vector | number\[\] \| [VectorValue](./firestore_lite.vectorvalue.md#vectorvalue_class) | The other vector (as an array of doubles or VectorValue) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the Euclidean distance between the two vectors.

### Example


```typescript
// Calculate the Euclidean distance between the 'location' field and a target location

euclideanDistance(field("location"), [37.7749, -122.4194]);

```

### euclideanDistance(vectorExpression, otherVectorExpression) {:#euclideandistance_17b5bcc}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Calculates the Euclidean distance between two vector expressions.

<b>Signature:</b>

```typescript
export declare function euclideanDistance(vectorExpression: Expression, otherVectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The first vector (represented as an <code>Expression</code>) to compare against. |
|  otherVectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The other vector (represented as an <code>Expression</code>) to compare against. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the Euclidean distance between the two vectors.

### Example


```typescript
// Calculate the Euclidean distance between two vector fields: 'pointA' and 'pointB'
euclideanDistance(field("pointA"), field("pointB"));

```

### vectorLength(vectorExpression) {:#vectorlength_58a039b}

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Creates an expression that calculates the length of a Firestore Vector.

<b>Signature:</b>

```typescript
export declare function vectorLength(vectorExpression: Expression): FunctionExpression;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  vectorExpression | [Expression](./firestore_lite_pipelines.expression.md#expression_class) | The expression representing the Firestore Vector. |

<b>Returns:</b>

[FunctionExpression](./firestore_lite_pipelines.functionexpression.md#functionexpression_class)

A new [Expression](./firestore_pipelines.expression.md#expression_class) representing the length of the array.

### Example


```typescript
// Get the vector length (dimension) of the field 'embedding'.
vectorLength(field("embedding"));

```

## AddFieldsStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how an AddFieldsStage is evaluated. See [Pipeline.addFields()](./firestore_pipelines.pipeline.md#pipelineaddfields)<!-- -->.

<b>Signature:</b>

```typescript
export declare type AddFieldsStageOptions = StageOptions & {
    fields: Selectable[];
};
```

## AggregateStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how an AggregateStage is evaluated. See [Pipeline.aggregate()](./firestore_pipelines.pipeline.md#pipelineaggregate)<!-- -->.

<b>Signature:</b>

```typescript
export declare type AggregateStageOptions = StageOptions & {
    accumulators: AliasedAggregate[];
    groups?: Array<string | Selectable>;
};
```

## CollectionGroupStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Defines the configuration options for a CollectionGroupStage within a pipeline. This type extends [StageOptions](./firestore_pipelines.stageoptions.md#stageoptions_interface) and provides specific settings for how a collection group is identified and processed during pipeline execution.

See [PipelineSource.collectionGroup()](./firestore_pipelines.pipelinesource.md#pipelinesourcecollectiongroup) to create a collection group stage.

<b>Signature:</b>

```typescript
export declare type CollectionGroupStageOptions = StageOptions & {
    collectionId: string;
    forceIndex?: string;
};
```

## CollectionStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a CollectionStage is evaluated. See [PipelineSource.collection()](./firestore_pipelines.pipelinesource.md#pipelinesourcecollection)<!-- -->.

<b>Signature:</b>

```typescript
export declare type CollectionStageOptions = StageOptions & {
    collection: string | Query;
    forceIndex?: string;
};
```

## DatabaseStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a DatabaseStage is evaluated. See [PipelineSource.database()](./firestore_pipelines.pipelinesource.md#pipelinesourcedatabase)<!-- -->.

<b>Signature:</b>

```typescript
export declare type DatabaseStageOptions = StageOptions & {};
```

## DistinctStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a DistinctStage is evaluated. See [Pipeline.distinct()](./firestore_pipelines.pipeline.md#pipelinedistinct)<!-- -->.

<b>Signature:</b>

```typescript
export declare type DistinctStageOptions = StageOptions & {
    groups: Array<string | Selectable>;
};
```

## DocumentsStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a DocumentsStage is evaluated. See [PipelineSource.documents()](./firestore_pipelines.pipelinesource.md#pipelinesourcedocuments)<!-- -->.

<b>Signature:</b>

```typescript
export declare type DocumentsStageOptions = StageOptions & {
    docs: Array<string | DocumentReference>;
};
```

## ExpressionType

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

An enumeration of the different types of expressions.

<b>Signature:</b>

```typescript
export declare type ExpressionType = 'Field' | 'Constant' | 'Function' | 'AggregateFunction' | 'ListOfExpressions' | 'AliasedExpression';
```

## FindNearestStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a FindNearestStage is evaluated. See [Pipeline.findNearest()](./firestore_pipelines.pipeline.md#pipelinefindnearest)<!-- -->.

<b>Signature:</b>

```typescript
export declare type FindNearestStageOptions = StageOptions & {
    field: Field | string;
    vectorValue: VectorValue | number[];
    distanceMeasure: 'euclidean' | 'cosine' | 'dot_product';
    limit?: number;
    distanceField?: string;
};
```

## LimitStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a LimitStage is evaluated. See [Pipeline.limit()](./firestore_pipelines.pipeline.md#pipelinelimit)<!-- -->.

<b>Signature:</b>

```typescript
export declare type LimitStageOptions = StageOptions & {
    limit: number;
};
```

## OffsetStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how an OffsetStage is evaluated. See [Pipeline.offset()](./firestore_pipelines.pipeline.md#pipelineoffset)<!-- -->.

<b>Signature:</b>

```typescript
export declare type OffsetStageOptions = StageOptions & {
    offset: number;
};
```

## OneOf

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Utility type to create an type that only allows one property of the Type param T to be set.

<b>Signature:</b>

```typescript
export declare type OneOf<T> = {
    [K in keyof T]: Pick<T, K> & {
        [P in Exclude<keyof T, K>]?: undefined;
    };
}[keyof T];
```

### Example


```
type XorY = OneOf<{ x: unknown, y: unknown }>
let a = { x: "foo" }           // OK
let b = { y: "foo" }           // OK
let c = { a: "foo", y: "foo" } // Not OK

```

## PartialWithFieldValue

Similar to TypeScript's `Partial<T>`<!-- -->, but allows nested fields to be omitted and FieldValues to be passed in as property values.

<b>Signature:</b>

```typescript
export declare type PartialWithFieldValue<T> = Partial<T> | (T extends Primitive ? T : T extends {} ? {
    [K in keyof T]?: PartialWithFieldValue<T[K]> | FieldValue;
} : never);
```

## Primitive

Primitive types.

<b>Signature:</b>

```typescript
export declare type Primitive = string | number | boolean | undefined | null;
```

## RemoveFieldsStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a RemoveFieldsStage is evaluated. See [Pipeline.removeFields()](./firestore_pipelines.pipeline.md#pipelineremovefields)<!-- -->.

<b>Signature:</b>

```typescript
export declare type RemoveFieldsStageOptions = StageOptions & {
    fields: Array<Field | string>;
};
```

## ReplaceWithStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a ReplaceWithStage is evaluated. See [Pipeline.replaceWith()](./firestore_pipelines.pipeline.md#pipelinereplacewith)<!-- -->.

<b>Signature:</b>

```typescript
export declare type ReplaceWithStageOptions = StageOptions & {
    map: Expression | string;
};
```

## SampleStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Defines the options for evaluating a sample stage within a pipeline. This type combines common [StageOptions](./firestore_pipelines.stageoptions.md#stageoptions_interface) with a specific configuration where only one of the defined sampling methods can be applied.

See [Pipeline.sample()](./firestore_pipelines.pipeline.md#pipelinesample) to create a sample stage..

<b>Signature:</b>

```typescript
export declare type SampleStageOptions = StageOptions & OneOf<{
    percentage: number;
    documents: number;
}>;
```

## SelectStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a SelectStage is evaluated. See [Pipeline.select()](./firestore_pipelines.pipeline.md#pipelineselect)<!-- -->.

<b>Signature:</b>

```typescript
export declare type SelectStageOptions = StageOptions & {
    selections: Array<Selectable | string>;
};
```

## SetOptions

An options object that configures the behavior of [setDoc()](./firestore_lite.md#setdoc_ee215ad)<!-- -->,  and  calls. These calls can be configured to perform granular merges instead of overwriting the target documents in their entirety by providing a `SetOptions` with `merge: true`<!-- -->.

<b>Signature:</b>

```typescript
export declare type SetOptions = {
    readonly merge?: boolean;
} | {
    readonly mergeFields?: Array<string | FieldPath>;
};
```

## SortStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a SortStage is evaluated. See [Pipeline.sort()](./firestore_pipelines.pipeline.md#pipelinesort)<!-- -->.

<b>Signature:</b>

```typescript
export declare type SortStageOptions = StageOptions & {
    orderings: Ordering[];
};
```

## TimeGranularity

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Specify time granularity for expressions.

<b>Signature:</b>

```typescript
export declare type TimeGranularity = 'microsecond' | 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'week(monday)' | 'week(tuesday)' | 'week(wednesday)' | 'week(thursday)' | 'week(friday)' | 'week(saturday)' | 'week(sunday)' | 'isoWeek' | 'month' | 'quarter' | 'year' | 'isoYear';
```

## UnionStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a UnionStage is evaluated. See [Pipeline.union()](./firestore_pipelines.pipeline.md#pipelineunion)<!-- -->.

<b>Signature:</b>

```typescript
export declare type UnionStageOptions = StageOptions & {
    other: Pipeline;
};
```

## UnnestStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Represents the specific options available for configuring an `UnnestStage` within a pipeline.

<b>Signature:</b>

```typescript
export declare type UnnestStageOptions = StageOptions & {
    selectable: Selectable;
    indexField?: string;
};
```

## WhereStageOptions

> This API is provided as a preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Options defining how a WhereStage is evaluated. See [Pipeline.where()](./firestore_pipelines.pipeline.md#pipelinewhere)<!-- -->.

<b>Signature:</b>

```typescript
export declare type WhereStageOptions = StageOptions & {
    condition: BooleanExpression;
};
```

## WithFieldValue

Allows FieldValues to be passed in as a property value while maintaining type safety.

<b>Signature:</b>

```typescript
export declare type WithFieldValue<T> = T | (T extends Primitive ? T : T extends {} ? {
    [K in keyof T]: WithFieldValue<T[K]> | FieldValue;
} : never);
```
