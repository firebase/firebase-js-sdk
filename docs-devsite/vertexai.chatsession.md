Project: /docs/reference/js/_project.yaml
Book: /docs/reference/_book.yaml
page_type: reference

{% comment %}
DO NOT EDIT THIS FILE!
This is generated by the JS SDK team, and any local changes will be
overwritten. Changes should be made in the source code at
https://github.com/firebase/firebase-js-sdk
{% endcomment %}

# ChatSession class
ChatSession class that enables sending chat messages and stores history of sent and received messages so far.

<b>Signature:</b>

```typescript
export declare class ChatSession 
```

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(apiSettings, model, params, requestOptions)](./vertexai.chatsession.md#chatsessionconstructor) |  | Constructs a new instance of the <code>ChatSession</code> class |

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [model](./vertexai.chatsession.md#chatsessionmodel) |  | string |  |
|  [params](./vertexai.chatsession.md#chatsessionparams) |  | [StartChatParams](./vertexai.startchatparams.md#startchatparams_interface) \| undefined |  |
|  [requestOptions](./vertexai.chatsession.md#chatsessionrequestoptions) |  | [RequestOptions](./vertexai.requestoptions.md#requestoptions_interface) \| undefined |  |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [getHistory()](./vertexai.chatsession.md#chatsessiongethistory) |  | Gets the chat history so far. Blocked prompts are not added to history. Neither blocked candidates nor the prompts that generated them are added to history. |
|  [sendMessage(request)](./vertexai.chatsession.md#chatsessionsendmessage) |  | Sends a chat message and receives a non-streaming [GenerateContentResult](./vertexai.generatecontentresult.md#generatecontentresult_interface) |
|  [sendMessageStream(request)](./vertexai.chatsession.md#chatsessionsendmessagestream) |  | Sends a chat message and receives the response as a [GenerateContentStreamResult](./vertexai.generatecontentstreamresult.md#generatecontentstreamresult_interface) containing an iterable stream and a response promise. |

## ChatSession.(constructor)

Constructs a new instance of the `ChatSession` class

<b>Signature:</b>

```typescript
constructor(apiSettings: ApiSettings, model: string, params?: StartChatParams | undefined, requestOptions?: RequestOptions | undefined);
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  apiSettings | ApiSettings |  |
|  model | string |  |
|  params | [StartChatParams](./vertexai.startchatparams.md#startchatparams_interface) \| undefined |  |
|  requestOptions | [RequestOptions](./vertexai.requestoptions.md#requestoptions_interface) \| undefined |  |

## ChatSession.model

<b>Signature:</b>

```typescript
model: string;
```

## ChatSession.params

<b>Signature:</b>

```typescript
params?: StartChatParams | undefined;
```

## ChatSession.requestOptions

<b>Signature:</b>

```typescript
requestOptions?: RequestOptions | undefined;
```

## ChatSession.getHistory()

Gets the chat history so far. Blocked prompts are not added to history. Neither blocked candidates nor the prompts that generated them are added to history.

<b>Signature:</b>

```typescript
getHistory(): Promise<Content[]>;
```
<b>Returns:</b>

Promise&lt;[Content](./vertexai.content.md#content_interface)<!-- -->\[\]&gt;

## ChatSession.sendMessage()

Sends a chat message and receives a non-streaming [GenerateContentResult](./vertexai.generatecontentresult.md#generatecontentresult_interface)

<b>Signature:</b>

```typescript
sendMessage(request: string | Array<string | Part>): Promise<GenerateContentResult>;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  request | string \| Array&lt;string \| [Part](./vertexai.md#part)<!-- -->&gt; |  |

<b>Returns:</b>

Promise&lt;[GenerateContentResult](./vertexai.generatecontentresult.md#generatecontentresult_interface)<!-- -->&gt;

## ChatSession.sendMessageStream()

Sends a chat message and receives the response as a [GenerateContentStreamResult](./vertexai.generatecontentstreamresult.md#generatecontentstreamresult_interface) containing an iterable stream and a response promise.

<b>Signature:</b>

```typescript
sendMessageStream(request: string | Array<string | Part>): Promise<GenerateContentStreamResult>;
```

#### Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  request | string \| Array&lt;string \| [Part](./vertexai.md#part)<!-- -->&gt; |  |

<b>Returns:</b>

Promise&lt;[GenerateContentStreamResult](./vertexai.generatecontentstreamresult.md#generatecontentstreamresult_interface)<!-- -->&gt;

